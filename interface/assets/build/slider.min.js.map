{"version":3,"file":"slider.min.js.map","sources":["../src/slider/index.js"],"sourcesContent":["/**\r\n * Based on: https://github.com/sachinchoolur/lightslider\r\n *\r\n * Changed:\r\n *\r\n * - Refactor and modernize (in process)\r\n * - Remove dependency on image files\r\n *   Now using CSS background with URL data, but consider plain SVG for flexible styling\r\n */\r\n\r\nconst $ = jQuery\r\n\r\nconst defaults = {\r\n  mode: 'slide',\r\n\r\n  loop: true,\r\n  speed: 800, // 400\r\n  auto: false,\r\n  pause: 5000, // 2000\r\n  //pauseOnHover: true,\r\n\r\n  item: 1, // 3\r\n  thumbItem: 9,\r\n\r\n  controls: true,\r\n  pager: true,\r\n  gallery: false,\r\n\r\n  adaptiveHeight: false,\r\n  enableDrag: true,\r\n\r\n  autoWidth: false,\r\n  slideMove: 1, // Will be 1 if loop is true\r\n  slideMargin: 10,\r\n\r\n  addClass: '',\r\n\r\n  useCSS: true,\r\n  cssEasing: '', // 'ease', //'cubic-bezier(0.25, 0, 0.25, 1)',\r\n  easing: 'linear', // for jquery animation\r\n\r\n  pauseOnHover: false,\r\n  slideEndAnimation: true,\r\n\r\n  keyPress: false,\r\n\r\n  prevHtml: '',\r\n  nextHtml: '',\r\n  rtl: false,\r\n\r\n  vertical: false,\r\n  verticalHeight: 500,\r\n  vThumbWidth: 100,\r\n\r\n  galleryMargin: 5,\r\n  thumbMargin: 5,\r\n  currentPagerPosition: 'middle',\r\n  enableTouch: true,\r\n\r\n  freeMove: true,\r\n  swipeThreshold: 40,\r\n  responsive: [],\r\n\r\n  onBeforeStart: function ($el) {},\r\n  onSliderLoad: function ($el) {},\r\n  onBeforeSlide: function ($el, scene) {},\r\n  onAfterSlide: function ($el, scene) {},\r\n  onBeforeNextSlide: function ($el, scene) {},\r\n  onBeforePrevSlide: function ($el, scene) {},\r\n}\r\n\r\nconst fadeModeDefaults = {\r\n  mode: 'fade',\r\n\r\n  speed: 1200,\r\n  auto: true,\r\n  enableDrag: false,\r\n}\r\n\r\n$.fn.tangibleSlider = function (options = {}) {\r\n  if (this.length === 0) {\r\n    return this\r\n  }\r\n\r\n  if (this.length > 1) {\r\n    this.each(function () {\r\n      $(this).tangibleSlider(options)\r\n    })\r\n    return this\r\n  }\r\n\r\n  if (this[0].tangibleSliderLoaded) return\r\n  this[0].tangibleSliderLoaded = true\r\n\r\n  // Support options from element's data attribtue\r\n\r\n  let optionsFromElement = this.data('tangibleDynamicModuleOptions')\r\n\r\n  if (optionsFromElement) {\r\n    try {\r\n      optionsFromElement = JSON.parse(optionsFromElement)\r\n    } catch (e) {\r\n      /* OK */\r\n    }\r\n  }\r\n  if (\r\n    optionsFromElement &&\r\n    typeof optionsFromElement === 'object' &&\r\n    !Array.isArray(optionsFromElement)\r\n  ) {\r\n    // Valid options\r\n    Object.assign(options, optionsFromElement)\r\n  }\r\n\r\n  // Aliases\r\n\r\n  const aliases = {\r\n    drag: 'enableDrag',\r\n  }\r\n\r\n  for (const alias of Object.keys(aliases)) {\r\n    if (typeof options[alias] === 'undefined') continue\r\n    const key = aliases[alias]\r\n    options[key] = options[alias]\r\n    delete options[alias]\r\n  }\r\n\r\n  var plugin = {},\r\n    settings = $.extend(true, {}, defaults, options),\r\n    settingsTemp = {},\r\n    $el = this\r\n\r\n  plugin.$el = this\r\n\r\n  if (settings.mode === 'fade') {\r\n    settings.vertical = false\r\n  }\r\n  var $children = $el.children(),\r\n    windowW = $(window).width(),\r\n    breakpoint = null,\r\n    resposiveObj = null,\r\n    length = 0,\r\n    w = 0,\r\n    on = false,\r\n    elSize = 0,\r\n    $slide = '',\r\n    scene = 0,\r\n    property = settings.vertical === true ? 'height' : 'width',\r\n    gutter = settings.vertical === true ? 'margin-bottom' : 'margin-right',\r\n    slideValue = 0,\r\n    pagerWidth = 0,\r\n    slideWidth = 0,\r\n    thumbWidth = 0,\r\n    interval = null,\r\n    isTouch = 'ontouchstart' in document.documentElement\r\n\r\n  if ($children.length < 2) {\r\n    // One or zero slides\r\n    settings.controls = false\r\n    settings.pager = false\r\n    settings.loop = false\r\n    settings.enableDrag = false\r\n  }\r\n\r\n  var refresh = {}\r\n\r\n  refresh.chbreakpoint = function () {\r\n    windowW = $(window).width()\r\n    if (settings.responsive.length) {\r\n      var item\r\n      if (settings.autoWidth === false) {\r\n        item = settings.item\r\n      }\r\n      if (windowW < settings.responsive[0].breakpoint) {\r\n        for (var i = 0; i < settings.responsive.length; i++) {\r\n          if (windowW < settings.responsive[i].breakpoint) {\r\n            breakpoint = settings.responsive[i].breakpoint\r\n            resposiveObj = settings.responsive[i]\r\n          }\r\n        }\r\n      }\r\n      if (typeof resposiveObj !== 'undefined' && resposiveObj !== null) {\r\n        for (var j in resposiveObj.settings) {\r\n          if (resposiveObj.settings.hasOwnProperty(j)) {\r\n            if (\r\n              typeof settingsTemp[j] === 'undefined' ||\r\n              settingsTemp[j] === null\r\n            ) {\r\n              settingsTemp[j] = settings[j]\r\n            }\r\n            settings[j] = resposiveObj.settings[j]\r\n          }\r\n        }\r\n      }\r\n      if (\r\n        !$.isEmptyObject(settingsTemp) &&\r\n        windowW > settings.responsive[0].breakpoint\r\n      ) {\r\n        for (var k in settingsTemp) {\r\n          if (settingsTemp.hasOwnProperty(k)) {\r\n            settings[k] = settingsTemp[k]\r\n          }\r\n        }\r\n      }\r\n      if (settings.autoWidth === false) {\r\n        if (slideValue > 0 && slideWidth > 0) {\r\n          if (item !== settings.item) {\r\n            scene = Math.round(\r\n              slideValue /\r\n                ((slideWidth + settings.slideMargin) * settings.slideMove)\r\n            )\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  refresh.calSW = function () {\r\n    if (settings.autoWidth === false) {\r\n      slideWidth =\r\n        (elSize -\r\n          (settings.item * settings.slideMargin - settings.slideMargin)) /\r\n        settings.item\r\n    }\r\n  }\r\n\r\n  refresh.calWidth = function (cln) {\r\n    var ln = cln === true ? $slide.find('.tslide').length : $children.length\r\n    if (settings.autoWidth === false) {\r\n      w = ln * (slideWidth + settings.slideMargin)\r\n    } else {\r\n      w = 0\r\n      for (var i = 0; i < ln; i++) {\r\n        w += parseInt($children.eq(i).width()) + settings.slideMargin\r\n      }\r\n    }\r\n    return w\r\n  }\r\n  plugin = {\r\n    doCss: function () {\r\n      var support = function () {\r\n        var transition = [\r\n          'transition',\r\n          'MozTransition',\r\n          'WebkitTransition',\r\n          'OTransition',\r\n          'msTransition',\r\n          'KhtmlTransition',\r\n        ]\r\n        var root = document.documentElement\r\n        for (var i = 0; i < transition.length; i++) {\r\n          if (transition[i] in root.style) {\r\n            return true\r\n          }\r\n        }\r\n      }\r\n      if (settings.useCSS && support()) {\r\n        return true\r\n      }\r\n      return false\r\n    },\r\n    keyPress: function () {\r\n      if (settings.keyPress) {\r\n        $(document).on('keyup.lightslider', function (e) {\r\n          if (!$(':focus').is('input, textarea')) {\r\n            if (e.preventDefault) {\r\n              e.preventDefault()\r\n            } else {\r\n              e.returnValue = false\r\n            }\r\n            if (e.keyCode === 37) {\r\n              $el.goToPrevSlide()\r\n            } else if (e.keyCode === 39) {\r\n              $el.goToNextSlide()\r\n            }\r\n          }\r\n        })\r\n      }\r\n    },\r\n    controls: function () {\r\n      if (!settings.controls) return\r\n      $el.after(\r\n        '<div class=\"tslider-action\"><a class=\"tslider-prev\">' +\r\n          settings.prevHtml +\r\n          '</a><a class=\"tslider-next\">' +\r\n          settings.nextHtml +\r\n          '</a></div>'\r\n      )\r\n      if (!settings.autoWidth) {\r\n        if (length <= settings.item) {\r\n          $slide.find('.tslider-action').hide()\r\n        }\r\n      } else {\r\n        if (refresh.calWidth(false) < elSize) {\r\n          $slide.find('.tslider-action').hide()\r\n        }\r\n      }\r\n      $slide.find('.tslider-action a').on('click', function (e) {\r\n        if (e.preventDefault) {\r\n          e.preventDefault()\r\n        } else {\r\n          e.returnValue = false\r\n        }\r\n        if ($(this).attr('class') === 'tslider-prev') {\r\n          $el.goToPrevSlide()\r\n        } else {\r\n          $el.goToNextSlide()\r\n        }\r\n        return false\r\n      })\r\n    },\r\n    initialStyle: function () {\r\n      var $this = this\r\n      if (settings.mode === 'fade') {\r\n        settings.autoWidth = false\r\n        settings.slideEndAnimation = false\r\n      }\r\n      if (settings.auto) {\r\n        settings.slideEndAnimation = false\r\n      }\r\n      if (settings.autoWidth) {\r\n        settings.slideMove = 1\r\n        settings.item = 1\r\n      }\r\n      if (settings.loop) {\r\n        settings.slideMove = 1\r\n        settings.freeMove = false\r\n      }\r\n      settings.onBeforeStart.call(this, $el)\r\n      refresh.chbreakpoint()\r\n      $el\r\n        .addClass('tslider')\r\n        .wrap(\r\n          '<div class=\"tslide-outer ' +\r\n            settings.addClass +\r\n            '\"><div class=\"tslide-wrapper\"></div></div>'\r\n        )\r\n      $slide = $el.parent('.tslide-wrapper')\r\n      if (settings.rtl === true) {\r\n        $slide.parent().addClass('tslider-rtl')\r\n      }\r\n      if (settings.vertical) {\r\n        $slide.parent().addClass('vertical')\r\n        elSize = settings.verticalHeight\r\n        $slide.css('height', elSize + 'px')\r\n      } else {\r\n        elSize = $el.outerWidth()\r\n      }\r\n      $children.addClass('tslide')\r\n      if (settings.loop === true && settings.mode === 'slide') {\r\n        refresh.calSW()\r\n        refresh.clone = function () {\r\n          if (refresh.calWidth(true) > elSize) {\r\n            /**/\r\n            var tWr = 0,\r\n              tI = 0\r\n            for (var k = 0; k < $children.length; k++) {\r\n              tWr +=\r\n                parseInt($el.find('.tslide').eq(k).width()) +\r\n                settings.slideMargin\r\n              tI++\r\n              if (tWr >= elSize + settings.slideMargin) {\r\n                break\r\n              }\r\n            }\r\n            var tItem = settings.autoWidth === true ? tI : settings.item\r\n\r\n            /**/\r\n            if (tItem < $el.find('.clone.left').length) {\r\n              for (var i = 0; i < $el.find('.clone.left').length - tItem; i++) {\r\n                $children.eq(i).remove()\r\n              }\r\n            }\r\n            if (tItem < $el.find('.clone.right').length) {\r\n              for (\r\n                var j = $children.length - 1;\r\n                j > $children.length - 1 - $el.find('.clone.right').length;\r\n                j--\r\n              ) {\r\n                scene--\r\n                $children.eq(j).remove()\r\n              }\r\n            }\r\n            /**/\r\n            for (var n = $el.find('.clone.right').length; n < tItem; n++) {\r\n              $el\r\n                .find('.tslide')\r\n                .eq(n)\r\n                .clone()\r\n                .removeClass('tslide')\r\n                .addClass('clone right')\r\n                .appendTo($el)\r\n              scene++\r\n            }\r\n            for (\r\n              var m =\r\n                $el.find('.tslide').length - $el.find('.clone.left').length;\r\n              m > $el.find('.tslide').length - tItem;\r\n              m--\r\n            ) {\r\n              $el\r\n                .find('.tslide')\r\n                .eq(m - 1)\r\n                .clone()\r\n                .removeClass('tslide')\r\n                .addClass('clone left')\r\n                .prependTo($el)\r\n            }\r\n            $children = $el.children()\r\n          } else {\r\n            if ($children.hasClass('clone')) {\r\n              $el.find('.clone').remove()\r\n              $this.move($el, 0)\r\n            }\r\n          }\r\n        }\r\n        refresh.clone()\r\n      }\r\n      refresh.sSW = function () {\r\n        length = $children.length\r\n        if (settings.rtl === true && settings.vertical === false) {\r\n          gutter = 'margin-left'\r\n        }\r\n        if (settings.autoWidth === false) {\r\n          $children.css(property, slideWidth + 'px')\r\n        }\r\n        $children.css(gutter, settings.slideMargin + 'px')\r\n        w = refresh.calWidth(false)\r\n        $el.css(property, w + 'px')\r\n        if (settings.loop === true && settings.mode === 'slide') {\r\n          if (on === false) {\r\n            scene = $el.find('.clone.left').length\r\n          }\r\n        }\r\n      }\r\n      refresh.calL = function () {\r\n        $children = $el.children()\r\n        length = $children.length\r\n      }\r\n      if (this.doCss()) {\r\n        $slide.addClass('usingCss')\r\n      }\r\n      refresh.calL()\r\n      if (settings.mode === 'slide') {\r\n        refresh.calSW()\r\n        refresh.sSW()\r\n        if (settings.loop === true) {\r\n          slideValue = $this.slideValue()\r\n          this.move($el, slideValue)\r\n        }\r\n        if (settings.vertical === false) {\r\n          this.setHeight($el, false)\r\n        }\r\n      } else {\r\n        this.setHeight($el, true)\r\n        $el.addClass('tslider-fade')\r\n        if (!this.doCss()) {\r\n          $children.fadeOut(0)\r\n          $children.eq(scene).fadeIn(0)\r\n        }\r\n      }\r\n      if (settings.loop === true && settings.mode === 'slide') {\r\n        $children.eq(scene).addClass('active')\r\n      } else {\r\n        $children.first().addClass('active')\r\n      }\r\n    },\r\n    pager: function () {\r\n      var $this = this\r\n      refresh.createPager = function () {\r\n        thumbWidth =\r\n          (elSize -\r\n            (settings.thumbItem * settings.thumbMargin -\r\n              settings.thumbMargin)) /\r\n          settings.thumbItem\r\n        var $children = $slide.find('.tslide')\r\n        var length = $slide.find('.tslide').length\r\n        var i = 0,\r\n          pagers = '',\r\n          v = 0\r\n        for (i = 0; i < length; i++) {\r\n          if (settings.mode === 'slide') {\r\n            // calculate scene * slide value\r\n            if (!settings.autoWidth) {\r\n              v = i * ((slideWidth + settings.slideMargin) * settings.slideMove)\r\n            } else {\r\n              v +=\r\n                (parseInt($children.eq(i).width()) + settings.slideMargin) *\r\n                settings.slideMove\r\n            }\r\n          }\r\n          var thumb = $children.eq(i * settings.slideMove).attr('data-thumb')\r\n          if (settings.gallery === true) {\r\n            pagers +=\r\n              '<li style=\"width:100%;' +\r\n              property +\r\n              ':' +\r\n              thumbWidth +\r\n              'px;' +\r\n              gutter +\r\n              ':' +\r\n              settings.thumbMargin +\r\n              'px\"><a href=\"#\"><img src=\"' +\r\n              thumb +\r\n              '\" /></a></li>'\r\n          } else {\r\n            pagers += '<li><a href=\"#\">' + (i + 1) + '</a></li>'\r\n          }\r\n          if (settings.mode === 'slide') {\r\n            if (v >= w - elSize - settings.slideMargin) {\r\n              i = i + 1\r\n              var minPgr = 2\r\n              if (settings.autoWidth) {\r\n                pagers += '<li><a href=\"#\">' + (i + 1) + '</a></li>'\r\n                minPgr = 1\r\n              }\r\n              if (i < minPgr) {\r\n                pagers = null\r\n                $slide.parent().addClass('noPager')\r\n              } else {\r\n                $slide.parent().removeClass('noPager')\r\n              }\r\n              break\r\n            }\r\n          }\r\n        }\r\n        var $cSouter = $slide.parent()\r\n        $cSouter.find('.tslider-pager').html(pagers)\r\n        if (settings.gallery === true) {\r\n          if (settings.vertical === true) {\r\n            // set Gallery thumbnail width\r\n            $cSouter\r\n              .find('.tslider-pager')\r\n              .css('width', settings.vThumbWidth + 'px')\r\n          }\r\n          pagerWidth = i * (settings.thumbMargin + thumbWidth) + 0.5\r\n          $cSouter.find('.tslider-pager').css({\r\n            property: pagerWidth + 'px',\r\n            'transition-duration': settings.speed + 'ms',\r\n          })\r\n          if (settings.vertical === true) {\r\n            $slide\r\n              .parent()\r\n              .css(\r\n                'padding-right',\r\n                settings.vThumbWidth + settings.galleryMargin + 'px'\r\n              )\r\n          }\r\n          $cSouter.find('.tslider-pager').css(property, pagerWidth + 'px')\r\n        }\r\n        var $pager = $cSouter.find('.tslider-pager').find('li')\r\n        $pager.first().addClass('active')\r\n        $pager.on('click', function () {\r\n          if (settings.loop === true && settings.mode === 'slide') {\r\n            scene =\r\n              scene +\r\n              ($pager.index(this) -\r\n                $cSouter.find('.tslider-pager').find('li.active').index())\r\n          } else {\r\n            scene = $pager.index(this)\r\n          }\r\n          $el.mode(false)\r\n          if (settings.gallery === true) {\r\n            $this.slideThumb()\r\n          }\r\n          return false\r\n        })\r\n      }\r\n      if (settings.pager) {\r\n        var cl = 'tslider-pager'\r\n        if (settings.gallery) {\r\n          cl = 'tslider-gallery'\r\n        }\r\n        $slide.after('<ul class=\"tslider-pager ' + cl + '\"></ul>')\r\n        var gMargin = settings.vertical ? 'margin-left' : 'margin-top'\r\n        $slide\r\n          .parent()\r\n          .find('.tslider-pager')\r\n          .css(gMargin, settings.galleryMargin + 'px')\r\n        refresh.createPager()\r\n      }\r\n\r\n      setTimeout(function () {\r\n        refresh.init()\r\n      }, 0)\r\n    },\r\n    setHeight: function (ob, fade) {\r\n      var obj = null,\r\n        $this = this\r\n      if (settings.loop) {\r\n        obj = ob.children('.tslide ').first()\r\n      } else {\r\n        obj = ob.children().first()\r\n      }\r\n      var setCss = function () {\r\n        var tH = obj.outerHeight(),\r\n          tP = 0,\r\n          tHT = tH\r\n        if (fade) {\r\n          tH = 0\r\n          tP = (tHT * 100) / elSize\r\n        }\r\n        ob.css({\r\n          height: tH + 'px',\r\n          'padding-bottom': tP + '%',\r\n        })\r\n      }\r\n      setCss()\r\n      if (obj.find('img').length) {\r\n        if (obj.find('img')[0].complete) {\r\n          setCss()\r\n          if (!interval) {\r\n            $this.auto()\r\n          }\r\n        } else {\r\n          obj.find('img').on('load', function () {\r\n            setTimeout(function () {\r\n              setCss()\r\n              if (!interval) {\r\n                $this.auto()\r\n              }\r\n            }, 100)\r\n          })\r\n        }\r\n      } else {\r\n        if (!interval) {\r\n          $this.auto()\r\n        }\r\n      }\r\n    },\r\n    active: function (ob, t) {\r\n      if (this.doCss() && settings.mode === 'fade') {\r\n        $slide.addClass('on')\r\n      }\r\n      var sc = 0\r\n      if (scene * settings.slideMove < length) {\r\n        ob.removeClass('active')\r\n        if (!this.doCss() && settings.mode === 'fade' && t === false) {\r\n          ob.fadeOut(settings.speed)\r\n        }\r\n        if (t === true) {\r\n          sc = scene\r\n        } else {\r\n          sc = scene * settings.slideMove\r\n        }\r\n        //t === true ? sc = scene : sc = scene * settings.slideMove;\r\n        var l, nl\r\n        if (t === true) {\r\n          l = ob.length\r\n          nl = l - 1\r\n          if (sc + 1 >= l) {\r\n            sc = nl\r\n          }\r\n        }\r\n        if (settings.loop === true && settings.mode === 'slide') {\r\n          //t === true ? sc = scene - $el.find('.clone.left').length : sc = scene * settings.slideMove;\r\n          if (t === true) {\r\n            sc = scene - $el.find('.clone.left').length\r\n          } else {\r\n            sc = scene * settings.slideMove\r\n          }\r\n          if (t === true) {\r\n            l = ob.length\r\n            nl = l - 1\r\n            if (sc + 1 === l) {\r\n              sc = nl\r\n            } else if (sc + 1 > l) {\r\n              sc = 0\r\n            }\r\n          }\r\n        }\r\n\r\n        if (!this.doCss() && settings.mode === 'fade' && t === false) {\r\n          ob.eq(sc).fadeIn(settings.speed)\r\n        }\r\n        ob.eq(sc).addClass('active')\r\n      } else {\r\n        ob.removeClass('active')\r\n        ob.eq(ob.length - 1).addClass('active')\r\n        if (!this.doCss() && settings.mode === 'fade' && t === false) {\r\n          ob.fadeOut(settings.speed)\r\n          ob.eq(sc).fadeIn(settings.speed)\r\n        }\r\n      }\r\n    },\r\n    move: function (ob, v) {\r\n      if (settings.rtl === true) {\r\n        v = -v\r\n      }\r\n      //var self = this\r\n      //window.requestAnimationFrame(function() {\r\n      if (this.doCss()) {\r\n        if (settings.vertical === true) {\r\n          ob.css({\r\n            transform: 'translate3d(0px, ' + -v + 'px, 0px)',\r\n            '-webkit-transform': 'translate3d(0px, ' + -v + 'px, 0px)',\r\n          })\r\n        } else {\r\n          //console.log(-v)\r\n          ob.css({\r\n            // 'transform': 'translateX(' + (-v) + 'px)',//, 0px, 0px)',\r\n            // '-webkit-transform': 'translateX(' + (-v) + 'px)', //, 0px, 0px)',\r\n            transform: 'translate3d(' + -v + 'px, 0px, 0px)',\r\n            '-webkit-transform': 'translate3d(' + -v + 'px, 0px, 0px)',\r\n          })\r\n        }\r\n      } else {\r\n        if (settings.vertical === true) {\r\n          ob.css('position', 'relative').animate(\r\n            {\r\n              top: -v + 'px',\r\n            },\r\n            settings.speed,\r\n            settings.easing\r\n          )\r\n        } else {\r\n          ob.css('position', 'relative').animate(\r\n            {\r\n              left: -v + 'px',\r\n            },\r\n            settings.speed,\r\n            settings.easing\r\n          )\r\n        }\r\n      }\r\n\r\n      //})\r\n\r\n      var $thumb = $slide.parent().find('.tslider-pager').find('li')\r\n      this.active($thumb, true)\r\n    },\r\n    fade: function () {\r\n      this.active($children, false)\r\n      var $thumb = $slide.parent().find('.tslider-pager').find('li')\r\n      this.active($thumb, true)\r\n    },\r\n    slide: function () {\r\n      var $this = this\r\n      refresh.calSlide = function () {\r\n        if (w > elSize) {\r\n          slideValue = $this.slideValue()\r\n          $this.active($children, false)\r\n          if (slideValue > w - elSize - settings.slideMargin) {\r\n            slideValue = w - elSize - settings.slideMargin\r\n          } else if (slideValue < 0) {\r\n            slideValue = 0\r\n          }\r\n          $this.move($el, slideValue)\r\n          if (settings.loop === true && settings.mode === 'slide') {\r\n            if (\r\n              scene >=\r\n              length - $el.find('.clone.left').length / settings.slideMove\r\n            ) {\r\n              $this.resetSlide($el.find('.clone.left').length)\r\n            }\r\n            if (scene === 0) {\r\n              $this.resetSlide($slide.find('.tslide').length)\r\n            }\r\n          }\r\n        }\r\n      }\r\n      refresh.calSlide()\r\n    },\r\n    resetSlide: function (s) {\r\n      var $this = this\r\n      $slide.find('.tslider-action a').addClass('disabled')\r\n      setTimeout(function () {\r\n        scene = s\r\n        $slide.css('transition-duration', '0ms')\r\n        slideValue = $this.slideValue()\r\n        $this.active($children, false)\r\n        plugin.move($el, slideValue)\r\n        setTimeout(function () {\r\n          $slide.css('transition-duration', settings.speed + 'ms')\r\n          $slide.find('.tslider-action a').removeClass('disabled')\r\n        }, 50)\r\n      }, settings.speed + 100)\r\n    },\r\n    slideValue: function () {\r\n      var _sV = 0\r\n      if (settings.autoWidth === false) {\r\n        _sV = scene * ((slideWidth + settings.slideMargin) * settings.slideMove)\r\n      } else {\r\n        _sV = 0\r\n        for (var i = 0; i < scene; i++) {\r\n          _sV += parseInt($children.eq(i).width()) + settings.slideMargin\r\n        }\r\n      }\r\n      return _sV\r\n    },\r\n    slideThumb: function () {\r\n      var position\r\n      switch (settings.currentPagerPosition) {\r\n        case 'left':\r\n          position = 0\r\n          break\r\n        case 'middle':\r\n          position = elSize / 2 - thumbWidth / 2\r\n          break\r\n        case 'right':\r\n          position = elSize - thumbWidth\r\n      }\r\n      var sc = scene - $el.find('.clone.left').length\r\n      var $pager = $slide.parent().find('.tslider-pager')\r\n      if (settings.mode === 'slide' && settings.loop === true) {\r\n        if (sc >= $pager.children().length) {\r\n          sc = 0\r\n        } else if (sc < 0) {\r\n          sc = $pager.children().length\r\n        }\r\n      }\r\n      var thumbSlide = sc * (thumbWidth + settings.thumbMargin) - position\r\n      if (thumbSlide + elSize > pagerWidth) {\r\n        thumbSlide = pagerWidth - elSize - settings.thumbMargin\r\n      }\r\n      if (thumbSlide < 0) {\r\n        thumbSlide = 0\r\n      }\r\n      this.move($pager, thumbSlide)\r\n    },\r\n    auto: function () {\r\n      if (settings.auto) {\r\n        clearInterval(interval)\r\n        interval = setInterval(function () {\r\n          $el.goToNextSlide()\r\n        }, settings.pause)\r\n      }\r\n    },\r\n    pauseOnHover: function () {\r\n      var $this = this\r\n      if (settings.auto && settings.pauseOnHover) {\r\n        $slide.on('mouseenter', function () {\r\n          $(this).addClass('ls-hover')\r\n          $el.pause()\r\n          settings.auto = true\r\n        })\r\n        $slide.on('mouseleave', function () {\r\n          $(this).removeClass('ls-hover')\r\n          if (!$slide.find('.tslider').hasClass('tslider-grabbing')) {\r\n            $this.auto()\r\n          }\r\n        })\r\n      }\r\n    },\r\n    touchMove: function (endCoords, startCoords) {\r\n      $slide.css('transition-duration', '0ms')\r\n      if (settings.mode === 'slide') {\r\n        var distance = endCoords - startCoords\r\n        var swipeVal = slideValue - distance\r\n        if (swipeVal >= w - elSize - settings.slideMargin) {\r\n          if (settings.freeMove === false) {\r\n            swipeVal = w - elSize - settings.slideMargin\r\n          } else {\r\n            var swipeValT = w - elSize - settings.slideMargin\r\n            swipeVal = swipeValT + (swipeVal - swipeValT) / 5\r\n          }\r\n        } else if (swipeVal < 0) {\r\n          if (settings.freeMove === false) {\r\n            swipeVal = 0\r\n          } else {\r\n            swipeVal = swipeVal / 5\r\n          }\r\n        }\r\n        this.move($el, swipeVal)\r\n      }\r\n    },\r\n\r\n    touchEnd: function (distance) {\r\n      $slide.css('transition-duration', settings.speed + 'ms')\r\n      if (settings.mode === 'slide') {\r\n        var mxVal = false\r\n        var _next = true\r\n        slideValue = slideValue - distance\r\n        if (slideValue > w - elSize - settings.slideMargin) {\r\n          slideValue = w - elSize - settings.slideMargin\r\n          if (settings.autoWidth === false) {\r\n            mxVal = true\r\n          }\r\n        } else if (slideValue < 0) {\r\n          slideValue = 0\r\n        }\r\n        var gC = function (next) {\r\n          var ad = 0\r\n          if (!mxVal) {\r\n            if (next) {\r\n              ad = 1\r\n            }\r\n          }\r\n          if (!settings.autoWidth) {\r\n            var num =\r\n              slideValue /\r\n              ((slideWidth + settings.slideMargin) * settings.slideMove)\r\n            scene = parseInt(num) + ad\r\n            if (slideValue >= w - elSize - settings.slideMargin) {\r\n              if (num % 1 !== 0) {\r\n                scene++\r\n              }\r\n            }\r\n          } else {\r\n            var tW = 0\r\n            for (var i = 0; i < $children.length; i++) {\r\n              tW += parseInt($children.eq(i).width()) + settings.slideMargin\r\n              scene = i + ad\r\n              if (tW >= slideValue) {\r\n                break\r\n              }\r\n            }\r\n          }\r\n        }\r\n        if (distance >= settings.swipeThreshold) {\r\n          gC(false)\r\n          _next = false\r\n        } else if (distance <= -settings.swipeThreshold) {\r\n          gC(true)\r\n          _next = false\r\n        }\r\n        $el.mode(_next)\r\n        this.slideThumb()\r\n      } else {\r\n        if (distance >= settings.swipeThreshold) {\r\n          $el.goToPrevSlide()\r\n        } else if (distance <= -settings.swipeThreshold) {\r\n          $el.goToNextSlide()\r\n        }\r\n      }\r\n    },\r\n\r\n    enableDrag: function () {\r\n      var $this = this\r\n      if (!isTouch) {\r\n        var startCoords = 0,\r\n          endCoords = 0,\r\n          isDraging = false\r\n        $slide.find('.tslider').addClass('tslider-grab')\r\n        $slide.on('mousedown', function (e) {\r\n          if (w < elSize) {\r\n            if (w !== 0) {\r\n              return false\r\n            }\r\n          }\r\n          if (\r\n            $(e.target).attr('class') !== 'tslider-prev' &&\r\n            $(e.target).attr('class') !== 'tslider-next'\r\n          ) {\r\n            startCoords = settings.vertical === true ? e.pageY : e.pageX\r\n            isDraging = true\r\n            if (e.preventDefault) {\r\n              e.preventDefault()\r\n            } else {\r\n              e.returnValue = false\r\n            }\r\n            // ** Fix for webkit cursor issue https://code.google.com/p/chromium/issues/detail?id=26723\r\n            $slide.scrollLeft += 1\r\n            $slide.scrollLeft -= 1\r\n            // *\r\n            $slide\r\n              .find('.tslider')\r\n              .removeClass('tslider-grab')\r\n              .addClass('tslider-grabbing')\r\n            clearInterval(interval)\r\n          }\r\n        })\r\n        $(window).on('mousemove', function (e) {\r\n          if (isDraging) {\r\n            endCoords = settings.vertical === true ? e.pageY : e.pageX\r\n            $this.touchMove(endCoords, startCoords)\r\n          }\r\n        })\r\n        $(window).on('mouseup', function (e) {\r\n          if (isDraging) {\r\n            $slide\r\n              .find('.tslider')\r\n              .removeClass('tslider-grabbing')\r\n              .addClass('tslider-grab')\r\n            isDraging = false\r\n            endCoords = settings.vertical === true ? e.pageY : e.pageX\r\n            var distance = endCoords - startCoords\r\n            if (Math.abs(distance) >= settings.swipeThreshold) {\r\n              $(window).on('click.ls', function (e) {\r\n                if (e.preventDefault) {\r\n                  e.preventDefault()\r\n                } else {\r\n                  e.returnValue = false\r\n                }\r\n                e.stopImmediatePropagation()\r\n                e.stopPropagation()\r\n                $(window).off('click.ls')\r\n              })\r\n            }\r\n\r\n            $this.touchEnd(distance)\r\n          }\r\n        })\r\n      }\r\n    },\r\n\r\n    enableTouch: function () {\r\n      var $this = this\r\n      if (isTouch) {\r\n        var startCoords = {},\r\n          endCoords = {}\r\n        $slide.on('touchstart', function (e) {\r\n          endCoords = e.originalEvent.targetTouches[0]\r\n          startCoords.pageX = e.originalEvent.targetTouches[0].pageX\r\n          startCoords.pageY = e.originalEvent.targetTouches[0].pageY\r\n          clearInterval(interval)\r\n        })\r\n        $slide.on('touchmove', function (e) {\r\n          if (w < elSize) {\r\n            if (w !== 0) {\r\n              return false\r\n            }\r\n          }\r\n          var orig = e.originalEvent\r\n          endCoords = orig.targetTouches[0]\r\n          var xMovement = Math.abs(endCoords.pageX - startCoords.pageX)\r\n          var yMovement = Math.abs(endCoords.pageY - startCoords.pageY)\r\n          if (settings.vertical === true) {\r\n            if (yMovement * 3 > xMovement) {\r\n              e.preventDefault()\r\n            }\r\n            $this.touchMove(endCoords.pageY, startCoords.pageY)\r\n          } else {\r\n            if (xMovement * 3 > yMovement) {\r\n              e.preventDefault()\r\n            }\r\n            $this.touchMove(endCoords.pageX, startCoords.pageX)\r\n          }\r\n        })\r\n        $slide.on('touchend', function () {\r\n          if (w < elSize) {\r\n            if (w !== 0) {\r\n              return false\r\n            }\r\n          }\r\n          var distance\r\n          if (settings.vertical === true) {\r\n            distance = endCoords.pageY - startCoords.pageY\r\n          } else {\r\n            distance = endCoords.pageX - startCoords.pageX\r\n          }\r\n          $this.touchEnd(distance)\r\n        })\r\n      }\r\n    },\r\n    build: function () {\r\n      var $this = this\r\n      $this.initialStyle()\r\n      if (this.doCss()) {\r\n        if (settings.enableTouch === true) {\r\n          $this.enableTouch()\r\n        }\r\n        if (settings.enableDrag === true) {\r\n          $this.enableDrag()\r\n        }\r\n      }\r\n\r\n      $(window).on('focus', function () {\r\n        $this.auto()\r\n      })\r\n\r\n      $(window).on('blur', function () {\r\n        clearInterval(interval)\r\n      })\r\n\r\n      $this.pager()\r\n      $this.pauseOnHover()\r\n      $this.controls()\r\n      $this.keyPress()\r\n    },\r\n  }\r\n\r\n  plugin.build()\r\n\r\n  refresh.init = function () {\r\n    refresh.chbreakpoint()\r\n    if (settings.vertical === true) {\r\n      if (settings.item > 1) {\r\n        elSize = settings.verticalHeight\r\n      } else {\r\n        elSize = $children.outerHeight()\r\n      }\r\n      $slide.css('height', elSize + 'px')\r\n    } else {\r\n      elSize = $slide.outerWidth()\r\n    }\r\n    if (settings.loop === true && settings.mode === 'slide') {\r\n      refresh.clone()\r\n    }\r\n    refresh.calL()\r\n    if (settings.mode === 'slide') {\r\n      $el.removeClass('tslide-animate')\r\n    }\r\n    if (settings.mode === 'slide') {\r\n      refresh.calSW()\r\n      refresh.sSW()\r\n    }\r\n    setTimeout(function () {\r\n      if (settings.mode === 'slide') {\r\n        $el.addClass('tslide-animate')\r\n      }\r\n    }, 1000)\r\n    if (settings.pager) {\r\n      refresh.createPager()\r\n    }\r\n    if (settings.adaptiveHeight === true && settings.vertical === false) {\r\n      $el.css('height', $children.eq(scene).outerHeight(true))\r\n    }\r\n    if (settings.adaptiveHeight === false) {\r\n      if (settings.mode === 'slide') {\r\n        if (settings.vertical === false) {\r\n          plugin.setHeight($el, false)\r\n        } else {\r\n          plugin.auto()\r\n        }\r\n      } else {\r\n        plugin.setHeight($el, true)\r\n      }\r\n    }\r\n    if (settings.gallery === true) {\r\n      plugin.slideThumb()\r\n    }\r\n    if (settings.mode === 'slide') {\r\n      plugin.slide()\r\n    }\r\n    if (settings.autoWidth === false) {\r\n      if ($children.length <= settings.item) {\r\n        $slide.find('.tslider-action').hide()\r\n      } else {\r\n        $slide.find('.tslider-action').show()\r\n      }\r\n    } else {\r\n      if (refresh.calWidth(false) < elSize && w !== 0) {\r\n        $slide.find('.tslider-action').hide()\r\n      } else {\r\n        $slide.find('.tslider-action').show()\r\n      }\r\n    }\r\n  }\r\n\r\n  $el.goToPrevSlide = function () {\r\n    if (scene > 0) {\r\n      settings.onBeforePrevSlide.call(this, $el, scene)\r\n      scene--\r\n      $el.mode(false)\r\n      if (settings.gallery === true) {\r\n        plugin.slideThumb()\r\n      }\r\n    } else {\r\n      if (settings.loop === true) {\r\n        settings.onBeforePrevSlide.call(this, $el, scene)\r\n        if (settings.mode === 'fade') {\r\n          var l = length - 1\r\n          scene = parseInt(l / settings.slideMove)\r\n        }\r\n        $el.mode(false)\r\n        if (settings.gallery === true) {\r\n          plugin.slideThumb()\r\n        }\r\n      } else if (settings.slideEndAnimation === true) {\r\n        $el.addClass('leftEnd')\r\n        setTimeout(function () {\r\n          $el.removeClass('leftEnd')\r\n        }, 400)\r\n      }\r\n    }\r\n  }\r\n\r\n  $el.goToNextSlide = function () {\r\n    var nextI = true\r\n    if (settings.mode === 'slide') {\r\n      var _slideValue = plugin.slideValue()\r\n      nextI = _slideValue < w - elSize - settings.slideMargin\r\n    }\r\n    if (scene * settings.slideMove < length - settings.slideMove && nextI) {\r\n      settings.onBeforeNextSlide.call(this, $el, scene)\r\n      scene++\r\n      $el.mode(false)\r\n      if (settings.gallery === true) {\r\n        plugin.slideThumb()\r\n      }\r\n    } else {\r\n      if (settings.loop === true) {\r\n        settings.onBeforeNextSlide.call(this, $el, scene)\r\n        scene = 0\r\n        $el.mode(false)\r\n        if (settings.gallery === true) {\r\n          plugin.slideThumb()\r\n        }\r\n      } else if (settings.slideEndAnimation === true) {\r\n        $el.addClass('rightEnd')\r\n        setTimeout(function () {\r\n          $el.removeClass('rightEnd')\r\n        }, 400)\r\n      }\r\n    }\r\n  }\r\n\r\n  $el.mode = function (_touch) {\r\n    if (settings.adaptiveHeight === true && settings.vertical === false) {\r\n      $el.css('height', $children.eq(scene).outerHeight(true))\r\n    }\r\n    if (on === false) {\r\n      if (settings.mode === 'slide') {\r\n        if (plugin.doCss()) {\r\n          $el.addClass('tslide-animate')\r\n          if (settings.speed !== '') {\r\n            $slide.css('transition-duration', settings.speed + 'ms')\r\n          }\r\n          if (settings.cssEasing !== '') {\r\n            $slide.css('transition-timing-function', settings.cssEasing)\r\n          }\r\n        }\r\n      } else {\r\n        if (plugin.doCss()) {\r\n          if (settings.speed !== '') {\r\n            $el.css('transition-duration', settings.speed + 'ms')\r\n          }\r\n          if (settings.cssEasing !== '') {\r\n            $el.css('transition-timing-function', settings.cssEasing)\r\n          }\r\n        }\r\n      }\r\n    }\r\n    if (!_touch) {\r\n      settings.onBeforeSlide.call(this, $el, scene)\r\n    }\r\n    if (settings.mode === 'slide') {\r\n      plugin.slide()\r\n    } else {\r\n      plugin.fade()\r\n    }\r\n    if (!$slide.hasClass('ls-hover')) {\r\n      plugin.auto()\r\n    }\r\n    setTimeout(function () {\r\n      if (!_touch) {\r\n        settings.onAfterSlide.call(this, $el, scene)\r\n      }\r\n    }, settings.speed)\r\n    on = true\r\n  }\r\n  $el.play = function () {\r\n    $el.goToNextSlide()\r\n    settings.auto = true\r\n    plugin.auto()\r\n  }\r\n  $el.pause = function () {\r\n    settings.auto = false\r\n    clearInterval(interval)\r\n  }\r\n  $el.refresh = function () {\r\n    refresh.init()\r\n  }\r\n  $el.getCurrentSlideCount = function () {\r\n    var sc = scene\r\n    if (settings.loop) {\r\n      var ln = $slide.find('.tslide').length,\r\n        cl = $el.find('.clone.left').length\r\n      if (scene <= cl - 1) {\r\n        sc = ln + (scene - cl)\r\n      } else if (scene >= ln + cl) {\r\n        sc = scene - ln - cl\r\n      } else {\r\n        sc = scene - cl\r\n      }\r\n    }\r\n    return sc + 1\r\n  }\r\n  $el.getTotalSlideCount = function () {\r\n    return $slide.find('.tslide').length\r\n  }\r\n  $el.goToSlide = function (s) {\r\n    if (settings.loop) {\r\n      scene = s + $el.find('.clone.left').length - 1\r\n    } else {\r\n      scene = s\r\n    }\r\n    $el.mode(false)\r\n    if (settings.gallery === true) {\r\n      plugin.slideThumb()\r\n    }\r\n  }\r\n  $el.destroy = function () {\r\n    if ($el.tangibleSlider) {\r\n      $el.goToPrevSlide = function () {}\r\n      $el.goToNextSlide = function () {}\r\n      $el.mode = function () {}\r\n      $el.play = function () {}\r\n      $el.pause = function () {}\r\n      $el.refresh = function () {}\r\n      $el.getCurrentSlideCount = function () {}\r\n      $el.getTotalSlideCount = function () {}\r\n      $el.goToSlide = function () {}\r\n      $el.tangibleSlider = null\r\n      refresh = {\r\n        init: function () {},\r\n      }\r\n      $el.parent().parent().find('.tslider-action, .tslider-pager').remove()\r\n      $el\r\n        .removeClass(\r\n          'tslider tslider-fade tslide-animate tslider-grab tslider-grabbing leftEnd right'\r\n        )\r\n        .removeAttr('style')\r\n        .unwrap()\r\n        .unwrap()\r\n      $el.children().removeAttr('style')\r\n      $children.removeClass('tslide active')\r\n      $el.find('.clone').remove()\r\n      $children = null\r\n      interval = null\r\n      on = false\r\n      scene = 0\r\n    }\r\n  }\r\n  setTimeout(function () {\r\n    settings.onSliderLoad.call(this, $el)\r\n\r\n    $el.addClass('loaded')\r\n  }, 10)\r\n  $(window).on('resize orientationchange', function (e) {\r\n    setTimeout(function () {\r\n      if (e.preventDefault) {\r\n        e.preventDefault()\r\n      } else {\r\n        e.returnValue = false\r\n      }\r\n      refresh.init()\r\n    }, 200)\r\n  })\r\n  return this\r\n}\r\n\r\n$(document).ready(function () {\r\n  $('.tangible-slider').each(function () {\r\n    $(this).tangibleSlider()\r\n  })\r\n})\r\n"],"names":["$","defaults","$el","scene","options","optionsFromElement","e","aliases","alias","key","plugin","settings","settingsTemp","$children","windowW","resposiveObj","length","w","on","elSize","$slide","property","gutter","slideValue","pagerWidth","slideWidth","thumbWidth","interval","isTouch","refresh","item","i","j","k","cln","ln","support","__name","transition","root","$this","tWr","tI","tItem","n","m","pagers","v","thumb","minPgr","$cSouter","$pager","cl","gMargin","ob","fade","obj","setCss","tH","tP","tHT","t","sc","l","nl","$thumb","s","_sV","position","thumbSlide","endCoords","startCoords","distance","swipeVal","swipeValT","mxVal","_next","gC","next","ad","tW","num","isDraging","orig","xMovement","yMovement","nextI","_slideValue","_touch"],"mappings":"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"}