var m=Object.defineProperty;var c=(d,r)=>m(d,"name",{value:r,configurable:!0});(function(){"use strict";(function(){const e={NODE_ENV:"production"};try{if(process){process.env=Object.assign({},process.env),Object.assign(process.env,e);return}}catch{}globalThis.process={env:e}})();var d=Object.defineProperty,r=c((e,i)=>d(e,"name",{value:i,configurable:!0}),"s");async function u(e,i={}){const{CodeEditor:f}=window.Tangible.TemplateSystem||{};if(!f)throw new Error("CodeEditor not found");const{language:w="html",onSave:p}=i,n={};let o;const g={getValue(){return o?o.view.state.doc.toString():""},focus(){o&&o.view.focus()},refresh(){},setSize(t,a){},on(t,a){n[t]||(n[t]=[]),n[t].push(a)},emit(t,...a){if(n[t])for(const l of n[t])l(...a)},off(t,a){n[t]&&(n[t]=n[t].filter(l=>l!==a))},updateTextarea:s},v="tangible-template-editor-container";e.parentNode?.classList.contains(v)||e.parentNode?.classList.add(v),o=await f.create({lang:w,content:e.value,onUpdate(t){n.change&&g.emit("change")},onSave(){p&&(s(),p())}});function s(){e.value=o.view.state.doc.toString()}return c(s,"a"),r(s,"updateTextarea"),e.parentNode?.insertBefore(o.view.dom,e),e.form&&e.form.addEventListener("submit",()=>s()),g}c(u,"createTemplateEditor"),r(u,"createTemplateEditor"),window.Tangible=window.Tangible||{},window.Tangible.createCodeEditor=u})();
//# sourceMappingURL=template-editor-bridge.min.js.map
