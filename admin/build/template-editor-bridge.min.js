var m=Object.defineProperty;var c=(d,r)=>m(d,"name",{value:r,configurable:!0});(function(){"use strict";(function(){const t={NODE_ENV:"production"};try{if(process){process.env=Object.assign({},process.env),Object.assign(process.env,t);return}}catch{}globalThis.process={env:t}})();var d=Object.defineProperty,r=c((t,i)=>d(t,"name",{value:i,configurable:!0}),"s");async function u(t,i={}){const{CodeEditor:f}=window.Tangible.TemplateSystem||{};if(!f)throw new Error("CodeEditor not found");const{language:w="html",onSave:g}=i,o={},n=await f.create({lang:w,content:t.value,onUpdate(e){o.change&&p.emit("change")},onSave(){g&&(s(),g())},editorActionsPanel:i.editorActionsPanel}),p={codeMirror6:n,updateTextarea:s,getValue(){return n?n.view.state.doc.toString():""},setValue(e){if(!n)return;const a=n.view.state.doc.toString();n.view.dispatch({changes:{from:0,to:a.length,insert:e}})},focus(){n&&n.view.focus()},refresh(){},setSize(e,a){},on(e,a){o[e]||(o[e]=[]),o[e].push(a)},emit(e,...a){if(o[e])for(const l of o[e])l(...a)},off(e,a){o[e]&&(o[e]=o[e].filter(l=>l!==a))}},v="tangible-template-editor-container";t.parentNode?.classList.contains(v)||t.parentNode?.classList.add(v);function s(){t.value=n.view.state.doc.toString()}return c(s,"a"),r(s,"updateTextarea"),t.parentNode?.insertBefore(n.view.dom,t),t.form&&t.form.addEventListener("submit",()=>s()),p}c(u,"createTemplateEditor"),r(u,"createTemplateEditor"),window.Tangible=window.Tangible||{},window.Tangible.createCodeEditor=u})();
//# sourceMappingURL=template-editor-bridge.min.js.map
