{"version":3,"file":"embed.min.js","sources":["../src/index.ts"],"sourcesContent":["/**\n * Embed - Responsive iframe\n *\n * Prefer CSS-only solution which is more performant. JS is needed when\n * aspect ratio is dynamic or unknown.\n */\n\njQuery(document).on('ready', function () {\n  const $ = jQuery\n\n  function resizeEmbed($el) {\n    const iframe = $el.find('iframe')[0]\n\n    if (!iframe) return\n\n    const widthAttr = iframe.getAttribute('width')\n    const heightAttr = iframe.getAttribute('height')\n\n    const width = !isNaN(widthAttr) ? widthAttr : iframe.clientWidth\n    const height = !isNaN(heightAttr) ? heightAttr : iframe.clientHeight\n\n    // const ratio = height / width\n\n    // console.log('iframe aspect ratio', iframe, ratio)\n\n    $el.css({\n      // paddingTop: ratio * 100 + '%',\n      aspectRatio: `${width} / ${height}`,\n    })\n  }\n\n  function resizeEmbeds() {\n    $('.tangible-embed-dynamic').each(function () {\n      resizeEmbed($(this))\n    })\n  }\n\n  resizeEmbeds()\n\n  // $(window).resize(resizeEmbeds)\n})\n"],"names":["$","resizeEmbed","$el","iframe","widthAttr","heightAttr","width","height","__name","resizeEmbeds"],"mappings":"2WAOA,OAAO,QAAQ,EAAE,GAAG,QAAS,UAAY,CACvC,MAAMA,EAAI,OAEV,SAASC,EAAYC,EAAK,CACxB,MAAMC,EAASD,EAAI,KAAK,QAAQ,EAAE,CAAC,EAEnC,GAAI,CAACC,EAAQ,OAEb,MAAMC,EAAYD,EAAO,aAAa,OAAO,EACvCE,EAAaF,EAAO,aAAa,QAAQ,EAEzCG,EAAS,MAAMF,CAAS,EAAgBD,EAAO,YAAnBC,EAC5BG,EAAU,MAAMF,CAAU,EAAiBF,EAAO,aAApBE,EAMpCH,EAAI,IAAI,CAEN,YAAa,GAAGI,OAAWC,GAC7B,CAAC,CACH,CAnBSN,EAAAA,EAAAA,KAAAO,EAAAP,EAAA,aAqBT,EAAA,SAASQ,GAAe,CACtBT,EAAE,yBAAyB,EAAE,KAAK,UAAY,CAC5CC,EAAYD,EAAE,IAAI,CAAC,CACrB,CAAC,CACH,CAJSS,EAAAA,OAAAD,EAAAC,EAAA,cAMTA,EAAAA,EAAAA,CAGF,CAAC"}