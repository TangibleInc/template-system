{"version":3,"file":"async-render.min.js","sources":["../src/index.ts"],"sourcesContent":["/**\n * Async render for templates\n */\n\nconst {\n  jQuery: $,\n  Tangible: { ajax },\n} = window\n\nfunction activateAsyncRender() {\n  $('.tangible-async-render').each(function () {\n    // Render once only - Support multiple calls to activateAsyncRender()\n    if (this.tangibleAsyncRenderDone) return\n    this.tangibleAsyncRenderDone = true\n\n    const $el = $(this)\n    const templateData = $el.data('template-data')\n\n    // @see /ajax/index.php\n    ajax('tangible_template_render', templateData)\n      .then((result) => {\n        $el.html(result)\n      })\n      .catch((error) => {\n        console.error('Async render error', error)\n        console.log('Template data', templateData)\n      })\n  })\n}\n\n$(activateAsyncRender)\n\n// Export so it can be called by ../module-loader\nwindow.Tangible.activateAsyncRender = activateAsyncRender\n"],"names":["$","ajax","activateAsyncRender","$el","templateData","result","error","__name"],"mappings":"2WAIA,KAAM,CACJ,OAAQA,EACR,SAAU,CAAE,KAAAC,CAAK,CACnB,EAAI,OAEJ,SAASC,GAAsB,CAC7BF,EAAE,wBAAwB,EAAE,KAAK,UAAY,CAE3C,GAAI,KAAK,wBAAyB,OAClC,KAAK,wBAA0B,GAE/B,MAAMG,EAAMH,EAAE,IAAI,EACZI,EAAeD,EAAI,KAAK,eAAe,EAG7CF,EAAK,2BAA4BG,CAAY,EAC1C,KAAMC,GAAW,CAChBF,EAAI,KAAKE,CAAM,CACjB,CAAC,EACA,MAAOC,GAAU,CAChB,QAAQ,MAAM,qBAAsBA,CAAK,EACzC,QAAQ,IAAI,gBAAiBF,CAAY,CAC3C,CAAC,CACL,CAAC,CACH,CAnBSF,EAAAA,OAAAK,EAAAL,EAAA,qBAqBTF,EAAAA,EAAEE,CAAmB,EAGrB,OAAO,SAAS,oBAAsBA"}