(function(){"use strict";(function(){const e={env:{NODE_ENV:"production"}};try{if(process){process.env=Object.assign({},process.env),Object.assign(process.env,e);return}}catch(s){}globalThis.process={env:e}})();function _(e){const s=".";e=typeof e=="string"?document.getElementById(e):e;var l=[],i,n=0;if(e.constructor==Array||typeof NodeList!="undefined"&&e.constructor==NodeList)for(;i=e[n++];)l=l.concat(v(i,null,!1,!1));else l=v(e,null,!1,!1);return N(l,!1,s)}function N(e,s,l){var i={},n={},u,o,r,m,g,h,a,d,f,c,t,T,p;for(u=0;u<e.length;u++)if(g=e[u].value,!(s&&(g===""||g===null))){for(T=e[u].name,p=T.split(l),h=[],a=i,d="",o=0;o<p.length;o++)if(t=p[o].split("]["),t.length>1)for(r=0;r<t.length;r++)if(r==0?t[r]=t[r]+"]":r==t.length-1?t[r]="["+t[r]:t[r]="["+t[r]+"]",c=t[r].match(/([a-z_]+)?\[([a-z_][a-z0-9_]+?)\]/i),c)for(m=1;m<c.length;m++)c[m]&&h.push(c[m]);else h.push(t[r]);else h=h.concat(t);for(o=0;o<h.length;o++)t=h[o],t.indexOf("[]")>-1&&o==h.length-1?(f=t.substr(0,t.indexOf("[")),d+=f,a[f]||(a[f]=[]),a[f].push(g)):t.indexOf("[")>-1?(f=t.substr(0,t.indexOf("[")),c=t.replace(/(^([a-z_]+)?\[)|(\]$)/gi,""),d+="_"+f+"_"+c,n[d]||(n[d]={}),f!=""&&!a[f]&&(a[f]=[]),o==h.length-1?f==""?(a.push(g),n[d][c]=a[a.length-1]):(a[f].push(g),n[d][c]=a[f][a[f].length-1]):n[d][c]||(/^[0-9a-z_]+\[?/i.test(h[o+1])?a[f].push({}):a[f].push([]),n[d][c]=a[f][a[f].length-1]),a=n[d][c]):(d+=t,o<h.length-1?(a[t]||(a[t]={}),a=a[t]):a[t]=g)}return i}function v(e,s,l,i){var n=E(e,s,l,i);return n.length>0?n:b(e,s,l,i)}function b(e,s,l,i){for(var n=[],u=e.firstChild;u;)n=n.concat(E(u,s,l,i)),u=u.nextSibling;return n}function E(e,s,l,i){if(e.disabled&&!i)return[];var n,u,o,r=y(e,l);return n=s&&s(e),n&&n.name?o=[n]:r!=""&&e.nodeName.match(/INPUT|TEXTAREA/i)?(u=w(e,i),u===null?o=[]:o=[{name:r,value:u}]):r!=""&&e.nodeName.match(/SELECT/i)?(u=w(e,i),o=[{name:r.replace(/\[\]$/,""),value:u}]):o=b(e,s,l,i),o}function y(e,s){return e.name&&e.name!=""?e.name:s&&e.id&&e.id!=""?e.id:""}function w(e,s){if(e.disabled&&!s)return null;switch(e.nodeName){case"INPUT":case"TEXTAREA":switch(e.type.toLowerCase()){case"radio":if(e.checked&&e.value==="false")return!1;case"checkbox":if(e.checked&&e.value==="true")return!0;if(!e.checked&&e.value==="true")return!1;if(e.checked)return e.value;break;case"button":case"reset":case"submit":case"image":return"";default:return e.value}break;case"SELECT":return k(e)}return null}function k(e){var s=e.multiple,l=[],i,n,u;if(!s)return e.value;for(i=e.getElementsByTagName("option"),n=0,u=i.length;n<u;n++)i[n].selected&&l.push(i[n].value);return l}jQuery(function(e){const{forms:s=[],ajax:l}=window.Tangible||{};!l||!s.length||s.forEach(function(i){const{id:n,location:u,hash:o}=i,r=e("#"+n);if(!r.length)return;const m=r.find(".tangible-form-success-message"),g=r.find(".tangible-form-error-message");r.on("submit",function(h){h.preventDefault();const a=r[0],d=_(a);l("tangible_form_handler",{location:u,hash:o,data:d}).then(function(c){if(g.hide(),c.redirect){window.location=c.redirect;return}c.success&&m.html(c.success),m.show()}).catch(function(c){if(c.redirect){window.location=c.redirect;return}console.error("Form error",c);const t=c.error||c.message||"There was an error.";t&&(g.html(t),g.show(),m.hide())})})})})})();
//# sourceMappingURL=form.min.js.map
