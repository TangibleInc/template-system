!function e(t,a,r){function n(i,u){if(!a[i]){if(!t[i]){var c="function"==typeof require&&require;if(!u&&c)return c(i,!0);if(o)return o(i,!0);var s=new Error("Cannot find module '"+i+"'");throw s.code="MODULE_NOT_FOUND",s}var l=a[i]={exports:{}};t[i][0].call(l.exports,(function(e){return n(t[i][1][e]||e)}),l,l.exports,e,t,a,r)}return a[i].exports}for(var o="function"==typeof require&&require,i=0;i<r.length;i++)n(r[i]);return n}({1:[function(e,t,a){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault")(e("@babel/runtime/helpers/typeof")),n=e("./range"),o=window,i=o.jQuery,u=o.Tangible.ajax;function c(){i(".tangible-paginator-target").each((function(){!function(e){var t=e.data("tangiblePaginatorTargetId"),a=e.data("tangiblePaginatorTargetData")||{},n=a.state,o=a.template,c=a.hash,l=a.context,p=a.context_hash;if(!n||!o)return;var g={},f=i(".tangible-paginator-subscribe--".concat(t));function d(e){Object.assign(n,e),x(n)}var b,_,h={};function m(e){Object.keys(h).forEach((function(t){h[t].text(e[t])}))}f.each((function(){var e=i(this),t=e.data("tangiblePaginatorSubscribeAction");switch(t){case"fields":e.find("[data-tangible-paginator-field]").each((function(){var e=i(this),t=e.data("tangiblePaginatorField");h[t]=e}));break;case"loading":b=e;break;case"buttons":s(_=e,n,d);var a=e.data("tangiblePaginatorSubscribeSettings");"object"!==(0,r.default)(a)||Array.isArray(a)||Object.assign(g,a);break;default:console.warn("Unknown subscriber action",t)}}));var v={};function x(t){if(m(t),_&&s(_,t),t.last_rendered_page!==t.current_page){t.last_rendered_page=t.current_page;var a=function(){if(g.scroll_top){var t=e.offset().top;if(!g.scroll_animate)return void i([document.documentElement,document.body]).scrollTop(t);var a="number"==typeof g.scroll_animate?g.scroll_animate:300;i([document.documentElement,document.body]).animate({scrollTop:t},a)}};if(void 0!==v[t.current_page])return e.html(v[t.current_page]),void a();var r="tangible-paginator-target-loading",n=t.current_page,f=function(){e.removeClass(r),b&&b.hide(),a()};(function(){e.addClass(r),b&&b.show()})(),v[n]="",u("tangible_template_render",{template:o,page:n,hash:c,context:l,context_hash:p}).then((function(t){v[n]=t,e.html(t),f()})).catch((function(e){console.error("Fetch page error",e),delete v[n],f()}))}}n.last_rendered_page=n.current_page,v[n.current_page]=e.html()}(i(this))}))}function s(e,t,a){var r=t.current_page,o=t.total_pages,u=(0,n.generatePageRange)(r,o),c=e.children();if(u.forEach((function(t,a){var n=i("<button />");n.text(t),n.addClass("tangible-paginator-button"),"..."===t?n.prop("disabled",!0):(n.attr("data-tangible-paginator-action","page"),n.attr("data-tangible-paginator-page",t),t==r&&n.addClass("active")),c.eq(a).length?c.eq(a).replaceWith(n):e.append(n)})),a)return e.on("click","[data-tangible-paginator-action]",(function(){var e=i(this);switch(e.data("tangiblePaginatorAction")){case"page":var r=parseInt(e.data("tangiblePaginatorPage"),10);if(isNaN(r)||r<=0||r>t.total_pages)return;t.current_page=r;break;case"first_page":t.current_page=1;break;case"last_page":t.current_page=t.total_pages;break;case"next_page":if(t.current_page===t.total_pages)return;t.current_page++;break;case"previous_page":if(1===t.current_page)return;t.current_page--;break;default:return}a(t)})),e}i(c),window.Tangible.activatePaginators=c},{"./range":2,"@babel/runtime/helpers/interopRequireDefault":3,"@babel/runtime/helpers/typeof":4}],2:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.generatePageRange=void 0;var r=function(e,t){return Array(t-e+1).fill().map((function(t,a){return a+e}))};a.generatePageRange=function(e,t){var a;a=t<=7?7:e>4&&e<t-3?2:4;var n={start:Math.round(e-a/2),end:Math.round(e+a/2)};n.start-1!=1&&n.end+1!==t||(n.start+=1,n.end+=1);var o=e>a?r(Math.min(n.start,t-a),Math.min(n.end,t)):r(1,Math.min(t,a+1)),i=function(e,a){return o.length+1!==t?a:[e]};return 1!==o[0]&&(o=i(1,[1,"..."]).concat(o)),o[o.length-1]<t&&(o=o.concat(i(t,["...",t]))),o}},{}],3:[function(e,t,a){t.exports=function(e){return e&&e.__esModule?e:{default:e}},t.exports.default=t.exports,t.exports.__esModule=!0},{}],4:[function(e,t,a){function r(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(t.exports=r=function(e){return typeof e},t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t.exports.default=t.exports,t.exports.__esModule=!0),r(e)}t.exports=r,t.exports.default=t.exports,t.exports.__esModule=!0},{}]},{},[1]);
//# sourceMappingURL=paginator.min.js.map
