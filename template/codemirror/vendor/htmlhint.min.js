(function(){"use strict";(function(){const n={env:{NODE_ENV:"production"}};try{if(process){process.env=Object.assign({},process.env),Object.assign(process.env,n);return}}catch(i){}globalThis.process={env:n}})();function f(n){var i=n.default;if(typeof i=="function"){var t=function(){return i.apply(this,arguments)};t.prototype=i.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var e=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,e.get?e:{enumerable:!0,get:function(){return n[r]}})}),t}Object.defineProperty(exports,"__esModule",{value:!0});class q{constructor(){this._listeners={},this._mapCdataTags=this.makeMap("script,style"),this._arrBlocks=[],this.lastEvent=null}makeMap(i){const t={},r=i.split(",");for(let e=0;e<r.length;e++)t[r[e]]=!0;return t}parse(i){const t=this._mapCdataTags,r=/<(?:\/([^\s>]+)\s*|!--([\s\S]*?)--|!([^>]*?)|([\w\-:]+)((?:\s+[^\s"'>\/=\x00-\x0F\x7F\x80-\x9F]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s"'>]*))?)*?)\s*(\/?))>/g,e=/\s*([^\s"'>\/=\x00-\x0F\x7F\x80-\x9F]+)(?:\s*=\s*(?:(")([^"]*)"|(')([^']*)'|([^\s"'>]*)))?/g,s=/\r?\n/g;let a,l,o=0,u,c,d=null,h,p=[],b=0,m,x=0,L=1;const St=this._arrBlocks;this.fire("start",{pos:0,line:1,col:1});const It=()=>{const w=c.find(g=>g.name==="type")||{value:""};return t[u]&&w.value.indexOf("text/ng-template")===-1},y=(w,g,$,_)=>{const T=$-x+1;for(_===void 0&&(_={}),_.raw=g,_.pos=$,_.line=L,_.col=T,St.push(_),this.fire(w,_);s.exec(g);)L++,x=$+s.lastIndex};for(;a=r.exec(i);){if(l=a.index,l>o&&(m=i.substring(o,l),d?p.push(m):y("text",m,o)),o=r.lastIndex,(u=a[1])&&(d&&u===d&&(m=p.join(""),y("cdata",m,b,{tagName:d,attrs:h}),d=null,h=void 0,p=[]),!d)){y("tagend",a[0],l,{tagName:u});continue}if(d)p.push(a[0]);else if(u=a[4]){c=[];const w=a[5];let g,$=0;for(;g=e.exec(w);){const _=g[1],T=g[2]?g[2]:g[4]?g[4]:"",Ut=g[3]?g[3]:g[5]?g[5]:g[6]?g[6]:"";c.push({name:_,value:Ut,quote:T,index:g.index,raw:g[0]}),$+=g[0].length}$===w.length?(y("tagstart",a[0],l,{tagName:u,attrs:c,close:a[6]}),It()&&(d=u,h=c.concat(),p=[],b=o)):y("text",a[0],l)}else(a[2]||a[3])&&y("comment",a[0],l,{content:a[2]||a[3],long:!!a[2]})}i.length>o&&(m=i.substring(o,i.length),y("text",m,o)),this.fire("end",{pos:o,line:L,col:i.length-x+1})}addListener(i,t){const r=this._listeners,e=i.split(/[,\s]/);let s;for(let a=0,l=e.length;a<l;a++)s=e[a],r[s]===void 0&&(r[s]=[]),r[s].push(t)}fire(i,t){t===void 0&&(t={}),t.type=i;let r=[];const e=this._listeners[i],s=this._listeners.all;e!==void 0&&(r=r.concat(e)),s!==void 0&&(r=r.concat(s));const a=this.lastEvent;a!==null&&(delete a.lastEvent,t.lastEvent=a),this.lastEvent=t;for(let l=0,o=r.length;l<o;l++)r[l].call(this,t)}removeListener(i,t){const r=this._listeners[i];if(r!==void 0){for(let e=0,s=r.length;e<s;e++)if(r[e]===t){r.splice(e,1);break}}}fixPos(i,t){const e=i.raw.substr(0,t).split(/\r?\n/),s=e.length-1;let a=i.line,l;return s>0?(a+=s,l=e[s].length+1):l=i.col+t,{line:a,col:l}}getMapAttrs(i){const t={};let r;for(let e=0,s=i.length;e<s;e++)r=i[e],t[r.name]=r.value;return t}}exports.default=q;var C=Object.freeze({__proto__:null}),N=f(C);Object.defineProperty(exports,"__esModule",{value:!0});class M{constructor(i,t){this.html=i,this.lines=i.split(/\r?\n/);const r=/\r?\n/.exec(i);this.brLen=r!==null?r[0].length:0,this.ruleset=t,this.messages=[]}info(i,t,r,e,s){this.report("info",i,t,r,e,s)}warn(i,t,r,e,s){this.report("warning",i,t,r,e,s)}error(i,t,r,e,s){this.report("error",i,t,r,e,s)}report(i,t,r,e,s,a){const l=this.lines,o=this.brLen;let u="",c=0;for(let d=r-1,h=l.length;d<h&&(u=l[d],c=u.length,e>c&&r<h);d++)r++,e-=c,e!==1&&(e-=o);this.messages.push({type:i,message:t,raw:a,evidence:u,line:r,col:e,rule:{id:s.id,description:s.description,link:`https://htmlhint.com/docs/user-guide/rules/${s.id}`}})}}exports.default=M;var z=Object.freeze({__proto__:null}),k=f(z);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={id:"alt-require",description:"The alt attribute of an <img> element must be present and alt attribute of area[href] and input[type=image] must have a value.",init(n,i){n.addListener("tagstart",t=>{const r=t.tagName.toLowerCase(),e=n.getMapAttrs(t.attrs),s=t.col+r.length+1;let a;r==="img"&&!("alt"in e)?i.warn("An alt attribute must be present on <img> elements.",t.line,s,this,t.raw):(r==="area"&&"href"in e||r==="input"&&e.type==="image")&&(!("alt"in e)||e.alt==="")&&(a=r==="area"?"area[href]":"input[type=image]",i.warn(`The alt attribute of ${a} must have a value.`,t.line,s,this,t.raw))})}};var E=Object.freeze({__proto__:null}),R=f(E);Object.defineProperty(exports,"__esModule",{value:!0});const D=["allowReorder","attributeName","attributeType","autoReverse","baseFrequency","baseProfile","calcMode","clipPath","clipPathUnits","contentScriptType","contentStyleType","diffuseConstant","edgeMode","externalResourcesRequired","filterRes","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","onBlur","onChange","onClick","onFocus","onKeyUp","onLoad","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"];function S(n,i){if(i instanceof RegExp)return i.test(n)?{match:n,pattern:i}:!1;const t=i[0],r=i[i.length-1],e=i[i.length-2],s=t==="/"&&(r==="/"||e==="/"&&r==="i"),a=s&&r==="i";return s?a?new RegExp(i.slice(1,-2),"i").test(n):new RegExp(i.slice(1,-1)).test(n):n===i}exports.default={id:"attr-lowercase",description:"All attribute names must be in lowercase.",init(n,i,t){const r=(Array.isArray(t)?t:[]).concat(D);n.addListener("tagstart",e=>{const s=e.attrs;let a;const l=e.col+e.tagName.length+1;for(let o=0,u=s.length;o<u;o++){a=s[o];const c=a.name;!r.find(d=>S(c,d))&&c!==c.toLowerCase()&&i.error(`The attribute name of [ ${c} ] must be in lowercase.`,e.line,l+a.index,this,a.raw)}})}};var I=Object.freeze({__proto__:null}),U=f(I);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={id:"attr-sorted",description:"Attribute tags must be in proper order.",init(n,i){const t={},r=["class","id","name","src","for","type","href","value","title","alt","role"];for(let e=0;e<r.length;e++)t[r[e]]=e;n.addListener("tagstart",e=>{const s=e.attrs,a=[];for(let o=0;o<s.length;o++)a.push(s[o].name);const l=JSON.stringify(a);a.sort((o,u)=>t[o]==null&&t[u]==null?0:t[o]==null?1:t[u]==null?-1:t[o]-t[u]||o.localeCompare(u)),l!==JSON.stringify(a)&&i.error(`Inaccurate order ${l} should be in hierarchy ${JSON.stringify(a)} `,e.line,e.col,this,e.raw)})}};var H=Object.freeze({__proto__:null}),V=f(H);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={id:"attr-no-duplication",description:"Elements cannot have duplicate attributes.",init(n,i){n.addListener("tagstart",t=>{const r=t.attrs;let e,s;const a=t.col+t.tagName.length+1,l={};for(let o=0,u=r.length;o<u;o++)e=r[o],s=e.name,l[s]===!0&&i.error(`Duplicate of attribute name [ ${e.name} ] was found.`,t.line,a+e.index,this,e.raw),l[s]=!0})}};var Z=Object.freeze({__proto__:null}),W=f(Z);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={id:"attr-unsafe-chars",description:"Attribute values cannot contain unsafe chars.",init(n,i){n.addListener("tagstart",t=>{const r=t.attrs;let e;const s=t.col+t.tagName.length+1,a=/[\u0000-\u0008\u000b\u000c\u000e-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/;let l;for(let o=0,u=r.length;o<u;o++)if(e=r[o],l=a.exec(e.value),l!==null){const c=escape(l[0]).replace(/%u/,"\\u").replace(/%/,"\\x");i.warn(`The value of attribute [ ${e.name} ] cannot contain an unsafe char [ ${c} ].`,t.line,s+e.index,this,e.raw)}})}};var F=Object.freeze({__proto__:null}),B=f(F);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={id:"attr-value-double-quotes",description:"Attribute values must be in double quotes.",init(n,i){n.addListener("tagstart",t=>{const r=t.attrs;let e;const s=t.col+t.tagName.length+1;for(let a=0,l=r.length;a<l;a++)e=r[a],(e.value!==""&&e.quote!=='"'||e.value===""&&e.quote==="'")&&i.error(`The value of attribute [ ${e.name} ] must be in double quotes.`,t.line,s+e.index,this,e.raw)})}};var Y=Object.freeze({__proto__:null}),Q=f(Y);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={id:"attr-value-not-empty",description:"All attributes must have values.",init(n,i){n.addListener("tagstart",t=>{const r=t.attrs;let e;const s=t.col+t.tagName.length+1;for(let a=0,l=r.length;a<l;a++)e=r[a],e.quote===""&&e.value===""&&i.warn(`The attribute [ ${e.name} ] must have a value.`,t.line,s+e.index,this,e.raw)})}};var J=Object.freeze({__proto__:null}),X=f(J);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={id:"attr-value-single-quotes",description:"Attribute values must be in single quotes.",init(n,i){n.addListener("tagstart",t=>{const r=t.attrs;let e;const s=t.col+t.tagName.length+1;for(let a=0,l=r.length;a<l;a++)e=r[a],(e.value!==""&&e.quote!=="'"||e.value===""&&e.quote==='"')&&i.error(`The value of attribute [ ${e.name} ] must be in single quotes.`,t.line,s+e.index,this,e.raw)})}};var G=Object.freeze({__proto__:null}),K=f(G);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={id:"attr-whitespace",description:"All attributes should be separated by only one space and not have leading/trailing whitespace.",init(n,i,t){const r=Array.isArray(t)?t:[];n.addListener("tagstart",e=>{const s=e.attrs;let a;const l=e.col+e.tagName.length+1;s.forEach(o=>{a=o;const u=o.name;r.indexOf(u)===-1&&(o.value.trim()!==o.value&&i.error(`The attributes of [ ${u} ] must not have leading or trailing whitespace.`,e.line,l+a.index,this,a.raw),o.value.replace(/ +(?= )/g,"")!==o.value&&i.error(`The attributes of [ ${u} ] must be separated by only one space.`,e.line,l+a.index,this,a.raw))})})}};var ee=Object.freeze({__proto__:null}),te=f(ee);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={id:"doctype-first",description:"Doctype must be declared first.",init(n,i){const t=r=>{r.type==="start"||r.type==="text"&&/^\s*$/.test(r.raw)||((r.type!=="comment"&&r.long===!1||/^DOCTYPE\s+/i.test(r.content)===!1)&&i.error("Doctype must be declared first.",r.line,r.col,this,r.raw),n.removeListener("all",t))};n.addListener("all",t)}};var re=Object.freeze({__proto__:null}),ae=f(re);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={id:"doctype-html5",description:'Invalid doctype. Use: "<!DOCTYPE html>"',init(n,i){const t=e=>{e.long===!1&&e.content.toLowerCase()!=="doctype html"&&i.warn('Invalid doctype. Use: "<!DOCTYPE html>"',e.line,e.col,this,e.raw)},r=()=>{n.removeListener("comment",t),n.removeListener("tagstart",r)};n.addListener("all",t),n.addListener("tagstart",r)}};var se=Object.freeze({__proto__:null}),ie=f(se);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={id:"head-script-disabled",description:"The <script> tag cannot be used in a <head> tag.",init(n,i){const t=/^(text\/javascript|application\/javascript)$/i;let r=!1;const e=a=>{const o=n.getMapAttrs(a.attrs).type,u=a.tagName.toLowerCase();u==="head"&&(r=!0),r===!0&&u==="script"&&(!o||t.test(o)===!0)&&i.warn("The <script> tag cannot be used in a <head> tag.",a.line,a.col,this,a.raw)},s=a=>{a.tagName.toLowerCase()==="head"&&(n.removeListener("tagstart",e),n.removeListener("tagend",s))};n.addListener("tagstart",e),n.addListener("tagend",s)}};var ne=Object.freeze({__proto__:null}),le=f(ne);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={id:"href-abs-or-rel",description:"An href attribute must be either absolute or relative.",init(n,i,t){const r=t==="abs"?"absolute":"relative";n.addListener("tagstart",e=>{const s=e.attrs;let a;const l=e.col+e.tagName.length+1;for(let o=0,u=s.length;o<u;o++)if(a=s[o],a.name==="href"){(r==="absolute"&&/^\w+?:/.test(a.value)===!1||r==="relative"&&/^https?:\/\//.test(a.value)===!0)&&i.warn(`The value of the href attribute [ ${a.value} ] must be ${r}.`,e.line,l+a.index,this,a.raw);break}})}};var oe=Object.freeze({__proto__:null}),ue=f(oe);Object.defineProperty(exports,"__esModule",{value:!0});const ce="(?<grandfathered>(en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang))",de="(?<privateUse>x(-[A-Za-z0-9]{1,8})+)",fe="(?<privateUse2>x(-[A-Za-z0-9]{1,8})+)",pe=`((?<language>([A-Za-z]{2,3}(-(?<extlang>[A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-(?<script>[A-Za-z]{4}))?(-(?<region>[A-Za-z]{2}|[0-9]{3}))?(-(?<variant>[A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-(?<extension>[0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-${de})?)`,ge=`(${ce}|${pe}|${fe})`;exports.default={id:"html-lang-require",description:"The lang attribute of an <html> element must be present and should be valid.",init(n,i){n.addListener("tagstart",t=>{const r=t.tagName.toLowerCase(),e=n.getMapAttrs(t.attrs),s=t.col+r.length+1,a=new RegExp(ge,"g");r==="html"&&("lang"in e?e.lang?a.test(e.lang)||i.warn("The lang attribute value of <html> element must be a valid BCP47.",t.line,s,this,t.raw):i.warn("The lang attribute of <html> element must have a value.",t.line,s,this,t.raw):i.warn("An lang attribute must be present on <html> elements.",t.line,s,this,t.raw))})}};var he=Object.freeze({__proto__:null}),me=f(he);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={id:"id-class-ad-disabled",description:"The id and class attributes cannot use the ad keyword, it will be blocked by adblock software.",init(n,i){n.addListener("tagstart",t=>{const r=t.attrs;let e,s;const a=t.col+t.tagName.length+1;for(let l=0,o=r.length;l<o;l++)e=r[l],s=e.name,/^(id|class)$/i.test(s)&&/(^|[-_])ad([-_]|$)/i.test(e.value)&&i.warn(`The value of attribute ${s} cannot use the ad keyword.`,t.line,a+e.index,this,e.raw)})}};var be=Object.freeze({__proto__:null}),_e=f(be);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={id:"id-class-value",description:"The id and class attribute values must meet the specified rules.",init(n,i,t){const r={underline:{regId:/^[a-z\d]+(_[a-z\d]+)*$/,message:"The id and class attribute values must be in lowercase and split by an underscore."},dash:{regId:/^[a-z\d]+(-[a-z\d]+)*$/,message:"The id and class attribute values must be in lowercase and split by a dash."},hump:{regId:/^[a-z][a-zA-Z\d]*([A-Z][a-zA-Z\d]*)*$/,message:"The id and class attribute values must meet the camelCase style."}};let e;if(typeof t=="string"?e=r[t]:e=t,typeof e=="object"&&e.regId){let s=e.regId;const a=e.message;s instanceof RegExp||(s=new RegExp(s)),n.addListener("tagstart",l=>{const o=l.attrs;let u;const c=l.col+l.tagName.length+1;for(let d=0,h=o.length;d<h;d++)if(u=o[d],u.name.toLowerCase()==="id"&&s.test(u.value)===!1&&i.warn(a,l.line,c+u.index,this,u.raw),u.name.toLowerCase()==="class"){const p=u.value.split(/\s+/g);let b;for(let m=0,x=p.length;m<x;m++)b=p[m],b&&s.test(b)===!1&&i.warn(a,l.line,c+u.index,this,b)}})}}};var xe=Object.freeze({__proto__:null}),ye=f(xe);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={id:"id-unique",description:"The value of id attributes must be unique.",init(n,i){const t={};n.addListener("tagstart",r=>{const e=r.attrs;let s,a;const l=r.col+r.tagName.length+1;for(let o=0,u=e.length;o<u;o++)if(s=e[o],s.name.toLowerCase()==="id"){a=s.value,a&&(t[a]===void 0?t[a]=1:t[a]++,t[a]>1&&i.error(`The id value [ ${a} ] must be unique.`,r.line,l+s.index,this,s.raw));break}})}};var we=Object.freeze({__proto__:null}),$e=f(we);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={id:"inline-script-disabled",description:"Inline script cannot be used.",init(n,i){n.addListener("tagstart",t=>{const r=t.attrs;let e;const s=t.col+t.tagName.length+1;let a;const l=/^on(unload|message|submit|select|scroll|resize|mouseover|mouseout|mousemove|mouseleave|mouseenter|mousedown|load|keyup|keypress|keydown|focus|dblclick|click|change|blur|error)$/i;for(let o=0,u=r.length;o<u;o++)e=r[o],a=e.name.toLowerCase(),l.test(a)===!0?i.warn(`Inline script [ ${e.raw} ] cannot be used.`,t.line,s+e.index,this,e.raw):(a==="src"||a==="href")&&/^\s*javascript:/i.test(e.value)&&i.warn(`Inline script [ ${e.raw} ] cannot be used.`,t.line,s+e.index,this,e.raw)})}};var Oe=Object.freeze({__proto__:null}),ve=f(Oe);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={id:"inline-style-disabled",description:"Inline style cannot be used.",init(n,i){n.addListener("tagstart",t=>{const r=t.attrs;let e;const s=t.col+t.tagName.length+1;for(let a=0,l=r.length;a<l;a++)e=r[a],e.name.toLowerCase()==="style"&&i.warn(`Inline style [ ${e.raw} ] cannot be used.`,t.line,s+e.index,this,e.raw)})}};var je=Object.freeze({__proto__:null}),Le=f(je);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={id:"input-requires-label",description:"All [ input ] tags must have a corresponding [ label ] tag. ",init(n,i){const t=[],r=[];n.addListener("tagstart",s=>{const a=s.tagName.toLowerCase(),l=n.getMapAttrs(s.attrs),o=s.col+a.length+1;a==="input"&&l.type!=="hidden"&&r.push({event:s,col:o,id:l.id}),a==="label"&&"for"in l&&l.for!==""&&t.push({event:s,col:o,forValue:l.for})}),n.addListener("end",()=>{r.forEach(s=>{e(s)||i.warn("No matching [ label ] tag found.",s.event.line,s.col,this,s.event.raw)})});function e(s){let a=!1;return t.forEach(l=>{s.id&&s.id===l.forValue&&(a=!0)}),a}}};var Te=Object.freeze({__proto__:null}),Pe=f(Te);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={id:"script-disabled",description:"The <script> tag cannot be used.",init(n,i){n.addListener("tagstart",t=>{t.tagName.toLowerCase()==="script"&&i.error("The <script> tag cannot be used.",t.line,t.col,this,t.raw)})}};var Ae=Object.freeze({__proto__:null}),qe=f(Ae);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={id:"space-tab-mixed-disabled",description:"Do not mix tabs and spaces for indentation.",init(n,i,t){let r="nomix",e=null;if(typeof t=="string"){const s=/^([a-z]+)(\d+)?/.exec(t);s&&(r=s[1],e=s[2]&&parseInt(s[2],10))}n.addListener("text",s=>{const a=s.raw,l=/(^|\r?\n)([ \t]+)/g;let o;for(;o=l.exec(a);){const u=n.fixPos(s,o.index+o[1].length);if(u.col!==1)continue;const c=o[2];r==="space"?e?(/^ +$/.test(c)===!1||c.length%e!==0)&&i.warn(`Please use space for indentation and keep ${e} length.`,u.line,1,this,s.raw):/^ +$/.test(c)===!1&&i.warn("Please use space for indentation.",u.line,1,this,s.raw):r==="tab"&&/^\t+$/.test(c)===!1?i.warn("Please use tab for indentation.",u.line,1,this,s.raw):/ +\t|\t+ /.test(c)===!0&&i.warn("Do not mix tabs and spaces for indentation.",u.line,1,this,s.raw)}})}};var Ce=Object.freeze({__proto__:null}),Ne=f(Ce);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={id:"spec-char-escape",description:"Special characters must be escaped.",init(n,i){n.addListener("text",t=>{const r=t.raw,e=/([<>])|( \& )/g;let s;for(;s=e.exec(r);){const a=n.fixPos(t,s.index);i.error(`Special characters must be escaped : [ ${s[0]} ].`,a.line,a.col,this,t.raw)}})}};var Me=Object.freeze({__proto__:null}),ze=f(Me);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={id:"src-not-empty",description:"The src attribute of an img(script,link) must have a value.",init(n,i){n.addListener("tagstart",t=>{const r=t.tagName,e=t.attrs;let s;const a=t.col+r.length+1;for(let l=0,o=e.length;l<o;l++)s=e[l],(/^(img|script|embed|bgsound|iframe)$/.test(r)===!0&&s.name==="src"||r==="link"&&s.name==="href"||r==="object"&&s.name==="data")&&s.value===""&&i.error(`The attribute [ ${s.name} ] of the tag [ ${r} ] must have a value.`,t.line,a+s.index,this,s.raw)})}};var ke=Object.freeze({__proto__:null}),Ee=f(ke);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={id:"style-disabled",description:"<style> tags cannot be used.",init(n,i){n.addListener("tagstart",t=>{t.tagName.toLowerCase()==="style"&&i.warn("The <style> tag cannot be used.",t.line,t.col,this,t.raw)})}};var Re=Object.freeze({__proto__:null}),De=f(Re);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={id:"tag-pair",description:"Tag must be paired.",init(n,i){const t=[],r=n.makeMap("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed,track,command,source,keygen,wbr");n.addListener("tagstart",e=>{const s=e.tagName.toLowerCase();r[s]===void 0&&!e.close&&t.push({tagName:s,line:e.line,raw:e.raw})}),n.addListener("tagend",e=>{const s=e.tagName.toLowerCase();let a;for(a=t.length-1;a>=0&&t[a].tagName!==s;a--);if(a>=0){const l=[];for(let o=t.length-1;o>a;o--)l.push(`</${t[o].tagName}>`);if(l.length>0){const o=t[t.length-1];i.error(`Tag must be paired, missing: [ ${l.join("")} ], start tag match failed [ ${o.raw} ] on line ${o.line}.`,e.line,e.col,this,e.raw)}t.length=a}else i.error(`Tag must be paired, no start tag: [ ${e.raw} ]`,e.line,e.col,this,e.raw)}),n.addListener("end",e=>{const s=[];for(let a=t.length-1;a>=0;a--)s.push(`</${t[a].tagName}>`);if(s.length>0){const a=t[t.length-1];i.error(`Tag must be paired, missing: [ ${s.join("")} ], open tag match failed [ ${a.raw} ] on line ${a.line}.`,e.line,e.col,this,"")}})}};var Se=Object.freeze({__proto__:null}),Ie=f(Se);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={id:"tag-self-close",description:"Empty tags must be self closed.",init(n,i){const t=n.makeMap("area,base,basefont,bgsound,br,col,frame,hr,img,input,isindex,link,meta,param,embed,track,command,source,keygen,wbr");n.addListener("tagstart",r=>{const e=r.tagName.toLowerCase();t[e]!==void 0&&(r.close||i.warn(`The empty tag : [ ${e} ] must be self closed.`,r.line,r.col,this,r.raw))})}};var Ue=Object.freeze({__proto__:null}),He=f(Ue);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={id:"empty-tag-not-self-closed",description:"Empty tags must not use self closed syntax.",init(n,i){const t=n.makeMap("area,base,basefont,bgsound,br,col,frame,hr,img,input,isindex,link,meta,param,embed,track,command,source,keygen,wbr");n.addListener("tagstart",r=>{const e=r.tagName.toLowerCase();t[e]!==void 0&&r.close&&i.error(`The empty tag : [ ${e} ] must not use self closed syntax.`,r.line,r.col,this,r.raw)})}};var Ve=Object.freeze({__proto__:null}),Ze=f(Ve);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={id:"tagname-lowercase",description:"All html element names must be in lowercase.",init(n,i,t){const r=Array.isArray(t)?t:[];n.addListener("tagstart,tagend",e=>{const s=e.tagName;r.indexOf(s)===-1&&s!==s.toLowerCase()&&i.error(`The html element name of [ ${s} ] must be in lowercase.`,e.line,e.col,this,e.raw)})}};var We=Object.freeze({__proto__:null}),Fe=f(We);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={id:"tagname-specialchars",description:"All special characters must be escaped.",init(n,i){const t=/[^a-zA-Z0-9\-:_]/;n.addListener("tagstart,tagend",r=>{const e=r.tagName;t.test(e)&&i.error(`The html element name of [ ${e} ] contains special character.`,r.line,r.col,this,r.raw)})}};var Be=Object.freeze({__proto__:null}),Ye=f(Be);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={id:"title-require",description:"<title> must be present in <head> tag.",init(n,i){let t=!1,r=!1;const e=a=>{const l=a.tagName.toLowerCase();l==="head"?t=!0:l==="title"&&t&&(r=!0)},s=a=>{const l=a.tagName.toLowerCase();if(r&&l==="title"){const o=a.lastEvent;(o.type!=="text"||o.type==="text"&&/^\s*$/.test(o.raw)===!0)&&i.error("<title></title> must not be empty.",a.line,a.col,this,a.raw)}else l==="head"&&(r===!1&&i.error("<title> must be present in <head> tag.",a.line,a.col,this,a.raw),n.removeListener("tagstart",e),n.removeListener("tagend",s))};n.addListener("tagstart",e),n.addListener("tagend",s)}};var Qe=Object.freeze({__proto__:null}),Je=f(Qe);Object.defineProperty(exports,"__esModule",{value:!0});let O={a:{selfclosing:!1,attrsRequired:["href","title"],redundantAttrs:["alt"]},div:{selfclosing:!1},main:{selfclosing:!1,redundantAttrs:["role"]},nav:{selfclosing:!1,redundantAttrs:["role"]},script:{attrsOptional:[["async","async"],["defer","defer"]]},img:{selfclosing:!0,attrsRequired:["src","alt","title"]}};exports.default={id:"tags-check",description:"Checks html tags.",init(n,i,t){O=Object.assign(Object.assign({},O),t),n.addListener("tagstart",r=>{const e=r.attrs,s=r.col+r.tagName.length+1,a=r.tagName.toLowerCase();if(O[a]){const l=O[a];l.selfclosing===!0&&!r.close?i.warn(`The <${a}> tag must be selfclosing.`,r.line,r.col,this,r.raw):l.selfclosing===!1&&r.close&&i.warn(`The <${a}> tag must not be selfclosing.`,r.line,r.col,this,r.raw),Array.isArray(l.attrsRequired)&&l.attrsRequired.forEach(u=>{if(Array.isArray(u)){const c=u.map(p=>p),d=c.shift(),h=c;e.some(p=>p.name===d)?e.forEach(p=>{p.name===d&&h.indexOf(p.value)===-1&&i.error(`The <${a}> tag must have attr '${d}' with one value of '${h.join("' or '")}'.`,r.line,s,this,r.raw)}):i.error(`The <${a}> tag must have attr '${d}'.`,r.line,s,this,r.raw)}else e.some(c=>u.split("|").indexOf(c.name)!==-1)||i.error(`The <${a}> tag must have attr '${u}'.`,r.line,s,this,r.raw)}),Array.isArray(l.attrsOptional)&&l.attrsOptional.forEach(u=>{if(Array.isArray(u)){const c=u.map(p=>p),d=c.shift(),h=c;e.some(p=>p.name===d)&&e.forEach(p=>{p.name===d&&h.indexOf(p.value)===-1&&i.error(`The <${a}> tag must have optional attr '${d}' with one value of '${h.join("' or '")}'.`,r.line,s,this,r.raw)})}}),Array.isArray(l.redundantAttrs)&&l.redundantAttrs.forEach(u=>{e.some(c=>c.name===u)&&i.error(`The attr '${u}' is redundant for <${a}> and should be omitted.`,r.line,s,this,r.raw)})}})}};var Xe=Object.freeze({__proto__:null}),Ge=f(Xe);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={id:"attr-no-unnecessary-whitespace",description:"No spaces between attribute names and values.",init(n,i,t){const r=Array.isArray(t)?t:[];n.addListener("tagstart",e=>{const s=e.attrs,a=e.col+e.tagName.length+1;for(let l=0;l<s.length;l++)if(r.indexOf(s[l].name)===-1){const o=/(\s*)=(\s*)/.exec(s[l].raw.trim());o&&(o[1].length!==0||o[2].length!==0)&&i.error(`The attribute '${s[l].name}' must not have spaces between the name and value.`,e.line,a+s[l].index,this,s[l].raw)}})}};var Ke=Object.freeze({__proto__:null}),et=f(Ke);Object.defineProperty(exports,"__esModule",{value:!0}),exports.attrNoUnnecessaryWhitespace=exports.tagsCheck=exports.titleRequire=exports.tagnameSpecialChars=exports.tagnameLowercase=exports.emptyTagNotSelfClosed=exports.tagSelfClose=exports.tagPair=exports.styleDisabled=exports.srcNotEmpty=exports.specCharEscape=exports.spaceTabMixedDisabled=exports.scriptDisabled=exports.inputRequiresLabel=exports.inlineStyleDisabled=exports.inlineScriptDisabled=exports.idUnique=exports.idClassValue=exports.idClsasAdDisabled=exports.htmlLangRequire=exports.hrefAbsOrRel=exports.headScriptDisabled=exports.doctypeHTML5=exports.doctypeFirst=exports.attrWhitespace=exports.attrValueSingleQuotes=exports.attrValueNotEmpty=exports.attrValueDoubleQuotes=exports.attrUnsafeChars=exports.attrNoDuplication=exports.attrSort=exports.attrLowercase=exports.altRequire=void 0;var tt=R;Object.defineProperty(exports,"altRequire",{enumerable:!0,get:function(){return tt.default}});var rt=U;Object.defineProperty(exports,"attrLowercase",{enumerable:!0,get:function(){return rt.default}});var at=V;Object.defineProperty(exports,"attrSort",{enumerable:!0,get:function(){return at.default}});var st=W;Object.defineProperty(exports,"attrNoDuplication",{enumerable:!0,get:function(){return st.default}});var it=B;Object.defineProperty(exports,"attrUnsafeChars",{enumerable:!0,get:function(){return it.default}});var nt=Q;Object.defineProperty(exports,"attrValueDoubleQuotes",{enumerable:!0,get:function(){return nt.default}});var lt=X;Object.defineProperty(exports,"attrValueNotEmpty",{enumerable:!0,get:function(){return lt.default}});var ot=K;Object.defineProperty(exports,"attrValueSingleQuotes",{enumerable:!0,get:function(){return ot.default}});var ut=te;Object.defineProperty(exports,"attrWhitespace",{enumerable:!0,get:function(){return ut.default}});var ct=ae;Object.defineProperty(exports,"doctypeFirst",{enumerable:!0,get:function(){return ct.default}});var dt=ie;Object.defineProperty(exports,"doctypeHTML5",{enumerable:!0,get:function(){return dt.default}});var ft=le;Object.defineProperty(exports,"headScriptDisabled",{enumerable:!0,get:function(){return ft.default}});var pt=ue;Object.defineProperty(exports,"hrefAbsOrRel",{enumerable:!0,get:function(){return pt.default}});var gt=me;Object.defineProperty(exports,"htmlLangRequire",{enumerable:!0,get:function(){return gt.default}});var ht=_e;Object.defineProperty(exports,"idClsasAdDisabled",{enumerable:!0,get:function(){return ht.default}});var mt=ye;Object.defineProperty(exports,"idClassValue",{enumerable:!0,get:function(){return mt.default}});var bt=$e;Object.defineProperty(exports,"idUnique",{enumerable:!0,get:function(){return bt.default}});var _t=ve;Object.defineProperty(exports,"inlineScriptDisabled",{enumerable:!0,get:function(){return _t.default}});var xt=Le;Object.defineProperty(exports,"inlineStyleDisabled",{enumerable:!0,get:function(){return xt.default}});var yt=Pe;Object.defineProperty(exports,"inputRequiresLabel",{enumerable:!0,get:function(){return yt.default}});var wt=qe;Object.defineProperty(exports,"scriptDisabled",{enumerable:!0,get:function(){return wt.default}});var $t=Ne;Object.defineProperty(exports,"spaceTabMixedDisabled",{enumerable:!0,get:function(){return $t.default}});var Ot=ze;Object.defineProperty(exports,"specCharEscape",{enumerable:!0,get:function(){return Ot.default}});var vt=Ee;Object.defineProperty(exports,"srcNotEmpty",{enumerable:!0,get:function(){return vt.default}});var jt=De;Object.defineProperty(exports,"styleDisabled",{enumerable:!0,get:function(){return jt.default}});var Lt=Ie;Object.defineProperty(exports,"tagPair",{enumerable:!0,get:function(){return Lt.default}});var Tt=He;Object.defineProperty(exports,"tagSelfClose",{enumerable:!0,get:function(){return Tt.default}});var Pt=Ze;Object.defineProperty(exports,"emptyTagNotSelfClosed",{enumerable:!0,get:function(){return Pt.default}});var At=Fe;Object.defineProperty(exports,"tagnameLowercase",{enumerable:!0,get:function(){return At.default}});var qt=Ye;Object.defineProperty(exports,"tagnameSpecialChars",{enumerable:!0,get:function(){return qt.default}});var Ct=Je;Object.defineProperty(exports,"titleRequire",{enumerable:!0,get:function(){return Ct.default}});var Nt=Ge;Object.defineProperty(exports,"tagsCheck",{enumerable:!0,get:function(){return Nt.default}});var Mt=et;Object.defineProperty(exports,"attrNoUnnecessaryWhitespace",{enumerable:!0,get:function(){return Mt.default}});var zt=Object.freeze({__proto__:null}),kt=f(zt);Object.defineProperty(exports,"__esModule",{value:!0}),exports.HTMLParser=exports.Reporter=exports.HTMLRules=exports.HTMLHint=void 0;const P=N;exports.HTMLParser=P.default;const A=k;exports.Reporter=A.default;const v=kt;exports.HTMLRules=v;class Et{constructor(){this.rules={},this.defaultRuleset={"tagname-lowercase":!0,"attr-lowercase":!0,"attr-value-double-quotes":!0,"doctype-first":!0,"tag-pair":!0,"spec-char-escape":!0,"id-unique":!0,"src-not-empty":!0,"attr-no-duplication":!0,"title-require":!0}}addRule(i){this.rules[i.id]=i}verify(i,t=this.defaultRuleset){Object.keys(t).length===0&&(t=this.defaultRuleset),i=i.replace(/^\s*<!--\s*htmlhint\s+([^\r\n]+?)\s*-->/i,(l,o)=>(o.replace(/(?:^|,)\s*([^:,]+)\s*(?:\:\s*([^,\s]+))?/g,(u,c,d)=>(t[c]=d!==void 0&&d.length>0?JSON.parse(d):!0,"")),""));const r=new P.default,e=new A.default(i,t),s=this.rules;let a;for(const l in t)a=s[l],a!==void 0&&t[l]!==!1&&a.init(r,e,t[l]);return r.parse(i),e.messages}format(i,t={}){const r=[],e={white:"",grey:"",red:"",reset:""};t.colors&&(e.white="\x1B[37m",e.grey="\x1B[90m",e.red="\x1B[31m",e.reset="\x1B[39m");const s=t.indent||0;return i.forEach(a=>{let u=a.evidence;const c=a.line,d=a.col,h=u.length;let p=d>40+1?d-40:1,b=u.length>d+60?d+60:h;d<40+1&&(b+=40-d+1),u=u.replace(/\t/g," ").substring(p-1,b),p>1&&(u=`...${u}`,p-=3),b<h&&(u+="..."),r.push(`${e.white+j(s)}L${c} |${e.grey}${u}${e.reset}`);let m=d-p;const x=u.substring(0,m).match(/[^\u0000-\u00ff]/g);x!==null&&(m+=x.length),r.push(`${e.white+j(s)+j(String(c).length+3+m)}^ ${e.red}${a.message} (${a.rule.id})${e.reset}`)}),r}}function j(n,i){return new Array(n+1).join(i||" ")}exports.HTMLHint=new Et,Object.keys(v).forEach(n=>{exports.HTMLHint.addRule(v[n])});var Rt=Object.freeze({__proto__:null}),Dt=f(Rt);window.Tangible=window.Tangible||{},window.Tangible.HTMLHint=Dt})();
