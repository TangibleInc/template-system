var lo=Object.defineProperty;var g=(xe,He)=>lo(xe,"name",{value:He,configurable:!0});(function(){"use strict";(function(){const l={env:{NODE_ENV:"production"}};try{if(process){process.env=Object.assign({},process.env),Object.assign(process.env,l);return}}catch(e){}globalThis.process={env:l}})();var xe=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},He={},at={},re={},k={};Object.defineProperty(k,"__esModule",{value:!0}),k.Orientation=void 0;class ce{constructor(e){this._name=e}static flip(e){return e===ce.HORZ?ce.VERT:ce.HORZ}getName(){return this._name}toString(){return this._name}}g(ce,"Orientation"),k.Orientation=ce,ce.HORZ=new ce("horz"),ce.VERT=new ce("vert");var G={};Object.defineProperty(G,"__esModule",{value:!0}),G.Rect=void 0;const Pi=k;class Be{constructor(e,t,i,o){this.x=e,this.y=t,this.width=i,this.height=o}static empty(){return new Be(0,0,0,0)}static fromElement(e){let{x:t,y:i,width:o,height:s}=e.getBoundingClientRect();return new Be(t,i,o,s)}clone(){return new Be(this.x,this.y,this.width,this.height)}equals(e){return this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height}getBottom(){return this.y+this.height}getRight(){return this.x+this.width}getCenter(){return{x:this.x+this.width/2,y:this.y+this.height/2}}positionElement(e,t){this.styleWithPosition(e.style,t)}styleWithPosition(e,t="absolute"){return e.left=this.x+"px",e.top=this.y+"px",e.width=Math.max(0,this.width)+"px",e.height=Math.max(0,this.height)+"px",e.position=t,e}contains(e,t){return this.x<=e&&e<=this.getRight()&&this.y<=t&&t<=this.getBottom()}removeInsets(e){return new Be(this.x+e.left,this.y+e.top,Math.max(0,this.width-e.left-e.right),Math.max(0,this.height-e.top-e.bottom))}centerInRect(e){this.x=(e.width-this.width)/2,this.y=(e.height-this.height)/2}_getSize(e){let t=this.width;return e===Pi.Orientation.VERT&&(t=this.height),t}toString(){return"(Rect: x="+this.x+", y="+this.y+", width="+this.width+", height="+this.height+")"}}g(Be,"Rect"),G.Rect=Be,Object.defineProperty(re,"__esModule",{value:!0}),re.DockLocation=void 0;const Ye=k,oe=G;class M{constructor(e,t,i){this._name=e,this._orientation=t,this._indexPlus=i,M.values[this._name]=this}static getByName(e){return M.values[e]}static getLocation(e,t,i){if(t=(t-e.x)/e.width,i=(i-e.y)/e.height,t>=.25&&t<.75&&i>=.25&&i<.75)return M.CENTER;const o=i>=t,s=i>=1-t;return o?s?M.BOTTOM:M.LEFT:s?M.RIGHT:M.TOP}getName(){return this._name}getOrientation(){return this._orientation}getDockRect(e){return this===M.TOP?new oe.Rect(e.x,e.y,e.width,e.height/2):this===M.BOTTOM?new oe.Rect(e.x,e.getBottom()-e.height/2,e.width,e.height/2):this===M.LEFT?new oe.Rect(e.x,e.y,e.width/2,e.height):this===M.RIGHT?new oe.Rect(e.getRight()-e.width/2,e.y,e.width/2,e.height):e.clone()}split(e,t){if(this===M.TOP){const i=new oe.Rect(e.x,e.y,e.width,t),o=new oe.Rect(e.x,e.y+t,e.width,e.height-t);return{start:i,end:o}}else if(this===M.LEFT){const i=new oe.Rect(e.x,e.y,t,e.height),o=new oe.Rect(e.x+t,e.y,e.width-t,e.height);return{start:i,end:o}}if(this===M.RIGHT){const i=new oe.Rect(e.getRight()-t,e.y,t,e.height),o=new oe.Rect(e.x,e.y,e.width-t,e.height);return{start:i,end:o}}else{const i=new oe.Rect(e.x,e.getBottom()-t,e.width,t),o=new oe.Rect(e.x,e.y,e.width,e.height-t);return{start:i,end:o}}}reflect(){return this===M.TOP?M.BOTTOM:this===M.LEFT?M.RIGHT:this===M.RIGHT?M.LEFT:M.TOP}toString(){return"(DockLocation: name="+this._name+", orientation="+this._orientation+")"}}g(M,"DockLocation"),re.DockLocation=M,M.values={},M.TOP=new M("top",Ye.Orientation.VERT,0),M.BOTTOM=new M("bottom",Ye.Orientation.VERT,1),M.LEFT=new M("left",Ye.Orientation.HORZ,0),M.RIGHT=new M("right",Ye.Orientation.HORZ,1),M.CENTER=new M("center",Ye.Orientation.VERT,0);var Ce={};Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.DragDrop=void 0;const Hi=G,Yi=!!(typeof window!="undefined"&&window.document&&window.document.createElement);class dt{constructor(){this._manualGlassManagement=!1,this._startX=0,this._startY=0,this._dragDepth=0,this._glassShowing=!1,this._dragging=!1,this._active=!1,Yi&&(this._glass=document.createElement("div"),this._glass.style.zIndex="998",this._glass.style.backgroundColor="transparent",this._glass.style.outline="none"),this._defaultGlassCursor="default",this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onKeyPress=this._onKeyPress.bind(this),this._onDragCancel=this._onDragCancel.bind(this),this._onDragEnter=this._onDragEnter.bind(this),this._onDragLeave=this._onDragLeave.bind(this),this.resizeGlass=this.resizeGlass.bind(this),this._lastClick=0,this._clickX=0,this._clickY=0}addGlass(e){var t;this._glassShowing?this._manualGlassManagement=!0:(this._document||(this._document=window.document),this._rootElement||(this._rootElement=this._document.body),this.resizeGlass(),(t=this._document.defaultView)===null||t===void 0||t.addEventListener("resize",this.resizeGlass),this._document.body.appendChild(this._glass),this._glass.tabIndex=-1,this._glass.focus(),this._glass.addEventListener("keydown",this._onKeyPress),this._glass.addEventListener("dragenter",this._onDragEnter,{passive:!1}),this._glass.addEventListener("dragover",this._onMouseMove,{passive:!1}),this._glass.addEventListener("dragleave",this._onDragLeave,{passive:!1}),this._glassShowing=!0,this._fDragCancel=e,this._manualGlassManagement=!1)}resizeGlass(){Hi.Rect.fromElement(this._rootElement).positionElement(this._glass,"fixed")}hideGlass(){var e;this._glassShowing&&(this._document.body.removeChild(this._glass),(e=this._document.defaultView)===null||e===void 0||e.removeEventListener("resize",this.resizeGlass),this._glassShowing=!1,this._document=void 0,this._rootElement=void 0,this.setGlassCursorOverride(void 0))}_updateGlassCursor(){var e;this._glass.style.cursor=(e=this._glassCursorOverride)!==null&&e!==void 0?e:this._defaultGlassCursor}_setDefaultGlassCursor(e){this._defaultGlassCursor=e,this._updateGlassCursor()}setGlassCursorOverride(e){this._glassCursorOverride=e,this._updateGlassCursor()}startDrag(e,t,i,o,s,d,T,p,A){if(e&&this._lastEvent&&this._lastEvent.type.startsWith("touch")&&e.type.startsWith("mouse")&&e.timeStamp-this._lastEvent.timeStamp<500)return;this._lastEvent=e,p?this._document=p:this._document=window.document,A?this._rootElement=A:this._rootElement=this._document.body;const h=this._getLocationEvent(e);this.addGlass(s),this._dragging&&console.warn("this._dragging true on startDrag should never happen"),e?(this._startX=h.clientX,this._startY=h.clientY,(!window.matchMedia||window.matchMedia("(pointer: fine)").matches)&&this._setDefaultGlassCursor(getComputedStyle(e.target).cursor),this._stopPropagation(e),this._preventDefault(e)):(this._startX=0,this._startY=0,this._setDefaultGlassCursor("default")),this._dragging=!1,this._fDragStart=t,this._fDragMove=i,this._fDragEnd=o,this._fDragCancel=s,this._fClick=d,this._fDblClick=T,this._active=!0,(e==null?void 0:e.type)==="dragenter"?(this._dragDepth=1,this._rootElement.addEventListener("dragenter",this._onDragEnter,{passive:!1}),this._rootElement.addEventListener("dragover",this._onMouseMove,{passive:!1}),this._rootElement.addEventListener("dragleave",this._onDragLeave,{passive:!1}),this._document.addEventListener("dragend",this._onDragCancel,{passive:!1}),this._document.addEventListener("drop",this._onMouseUp,{passive:!1})):(this._document.addEventListener("mouseup",this._onMouseUp,{passive:!1}),this._document.addEventListener("mousemove",this._onMouseMove,{passive:!1}),this._document.addEventListener("touchend",this._onMouseUp,{passive:!1}),this._document.addEventListener("touchmove",this._onMouseMove,{passive:!1}))}isDragging(){return this._dragging}isActive(){return this._active}toString(){return"(DragDrop: startX="+this._startX+", startY="+this._startY+", dragging="+this._dragging+")"}_onKeyPress(e){e.keyCode===27&&this._onDragCancel()}_onDragCancel(){this._rootElement.removeEventListener("dragenter",this._onDragEnter),this._rootElement.removeEventListener("dragover",this._onMouseMove),this._rootElement.removeEventListener("dragleave",this._onDragLeave),this._document.removeEventListener("dragend",this._onDragCancel),this._document.removeEventListener("drop",this._onMouseUp),this._document.removeEventListener("mousemove",this._onMouseMove),this._document.removeEventListener("mouseup",this._onMouseUp),this._document.removeEventListener("touchend",this._onMouseUp),this._document.removeEventListener("touchmove",this._onMouseMove),this.hideGlass(),this._fDragCancel!==void 0&&this._fDragCancel(this._dragging),this._dragging=!1,this._active=!1}_getLocationEvent(e){let t=e;return e&&e.touches&&(t=e.touches[0]),t}_getLocationEventEnd(e){let t=e;return e.changedTouches&&(t=e.changedTouches[0]),t}_stopPropagation(e){e.stopPropagation&&e.stopPropagation()}_preventDefault(e){return e.preventDefault&&e.cancelable&&e.preventDefault(),e}_onMouseMove(e){this._lastEvent=e;const t=this._getLocationEvent(e);return this._stopPropagation(e),this._preventDefault(e),!this._dragging&&(Math.abs(this._startX-t.clientX)>5||Math.abs(this._startY-t.clientY)>5)&&(this._dragging=!0,this._fDragStart&&(this._setDefaultGlassCursor("move"),this._dragging=this._fDragStart({clientX:this._startX,clientY:this._startY}))),this._dragging&&this._fDragMove&&this._fDragMove(t),!1}_onMouseUp(e){this._lastEvent=e;const t=this._getLocationEventEnd(e);if(this._stopPropagation(e),this._preventDefault(e),this._active=!1,this._rootElement.removeEventListener("dragenter",this._onDragEnter),this._rootElement.removeEventListener("dragover",this._onMouseMove),this._rootElement.removeEventListener("dragleave",this._onDragLeave),this._document.removeEventListener("dragend",this._onDragCancel),this._document.removeEventListener("drop",this._onMouseUp),this._document.removeEventListener("mousemove",this._onMouseMove),this._document.removeEventListener("mouseup",this._onMouseUp),this._document.removeEventListener("touchend",this._onMouseUp),this._document.removeEventListener("touchmove",this._onMouseMove),this._manualGlassManagement||this.hideGlass(),this._dragging)this._dragging=!1,this._fDragEnd&&this._fDragEnd(e);else if(this._fDragCancel&&this._fDragCancel(this._dragging),Math.abs(this._startX-t.clientX)<=5&&Math.abs(this._startY-t.clientY)<=5){let i=!1;const o=new Date().getTime();Math.abs(this._clickX-t.clientX)<=5&&Math.abs(this._clickY-t.clientY)<=5&&o-this._lastClick<500&&this._fDblClick&&(this._fDblClick(e),i=!0),!i&&this._fClick&&this._fClick(e),this._lastClick=o,this._clickX=t.clientX,this._clickY=t.clientY}return!1}_onDragEnter(e){return this._preventDefault(e),this._stopPropagation(e),this._dragDepth++,!1}_onDragLeave(e){return this._preventDefault(e),this._stopPropagation(e),this._dragDepth--,this._dragDepth<=0&&this._onDragCancel(),!1}}g(dt,"DragDrop"),Ce.DragDrop=dt,dt.instance=new dt;var ie={},ke={};Object.defineProperty(ke,"__esModule",{value:!0}),ke.Action=void 0;class Kt{constructor(e,t){this.type=e,this.data=t}}g(Kt,"Action"),ke.Action=Kt,Object.defineProperty(ie,"__esModule",{value:!0}),ie.Actions=void 0;const Z=ke;class x{static addNode(e,t,i,o,s){return new Z.Action(x.ADD_NODE,{json:e,toNode:t,location:i.getName(),index:o,select:s})}static moveNode(e,t,i,o,s){return new Z.Action(x.MOVE_NODE,{fromNode:e,toNode:t,location:i.getName(),index:o,select:s})}static deleteTab(e){return new Z.Action(x.DELETE_TAB,{node:e})}static deleteTabset(e){return new Z.Action(x.DELETE_TABSET,{node:e})}static renameTab(e,t){return new Z.Action(x.RENAME_TAB,{node:e,text:t})}static selectTab(e){return new Z.Action(x.SELECT_TAB,{tabNode:e})}static setActiveTabset(e){return new Z.Action(x.SET_ACTIVE_TABSET,{tabsetNode:e})}static adjustSplit(e){const t=e.node1Id,i=e.node2Id;return new Z.Action(x.ADJUST_SPLIT,{node1:t,weight1:e.weight1,pixelWidth1:e.pixelWidth1,node2:i,weight2:e.weight2,pixelWidth2:e.pixelWidth2})}static adjustBorderSplit(e,t){return new Z.Action(x.ADJUST_BORDER_SPLIT,{node:e,pos:t})}static maximizeToggle(e){return new Z.Action(x.MAXIMIZE_TOGGLE,{node:e})}static updateModelAttributes(e){return new Z.Action(x.UPDATE_MODEL_ATTRIBUTES,{json:e})}static updateNodeAttributes(e,t){return new Z.Action(x.UPDATE_NODE_ATTRIBUTES,{node:e,json:t})}static floatTab(e){return new Z.Action(x.FLOAT_TAB,{node:e})}static unFloatTab(e){return new Z.Action(x.UNFLOAT_TAB,{node:e})}}g(x,"Actions"),ie.Actions=x,x.ADD_NODE="FlexLayout_AddNode",x.MOVE_NODE="FlexLayout_MoveNode",x.DELETE_TAB="FlexLayout_DeleteTab",x.DELETE_TABSET="FlexLayout_DeleteTabset",x.RENAME_TAB="FlexLayout_RenameTab",x.SELECT_TAB="FlexLayout_SelectTab",x.SET_ACTIVE_TABSET="FlexLayout_SetActiveTabset",x.ADJUST_SPLIT="FlexLayout_AdjustSplit",x.ADJUST_BORDER_SPLIT="FlexLayout_AdjustBorderSplit",x.MAXIMIZE_TOGGLE="FlexLayout_MaximizeToggle",x.UPDATE_MODEL_ATTRIBUTES="FlexLayout_UpdateModelAttributes",x.UPDATE_NODE_ATTRIBUTES="FlexLayout_UpdateNodeAttributes",x.FLOAT_TAB="FlexLayout_FloatTab",x.UNFLOAT_TAB="FlexLayout_UnFloatTab";var Xe={},_e={};Object.defineProperty(_e,"__esModule",{value:!0}),_e.Attribute=void 0;class We{constructor(e,t,i,o){this.name=e,this.modelName=t,this.defaultValue=i,this.alwaysWriteJson=o,this.required=!1,this.fixed=!1,this.type="any"}setType(e){return this.type=e,this}setRequired(){return this.required=!0,this}setFixed(){return this.fixed=!0,this}}g(We,"Attribute"),_e.Attribute=We,We.NUMBER="number",We.STRING="string",We.BOOLEAN="boolean";var fe={};Object.defineProperty(fe,"__esModule",{value:!0}),fe.AttributeDefinitions=void 0;const ki=_e;class Qt{constructor(){this.attributes=[],this.nameToAttribute={}}addWithAll(e,t,i,o){const s=new ki.Attribute(e,t,i,o);return this.attributes.push(s),this.nameToAttribute[e]=s,s}addInherited(e,t){return this.addWithAll(e,t,void 0,!1)}add(e,t,i){return this.addWithAll(e,void 0,t,i)}getAttributes(){return this.attributes}getModelName(e){const t=this.nameToAttribute[e];if(t!==void 0)return t.modelName}toJson(e,t){for(const i of this.attributes){const o=t[i.name];(i.alwaysWriteJson||o!==i.defaultValue)&&(e[i.name]=o)}}fromJson(e,t){for(const i of this.attributes){const o=e[i.name];o===void 0?t[i.name]=i.defaultValue:t[i.name]=o}}update(e,t){for(const i of this.attributes)if(e.hasOwnProperty(i.name)){const o=e[i.name];o===void 0?delete t[i.name]:t[i.name]=o}}setDefaults(e){for(const t of this.attributes)e[t.name]=t.defaultValue}toTypescriptInterface(e,t){const i=[],o=this.attributes.sort((s,d)=>s.name.localeCompare(d.name));i.push("export interface I"+e+"Attributes {");for(let s=0;s<o.length;s++){const d=o[s];let T=d.type,p,A=d,h;A.defaultValue!==void 0?p=A.defaultValue:A.modelName!==void 0&&t!==void 0&&t.nameToAttribute[A.modelName]!==void 0&&(h=A.modelName,A=t.nameToAttribute[A.modelName],p=A.defaultValue,T=A.type);let c=JSON.stringify(p);const S=A.required||A.fixed?"":"?";if(d.fixed)i.push("	"+d.name+": "+c+";");else{const r=(p!==void 0?"default: "+c:"")+(h!==void 0?" - inherited from global "+h:"");i.push("	"+d.name+S+": "+T+";"+(r.length>0?" // "+r:""))}}return i.push("}"),i.join(`
`)}}g(Qt,"AttributeDefinitions"),fe.AttributeDefinitions=Qt;var Me={};Object.defineProperty(Me,"__esModule",{value:!0}),Me.DropInfo=void 0;class ei{constructor(e,t,i,o,s){this.node=e,this.rect=t,this.location=i,this.index=o,this.className=s}}g(ei,"DropInfo"),Me.DropInfo=ei;var X={};(function(l){Object.defineProperty(l,"__esModule",{value:!0}),l.CLASSES=void 0,function(e){e.FLEXLAYOUT__BORDER="flexlayout__border",e.FLEXLAYOUT__BORDER_="flexlayout__border_",e.FLEXLAYOUT__BORDER_BUTTON="flexlayout__border_button",e.FLEXLAYOUT__BORDER_BUTTON_="flexlayout__border_button_",e.FLEXLAYOUT__BORDER_BUTTON_CONTENT="flexlayout__border_button_content",e.FLEXLAYOUT__BORDER_BUTTON_LEADING="flexlayout__border_button_leading",e.FLEXLAYOUT__BORDER_BUTTON_TRAILING="flexlayout__border_button_trailing",e.FLEXLAYOUT__BORDER_BUTTON__SELECTED="flexlayout__border_button--selected",e.FLEXLAYOUT__BORDER_BUTTON__UNSELECTED="flexlayout__border_button--unselected",e.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_OVERFLOW="flexlayout__border_toolbar_button_overflow",e.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_OVERFLOW_="flexlayout__border_toolbar_button_overflow_",e.FLEXLAYOUT__BORDER_INNER="flexlayout__border_inner",e.FLEXLAYOUT__BORDER_INNER_="flexlayout__border_inner_",e.FLEXLAYOUT__BORDER_INNER_TAB_CONTAINER="flexlayout__border_inner_tab_container",e.FLEXLAYOUT__BORDER_INNER_TAB_CONTAINER_="flexlayout__border_inner_tab_container_",e.FLEXLAYOUT__BORDER_TAB_DIVIDER="flexlayout__border_tab_divider",e.FLEXLAYOUT__BORDER_SIZER="flexlayout__border_sizer",e.FLEXLAYOUT__BORDER_TOOLBAR="flexlayout__border_toolbar",e.FLEXLAYOUT__BORDER_TOOLBAR_="flexlayout__border_toolbar_",e.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON="flexlayout__border_toolbar_button",e.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_FLOAT="flexlayout__border_toolbar_button-float",e.FLEXLAYOUT__DRAG_RECT="flexlayout__drag_rect",e.FLEXLAYOUT__EDGE_RECT="flexlayout__edge_rect",e.FLEXLAYOUT__ERROR_BOUNDARY_CONTAINER="flexlayout__error_boundary_container",e.FLEXLAYOUT__ERROR_BOUNDARY_CONTENT="flexlayout__error_boundary_content",e.FLEXLAYOUT__FLOATING_WINDOW_CONTENT="flexlayout__floating_window_content",e.FLEXLAYOUT__FLOATING_WINDOW_TAB="flexlayout__floating_window_tab",e.FLEXLAYOUT__LAYOUT="flexlayout__layout",e.FLEXLAYOUT__OUTLINE_RECT="flexlayout__outline_rect",e.FLEXLAYOUT__OUTLINE_RECT_EDGE="flexlayout__outline_rect_edge",e.FLEXLAYOUT__SPLITTER="flexlayout__splitter",e.FLEXLAYOUT__SPLITTER_EXTRA="flexlayout__splitter_extra",e.FLEXLAYOUT__SPLITTER_="flexlayout__splitter_",e.FLEXLAYOUT__SPLITTER_BORDER="flexlayout__splitter_border",e.FLEXLAYOUT__SPLITTER_DRAG="flexlayout__splitter_drag",e.FLEXLAYOUT__TAB="flexlayout__tab",e.FLEXLAYOUT__TABSET="flexlayout__tabset",e.FLEXLAYOUT__TABSET_HEADER="flexlayout__tabset_header",e.FLEXLAYOUT__TABSET_HEADER_SIZER="flexlayout__tabset_header_sizer",e.FLEXLAYOUT__TABSET_HEADER_CONTENT="flexlayout__tabset_header_content",e.FLEXLAYOUT__TABSET_MAXIMIZED="flexlayout__tabset-maximized",e.FLEXLAYOUT__TABSET_SELECTED="flexlayout__tabset-selected",e.FLEXLAYOUT__TABSET_SIZER="flexlayout__tabset_sizer",e.FLEXLAYOUT__TABSET_TAB_DIVIDER="flexlayout__tabset_tab_divider",e.FLEXLAYOUT__TABSET_CONTENT="flexlayout__tabset_content",e.FLEXLAYOUT__TABSET_TABBAR_INNER="flexlayout__tabset_tabbar_inner",e.FLEXLAYOUT__TABSET_TABBAR_INNER_="flexlayout__tabset_tabbar_inner_",e.FLEXLAYOUT__TABSET_TABBAR_INNER_TAB_CONTAINER="flexlayout__tabset_tabbar_inner_tab_container",e.FLEXLAYOUT__TABSET_TABBAR_INNER_TAB_CONTAINER_="flexlayout__tabset_tabbar_inner_tab_container_",e.FLEXLAYOUT__TABSET_TABBAR_OUTER="flexlayout__tabset_tabbar_outer",e.FLEXLAYOUT__TABSET_TABBAR_OUTER_="flexlayout__tabset_tabbar_outer_",e.FLEXLAYOUT__TAB_BORDER="flexlayout__tab_border",e.FLEXLAYOUT__TAB_BORDER_="flexlayout__tab_border_",e.FLEXLAYOUT__TAB_BUTTON="flexlayout__tab_button",e.FLEXLAYOUT__TAB_BUTTON_CONTENT="flexlayout__tab_button_content",e.FLEXLAYOUT__TAB_BUTTON_LEADING="flexlayout__tab_button_leading",e.FLEXLAYOUT__TAB_BUTTON_OVERFLOW="flexlayout__tab_button_overflow",e.FLEXLAYOUT__TAB_BUTTON_OVERFLOW_COUNT="flexlayout__tab_button_overflow_count",e.FLEXLAYOUT__TAB_BUTTON_TEXTBOX="flexlayout__tab_button_textbox",e.FLEXLAYOUT__TAB_BUTTON_TRAILING="flexlayout__tab_button_trailing",e.FLEXLAYOUT__TAB_BUTTON_STAMP="flexlayout__tab_button_stamp",e.FLEXLAYOUT__TAB_FLOATING="flexlayout__tab_floating",e.FLEXLAYOUT__TAB_FLOATING_INNER="flexlayout__tab_floating_inner",e.FLEXLAYOUT__TAB_TOOLBAR="flexlayout__tab_toolbar",e.FLEXLAYOUT__TAB_TOOLBAR_BUTTON="flexlayout__tab_toolbar_button",e.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_="flexlayout__tab_toolbar_button-",e.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_FLOAT="flexlayout__tab_toolbar_button-float",e.FLEXLAYOUT__TAB_TOOLBAR_STICKY_BUTTONS_CONTAINER="flexlayout__tab_toolbar_sticky_buttons_container",e.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_CLOSE="flexlayout__tab_toolbar_button-close",e.FLEXLAYOUT__POPUP_MENU_CONTAINER="flexlayout__popup_menu_container",e.FLEXLAYOUT__POPUP_MENU_ITEM="flexlayout__popup_menu_item",e.FLEXLAYOUT__POPUP_MENU="flexlayout__popup_menu"}(l.CLASSES||(l.CLASSES={}))})(X);var ge={};Object.defineProperty(ge,"__esModule",{value:!0}),ge.Node=void 0;const Lt=re,Nt=k,Xi=G;class ti{constructor(e){this._dirty=!1,this._tempSize=0,this._model=e,this._attributes={},this._children=[],this._fixed=!1,this._rect=Xi.Rect.empty(),this._visible=!1,this._listeners={}}getId(){let e=this._attributes.id;return e!==void 0||(e=this._model._nextUniqueId(),this._setId(e)),e}getModel(){return this._model}getType(){return this._attributes.type}getParent(){return this._parent}getChildren(){return this._children}getRect(){return this._rect}isVisible(){return this._visible}getOrientation(){return this._parent===void 0?this._model.isRootOrientationVertical()?Nt.Orientation.VERT:Nt.Orientation.HORZ:Nt.Orientation.flip(this._parent.getOrientation())}setEventListener(e,t){this._listeners[e]=t}removeEventListener(e){delete this._listeners[e]}_setId(e){this._attributes.id=e}_fireEvent(e,t){this._listeners[e]!==void 0&&this._listeners[e](t)}_getAttr(e){let t=this._attributes[e];if(t===void 0){const i=this._getAttributeDefinitions().getModelName(e);i!==void 0&&(t=this._model._getAttribute(i))}return t}_forEachNode(e,t){e(this,t),t++;for(const i of this._children)i._forEachNode(e,t)}_setVisible(e){e!==this._visible&&(this._fireEvent("visibility",{visible:e}),this._visible=e)}_getDrawChildren(){return this._children}_setParent(e){this._parent=e}_setRect(e){this._rect=e}_setWeight(e){this._attributes.weight=e}_setSelected(e){this._attributes.selected=e}_isFixed(){return this._fixed}_layout(e,t){this._rect=e}_findDropTargetNode(e,t,i){let o;if(this._rect.contains(t,i)){if(this._model.getMaximizedTabset()!==void 0)o=this._model.getMaximizedTabset().canDrop(e,t,i);else if(o=this.canDrop(e,t,i),o===void 0&&this._children.length!==0){for(const s of this._children)if(o=s._findDropTargetNode(e,t,i),o!==void 0)break}}return o}canDrop(e,t,i){}_canDockInto(e,t){if(t!=null){if(t.location===Lt.DockLocation.CENTER&&t.node.isEnableDrop()===!1||t.location===Lt.DockLocation.CENTER&&e.getType()==="tabset"&&e.getName()!==void 0||t.location!==Lt.DockLocation.CENTER&&t.node.isEnableDivide()===!1)return!1;if(this._model._getOnAllowDrop())return this._model._getOnAllowDrop()(e,t)}return!0}_removeChild(e){const t=this._children.indexOf(e);return t!==-1&&this._children.splice(t,1),this._dirty=!0,t}_addChild(e,t){return t!=null?this._children.splice(t,0,e):(this._children.push(e),t=this._children.length-1),e._parent=this,this._dirty=!0,t}_removeAll(){this._children=[],this._dirty=!0}_styleWithPosition(e){return e==null&&(e={}),this._rect.styleWithPosition(e)}_getTempSize(){return this._tempSize}_setTempSize(e){this._tempSize=e}isEnableDivide(){return!0}_toAttributeString(){return JSON.stringify(this._attributes,void 0,"	")}}g(ti,"Node"),ge.Node=ti;var Ie={};Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.SplitterNode=void 0;const Wi=fe,vt=k,$i=ge;class $e extends $i.Node{constructor(e){super(e),this._fixed=!0,this._attributes.type=$e.TYPE,e._addNode(this)}getWidth(){return this._model.getSplitterSize()}getMinWidth(){return this.getOrientation()===vt.Orientation.VERT?this._model.getSplitterSize():0}getHeight(){return this._model.getSplitterSize()}getMinHeight(){return this.getOrientation()===vt.Orientation.HORZ?this._model.getSplitterSize():0}getMinSize(e){return e===vt.Orientation.HORZ?this.getMinWidth():this.getMinHeight()}getWeight(){return 0}_setWeight(e){}_getPrefSize(e){return this._model.getSplitterSize()}_updateAttrs(e){}_getAttributeDefinitions(){return new Wi.AttributeDefinitions}toJson(){}}g($e,"SplitterNode"),Ie.SplitterNode=$e,$e.TYPE="splitter";var Oe={};Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.TabNode=void 0;const W=_e,Gi=fe,ji=ge;class ne extends ji.Node{constructor(e,t,i=!0){super(e),this._extra={},ne._attributeDefinitions.fromJson(t,this._attributes),i===!0&&e._addNode(this)}static _fromJson(e,t,i=!0){return new ne(t,e,i)}static _createAttributeDefinitions(){const e=new Gi.AttributeDefinitions;return e.add("type",ne.TYPE,!0).setType(W.Attribute.STRING),e.add("id",void 0).setType(W.Attribute.STRING),e.add("name","[Unnamed Tab]").setType(W.Attribute.STRING),e.add("altName",void 0).setType(W.Attribute.STRING),e.add("helpText",void 0).setType(W.Attribute.STRING),e.add("component",void 0).setType(W.Attribute.STRING),e.add("config",void 0).setType("any"),e.add("floating",!1).setType(W.Attribute.BOOLEAN),e.addInherited("enableClose","tabEnableClose").setType(W.Attribute.BOOLEAN),e.addInherited("closeType","tabCloseType").setType("ICloseType"),e.addInherited("enableDrag","tabEnableDrag").setType(W.Attribute.BOOLEAN),e.addInherited("enableRename","tabEnableRename").setType(W.Attribute.BOOLEAN),e.addInherited("className","tabClassName").setType(W.Attribute.STRING),e.addInherited("icon","tabIcon").setType(W.Attribute.STRING),e.addInherited("enableRenderOnDemand","tabEnableRenderOnDemand").setType(W.Attribute.BOOLEAN),e.addInherited("enableFloat","tabEnableFloat").setType(W.Attribute.BOOLEAN),e.addInherited("borderWidth","tabBorderWidth").setType(W.Attribute.NUMBER),e.addInherited("borderHeight","tabBorderHeight").setType(W.Attribute.NUMBER),e}getWindow(){return this._window}getTabRect(){return this._tabRect}_setTabRect(e){this._tabRect=e}_setRenderedName(e){this._renderedName=e}_getNameForOverflowMenu(){const e=this._getAttr("altName");return e!==void 0?e:this._renderedName}getName(){return this._getAttr("name")}getHelpText(){return this._getAttr("helpText")}getComponent(){return this._getAttr("component")}getConfig(){return this._attributes.config}getExtraData(){return this._extra}isFloating(){return this._getAttr("floating")}getIcon(){return this._getAttr("icon")}isEnableClose(){return this._getAttr("enableClose")}getCloseType(){return this._getAttr("closeType")}isEnableFloat(){return this._getAttr("enableFloat")}isEnableDrag(){return this._getAttr("enableDrag")}isEnableRename(){return this._getAttr("enableRename")}getClassName(){return this._getAttr("className")}isEnableRenderOnDemand(){return this._getAttr("enableRenderOnDemand")}_setName(e){this._attributes.name=e,this._window&&this._window.document&&(this._window.document.title=e)}_setFloating(e){this._attributes.floating=e}_layout(e,t){e.equals(this._rect)||this._fireEvent("resize",{rect:e}),this._rect=e}_delete(){this._parent._remove(this),this._fireEvent("close",{})}toJson(){const e={};return ne._attributeDefinitions.toJson(e,this._attributes),e}_updateAttrs(e){ne._attributeDefinitions.update(e,this._attributes)}_getAttributeDefinitions(){return ne._attributeDefinitions}_setWindow(e){this._window=e}_setBorderWidth(e){this._attributes.borderWidth=e}_setBorderHeight(e){this._attributes.borderHeight=e}static getAttributeDefinitions(){return ne._attributeDefinitions}}g(ne,"TabNode"),Oe.TabNode=ne,ne.TYPE="tab",ne._attributeDefinitions=ne._createAttributeDefinitions();var ae={},Ge={},je={},ii;function Dt(){if(ii)return je;ii=1,Object.defineProperty(je,"__esModule",{value:!0}),je.RowNode=void 0;const l=_e,e=fe,t=re,i=Me,o=k,s=G,d=X,T=Te(),p=ge,A=Ie,h=Re();let c=g(class $ extends p.Node{constructor(r,n){super(r),this._dirty=!0,this._drawChildren=[],this._minHeight=0,this._minWidth=0,$._attributeDefinitions.fromJson(n,this._attributes),r._addNode(this)}static _fromJson(r,n){const a=new $(n,r);if(r.children!=null)for(const _ of r.children)if(_.type===h.TabSetNode.TYPE){const m=h.TabSetNode._fromJson(_,n);a._addChild(m)}else{const m=$._fromJson(_,n);a._addChild(m)}return a}static _createAttributeDefinitions(){const r=new e.AttributeDefinitions;return r.add("type",$.TYPE,!0).setType(l.Attribute.STRING).setFixed(),r.add("id",void 0).setType(l.Attribute.STRING),r.add("weight",100).setType(l.Attribute.NUMBER),r.add("width",void 0).setType(l.Attribute.NUMBER),r.add("height",void 0).setType(l.Attribute.NUMBER),r}getWeight(){return this._attributes.weight}getWidth(){return this._getAttr("width")}getHeight(){return this._getAttr("height")}_setWeight(r){this._attributes.weight=r}_layout(r,n){super._layout(r,n);const a=this._rect._getSize(this.getOrientation());let _=0,m=0,f=0,b=0;const E=this._getDrawChildren();for(const N of E){const O=N._getPrefSize(this.getOrientation());N._isFixed()?O!==void 0&&(m+=O):O===void 0?_+=N.getWeight():(f+=O,b+=N.getWeight())}let u=!1,R=a-m-f;R<0&&(R=a-m,u=!0,_+=b);let y=0,L=0;for(const N of E){const O=N._getPrefSize(this.getOrientation());if(N._isFixed())O!==void 0&&N._setTempSize(O);else if(O==null||u){if(_===0)N._setTempSize(0);else{const P=N.getMinSize(this.getOrientation()),J=Math.floor(R*(N.getWeight()/_));N._setTempSize(Math.max(P,J))}L+=N._getTempSize()}else N._setTempSize(O);y+=N._getTempSize()}if(L>0){for(;y<a;)for(const N of E)if(!(N instanceof A.SplitterNode)){const O=N._getPrefSize(this.getOrientation());!N._isFixed()&&(O===void 0||u)&&y<a&&(N._setTempSize(N._getTempSize()+1),y++)}for(;y>a;){let N=!1;for(const O of E)if(!(O instanceof A.SplitterNode)){const P=O.getMinSize(this.getOrientation());O._getTempSize()>P&&y>a&&(O._setTempSize(O._getTempSize()-1),y--,N=!0)}if(!N)break}for(;y>a;){let N=!1;for(const O of E)O instanceof A.SplitterNode||O._getTempSize()>0&&y>a&&(O._setTempSize(O._getTempSize()-1),y--,N=!0);if(!N)break}}let U=0;for(const N of E)this.getOrientation()===o.Orientation.HORZ?N._layout(new s.Rect(this._rect.x+U,this._rect.y,N._getTempSize(),this._rect.height),n):N._layout(new s.Rect(this._rect.x,this._rect.y+U,this._rect.width,N._getTempSize()),n),U+=N._getTempSize();return!0}_getSplitterBounds(r,n=!1){const a=[0,0],_=this._getDrawChildren(),m=_.indexOf(r),f=_[m-1],b=_[m+1];if(this.getOrientation()===o.Orientation.HORZ){const E=n?f.getMinWidth():0,u=n?b.getMinWidth():0;a[0]=f.getRect().x+E,a[1]=b.getRect().getRight()-r.getWidth()-u}else{const E=n?f.getMinHeight():0,u=n?b.getMinHeight():0;a[0]=f.getRect().y+E,a[1]=b.getRect().getBottom()-r.getHeight()-u}return a}_calculateSplit(r,n){let a;const _=this._getDrawChildren(),m=_.indexOf(r),f=this._getSplitterBounds(r),b=_[m-1].getWeight()+_[m+1].getWeight(),E=Math.max(0,n-f[0]),u=Math.max(0,f[1]-n);if(E+u>0){const R=E*b/(E+u),y=u*b/(E+u);a={node1Id:_[m-1].getId(),weight1:R,pixelWidth1:E,node2Id:_[m+1].getId(),weight2:y,pixelWidth2:u}}return a}_getDrawChildren(){if(this._dirty){this._drawChildren=[];for(let r=0;r<this._children.length;r++){const n=this._children[r];if(r!==0){const a=new A.SplitterNode(this._model);a._setParent(this),this._drawChildren.push(a)}this._drawChildren.push(n)}this._dirty=!1}return this._drawChildren}getMinSize(r){return r===o.Orientation.HORZ?this.getMinWidth():this.getMinHeight()}getMinWidth(){return this._minWidth}getMinHeight(){return this._minHeight}calcMinSize(){this._minHeight=0,this._minWidth=0;let r=!0;for(const n of this._children){const a=n;a instanceof $&&a.calcMinSize(),this.getOrientation()===o.Orientation.VERT?(this._minHeight+=a.getMinHeight(),r||(this._minHeight+=this._model.getSplitterSize()),this._minWidth=Math.max(this._minWidth,a.getMinWidth())):(this._minWidth+=a.getMinWidth(),r||(this._minWidth+=this._model.getSplitterSize()),this._minHeight=Math.max(this._minHeight,a.getMinHeight())),r=!1}}_tidy(){let r=0;for(;r<this._children.length;){const n=this._children[r];if(n instanceof $){n._tidy();const a=n.getChildren();if(a.length===0)this._removeChild(n);else if(a.length===1){const _=a[0];if(this._removeChild(n),_ instanceof $){let m=0;const f=_.getChildren();for(const b of f)m+=b.getWeight();for(let b=0;b<f.length;b++){const E=f[b];E._setWeight(n.getWeight()*E.getWeight()/m),this._addChild(E,r+b)}}else _._setWeight(n.getWeight()),this._addChild(_,r)}else r++}else n instanceof h.TabSetNode&&n.getChildren().length===0&&n.isEnableDeleteWhenEmpty()?(this._removeChild(n),n===this._model.getMaximizedTabset()&&this._model._setMaximizedTabset(void 0)):r++}if(this===this._model.getRoot()&&this._children.length===0){const n=this._model._getOnCreateTabSet();let a=n?n():{};a=Object.assign(Object.assign({},a),{selected:-1});const _=new h.TabSetNode(this._model,a);this._model._setActiveTabset(_),this._addChild(_)}}canDrop(r,n,a){const _=a-this._rect.y,m=n-this._rect.x,f=this._rect.width,b=this._rect.height,E=10,u=50;let R;if(this._model.isEnableEdgeDock()&&this._parent===void 0){if(n<this._rect.x+E&&_>b/2-u&&_<b/2+u){const y=t.DockLocation.LEFT,L=y.getDockRect(this._rect);L.width=L.width/2,R=new i.DropInfo(this,L,y,-1,d.CLASSES.FLEXLAYOUT__OUTLINE_RECT_EDGE)}else if(n>this._rect.getRight()-E&&_>b/2-u&&_<b/2+u){const y=t.DockLocation.RIGHT,L=y.getDockRect(this._rect);L.width=L.width/2,L.x+=L.width,R=new i.DropInfo(this,L,y,-1,d.CLASSES.FLEXLAYOUT__OUTLINE_RECT_EDGE)}else if(a<this._rect.y+E&&m>f/2-u&&m<f/2+u){const y=t.DockLocation.TOP,L=y.getDockRect(this._rect);L.height=L.height/2,R=new i.DropInfo(this,L,y,-1,d.CLASSES.FLEXLAYOUT__OUTLINE_RECT_EDGE)}else if(a>this._rect.getBottom()-E&&m>f/2-u&&m<f/2+u){const y=t.DockLocation.BOTTOM,L=y.getDockRect(this._rect);L.height=L.height/2,L.y+=L.height,R=new i.DropInfo(this,L,y,-1,d.CLASSES.FLEXLAYOUT__OUTLINE_RECT_EDGE)}if(R!==void 0&&!r._canDockInto(r,R))return}return R}drop(r,n,a){const _=n,m=r.getParent();m&&m._removeChild(r),m!==void 0&&m.getType()===h.TabSetNode.TYPE&&m._setSelected(0),m!==void 0&&m.getType()===T.BorderNode.TYPE&&m._setSelected(-1);let f;if(r instanceof h.TabSetNode)f=r;else{const u=this._model._getOnCreateTabSet();f=new h.TabSetNode(this._model,u?u(r):{}),f._addChild(r)}let b=this._children.reduce((u,R)=>u+R.getWeight(),0);b===0&&(b=100),f._setWeight(b/3);const E=!this._model.isRootOrientationVertical();if(E&&_===t.DockLocation.LEFT||!E&&_===t.DockLocation.TOP)this._addChild(f,0);else if(E&&_===t.DockLocation.RIGHT||!E&&_===t.DockLocation.BOTTOM)this._addChild(f);else if(E&&_===t.DockLocation.TOP||!E&&_===t.DockLocation.LEFT){const u=new $(this._model,{}),R=new $(this._model,{});R._setWeight(75),f._setWeight(25);for(const y of this._children)R._addChild(y);this._removeAll(),u._addChild(f),u._addChild(R),this._addChild(u)}else if(E&&_===t.DockLocation.BOTTOM||!E&&_===t.DockLocation.RIGHT){const u=new $(this._model,{}),R=new $(this._model,{});R._setWeight(75),f._setWeight(25);for(const y of this._children)R._addChild(y);this._removeAll(),u._addChild(R),u._addChild(f),this._addChild(u)}this._model._setActiveTabset(f),this._model._tidy()}toJson(){const r={};$._attributeDefinitions.toJson(r,this._attributes),r.children=[];for(const n of this._children)r.children.push(n.toJson());return r}isEnableDrop(){return!0}_getPrefSize(r){let n=this.getWidth();return r===o.Orientation.VERT&&(n=this.getHeight()),n}_getAttributeDefinitions(){return $._attributeDefinitions}_updateAttrs(r){$._attributeDefinitions.update(r,this._attributes)}static getAttributeDefinitions(){return $._attributeDefinitions}},"RowNode");return je.RowNode=c,c.TYPE="row",c._attributeDefinitions=c._createAttributeDefinitions(),je}g(Dt,"requireRowNode");var ni;function Re(){if(ni)return Ge;ni=1,Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.TabSetNode=void 0;const l=_e,e=fe,t=re,i=Me,o=k,s=G,d=X,T=Te(),p=ge,A=Dt(),h=Oe,c=wt();let S=g(class me extends p.Node{constructor(n,a){super(n),me._attributeDefinitions.fromJson(a,this._attributes),n._addNode(this),this._calculatedTabBarHeight=0,this._calculatedHeaderBarHeight=0}static _fromJson(n,a){const _=new me(a,n);if(n.children!=null)for(const m of n.children){const f=h.TabNode._fromJson(m,a);_._addChild(f)}return _._children.length===0&&_._setSelected(-1),n.maximized&&n.maximized===!0&&a._setMaximizedTabset(_),n.active&&n.active===!0&&a._setActiveTabset(_),_}static _createAttributeDefinitions(){const n=new e.AttributeDefinitions;return n.add("type",me.TYPE,!0).setType(l.Attribute.STRING).setFixed(),n.add("id",void 0).setType(l.Attribute.STRING),n.add("weight",100).setType(l.Attribute.NUMBER),n.add("width",void 0).setType(l.Attribute.NUMBER),n.add("height",void 0).setType(l.Attribute.NUMBER),n.add("selected",0).setType(l.Attribute.NUMBER),n.add("name",void 0).setType(l.Attribute.STRING),n.add("config",void 0).setType("any"),n.addInherited("enableDeleteWhenEmpty","tabSetEnableDeleteWhenEmpty"),n.addInherited("enableDrop","tabSetEnableDrop"),n.addInherited("enableDrag","tabSetEnableDrag"),n.addInherited("enableDivide","tabSetEnableDivide"),n.addInherited("enableMaximize","tabSetEnableMaximize"),n.addInherited("enableClose","tabSetEnableClose"),n.addInherited("classNameTabStrip","tabSetClassNameTabStrip"),n.addInherited("classNameHeader","tabSetClassNameHeader"),n.addInherited("enableTabStrip","tabSetEnableTabStrip"),n.addInherited("borderInsets","tabSetBorderInsets"),n.addInherited("marginInsets","tabSetMarginInsets"),n.addInherited("minWidth","tabSetMinWidth"),n.addInherited("minHeight","tabSetMinHeight"),n.addInherited("headerHeight","tabSetHeaderHeight"),n.addInherited("tabStripHeight","tabSetTabStripHeight"),n.addInherited("tabLocation","tabSetTabLocation"),n.addInherited("autoSelectTab","tabSetAutoSelectTab").setType(l.Attribute.BOOLEAN),n}getName(){return this._getAttr("name")}getSelected(){const n=this._attributes.selected;return n!==void 0?n:-1}getSelectedNode(){const n=this.getSelected();if(n!==-1)return this._children[n]}getWeight(){return this._getAttr("weight")}getWidth(){return this._getAttr("width")}getMinWidth(){return this._getAttr("minWidth")}getHeight(){return this._getAttr("height")}getMinHeight(){return this._getAttr("minHeight")}getMinSize(n){return n===o.Orientation.HORZ?this.getMinWidth():this.getMinHeight()}getConfig(){return this._attributes.config}isMaximized(){return this._model.getMaximizedTabset()===this}isActive(){return this._model.getActiveTabset()===this}isEnableDeleteWhenEmpty(){return this._getAttr("enableDeleteWhenEmpty")}isEnableDrop(){return this._getAttr("enableDrop")}isEnableDrag(){return this._getAttr("enableDrag")}isEnableDivide(){return this._getAttr("enableDivide")}isEnableMaximize(){return this._getAttr("enableMaximize")}isEnableClose(){return this._getAttr("enableClose")}canMaximize(){return this.isEnableMaximize()?this.getModel().getMaximizedTabset()===this?!0:!(this.getParent()===this.getModel().getRoot()&&this.getModel().getRoot().getChildren().length===1):!1}isEnableTabStrip(){return this._getAttr("enableTabStrip")}isAutoSelectTab(){return this._getAttr("autoSelectTab")}getClassNameTabStrip(){return this._getAttr("classNameTabStrip")}getClassNameHeader(){return this._getAttr("classNameHeader")}calculateHeaderBarHeight(n){const a=this._getAttr("headerHeight");a!==0?this._calculatedHeaderBarHeight=a:this._calculatedHeaderBarHeight=n.headerBarSize}calculateTabBarHeight(n){const a=this._getAttr("tabStripHeight");a!==0?this._calculatedTabBarHeight=a:this._calculatedTabBarHeight=n.tabBarSize}getHeaderHeight(){return this._calculatedHeaderBarHeight}getTabStripHeight(){return this._calculatedTabBarHeight}getTabLocation(){return this._getAttr("tabLocation")}_setWeight(n){this._attributes.weight=n}_setSelected(n){this._attributes.selected=n}canDrop(n,a,_){let m;if(n===this){const f=t.DockLocation.CENTER,b=this._tabHeaderRect;m=new i.DropInfo(this,b,f,-1,d.CLASSES.FLEXLAYOUT__OUTLINE_RECT)}else if(this._contentRect.contains(a,_)){let f=t.DockLocation.CENTER;this._model.getMaximizedTabset()===void 0&&(f=t.DockLocation.getLocation(this._contentRect,a,_));const b=f.getDockRect(this._rect);m=new i.DropInfo(this,b,f,-1,d.CLASSES.FLEXLAYOUT__OUTLINE_RECT)}else if(this._tabHeaderRect!=null&&this._tabHeaderRect.contains(a,_)){let f,b,E;if(this._children.length===0)f=this._tabHeaderRect.clone(),b=f.y+3,E=f.height-4,f.width=2;else{let u=this._children[0];f=u.getTabRect(),b=f.y,E=f.height;let R=this._tabHeaderRect.x,y=0;for(let L=0;L<this._children.length;L++){if(u=this._children[L],f=u.getTabRect(),y=f.x+f.width/2,a>=R&&a<y){const U=t.DockLocation.CENTER,N=new s.Rect(f.x-2,b,3,E);m=new i.DropInfo(this,N,U,L,d.CLASSES.FLEXLAYOUT__OUTLINE_RECT);break}R=y}}if(m==null){const u=t.DockLocation.CENTER,R=new s.Rect(f.getRight()-2,b,3,E);m=new i.DropInfo(this,R,u,this._children.length,d.CLASSES.FLEXLAYOUT__OUTLINE_RECT)}}if(n._canDockInto(n,m))return m}_layout(n,a){this.calculateHeaderBarHeight(a),this.calculateTabBarHeight(a),this.isMaximized()&&(n=this._model.getRoot().getRect()),n=n.removeInsets(this._getAttr("marginInsets")),this._rect=n,n=n.removeInsets(this._getAttr("borderInsets"));const _=this.getName()!==void 0;let m=0,f=0;_&&(m+=this._calculatedHeaderBarHeight,f+=this._calculatedHeaderBarHeight),this.isEnableTabStrip()&&(this.getTabLocation()==="top"?this._tabHeaderRect=new s.Rect(n.x,n.y+m,n.width,this._calculatedTabBarHeight):this._tabHeaderRect=new s.Rect(n.x,n.y+n.height-this._calculatedTabBarHeight,n.width,this._calculatedTabBarHeight),f+=this._calculatedTabBarHeight,this.getTabLocation()==="top"&&(m+=this._calculatedTabBarHeight)),this._contentRect=new s.Rect(n.x,n.y+m,n.width,n.height-f);for(let b=0;b<this._children.length;b++){const E=this._children[b];E._layout(this._contentRect,a),E._setVisible(b===this.getSelected())}}_delete(){this._parent._removeChild(this)}_remove(n){const a=this._removeChild(n);this._model._tidy(),(0,c.adjustSelectedIndex)(this,a)}drop(n,a,_,m){const f=a;if(this===n)return;let b=n.getParent(),E=0;if(b!==void 0&&(E=b._removeChild(n),b instanceof T.BorderNode&&b.getSelected()===E?b._setSelected(-1):(0,c.adjustSelectedIndex)(b,E)),n.getType()===h.TabNode.TYPE&&b===this&&E<_&&_>0&&_--,f===t.DockLocation.CENTER){let u=_;if(u===-1&&(u=this._children.length),n.getType()===h.TabNode.TYPE)this._addChild(n,u),(m||m!==!1&&this.isAutoSelectTab())&&this._setSelected(u);else{for(let R=0;R<n.getChildren().length;R++){const y=n.getChildren()[R];this._addChild(y,u),u++}this.getSelected()===-1&&this._children.length>0&&this._setSelected(0)}this._model._setActiveTabset(this)}else{let u;if(n instanceof h.TabNode){const L=this._model._getOnCreateTabSet();u=new me(this._model,L?L(n):{}),u._addChild(n),b=u}else u=n;const R=this._parent,y=R.getChildren().indexOf(this);if(R.getOrientation()===f._orientation)u._setWeight(this.getWeight()/2),this._setWeight(this.getWeight()/2),R._addChild(u,y+f._indexPlus);else{const L=new A.RowNode(this._model,{});L._setWeight(this.getWeight()),L._addChild(this),this._setWeight(50),u._setWeight(50),L._addChild(u,f._indexPlus),R._removeChild(this),R._addChild(L,y)}this._model._setActiveTabset(u)}this._model._tidy()}toJson(){const n={};return me._attributeDefinitions.toJson(n,this._attributes),n.children=this._children.map(a=>a.toJson()),this.isActive()&&(n.active=!0),this.isMaximized()&&(n.maximized=!0),n}_updateAttrs(n){me._attributeDefinitions.update(n,this._attributes)}_getAttributeDefinitions(){return me._attributeDefinitions}_getPrefSize(n){let a=this.getWidth();return n===o.Orientation.VERT&&(a=this.getHeight()),a}static getAttributeDefinitions(){return me._attributeDefinitions}},"TabSetNode");return Ge.TabSetNode=S,S.TYPE="tabset",S._attributeDefinitions=S._createAttributeDefinitions(),Ge}g(Re,"requireTabSetNode");var oi;function wt(){if(oi)return ae;oi=1,Object.defineProperty(ae,"__esModule",{value:!0}),ae.randomUUID=ae.adjustSelectedIndex=ae.adjustSelectedIndexAfterDock=ae.adjustSelectedIndexAfterFloat=void 0;const l=Re(),e=Te();function t(d){const T=d.getParent();if(T!==null)if(T instanceof l.TabSetNode){let p=!1,A=0;const h=T.getChildren();for(let c=0;c<h.length;c++){const S=h[c];if(S===d)p=!0;else if(!S.isFloating()&&(A=c,p))break}T._setSelected(A)}else T instanceof e.BorderNode&&T._setSelected(-1)}g(t,"adjustSelectedIndexAfterFloat"),ae.adjustSelectedIndexAfterFloat=t;function i(d){const T=d.getParent();if(T!==null&&(T instanceof l.TabSetNode||T instanceof e.BorderNode)){const p=T.getChildren();for(let A=0;A<p.length;A++)if(p[A]===d){T._setSelected(A);return}}}g(i,"adjustSelectedIndexAfterDock"),ae.adjustSelectedIndexAfterDock=i;function o(d,T){if(d!==void 0&&(d.getType()===l.TabSetNode.TYPE||d.getType()===e.BorderNode.TYPE)){const p=d.getSelected();p!==-1&&(T===p&&d.getChildren().length>0?T>=d.getChildren().length&&d._setSelected(d.getChildren().length-1):T<p?d._setSelected(p-1):T>p||d._setSelected(-1))}}g(o,"adjustSelectedIndex"),ae.adjustSelectedIndex=o;function s(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,d=>(d^crypto.getRandomValues(new Uint8Array(1))[0]&15>>d/4).toString(16))}return g(s,"randomUUID"),ae.randomUUID=s,ae}g(wt,"requireUtils");var si;function Te(){if(si)return Xe;si=1,Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.BorderNode=void 0;const l=_e,e=fe,t=re,i=Me,o=k,s=G,d=X,T=ge,p=Ie,A=Oe,h=wt();let c=g(class Ae extends T.Node{constructor(r,n,a){super(a),this._adjustedSize=0,this._calculatedBorderBarSize=0,this._location=r,this._drawChildren=[],this._attributes.id=`border_${r.getName()}`,Ae._attributeDefinitions.fromJson(n,this._attributes),a._addNode(this)}static _fromJson(r,n){const a=t.DockLocation.getByName(r.location),_=new Ae(a,r,n);return r.children&&(_._children=r.children.map(m=>{const f=A.TabNode._fromJson(m,n);return f._setParent(_),f})),_}static _createAttributeDefinitions(){const r=new e.AttributeDefinitions;return r.add("type",Ae.TYPE,!0).setType(l.Attribute.STRING).setFixed(),r.add("selected",-1).setType(l.Attribute.NUMBER),r.add("show",!0).setType(l.Attribute.BOOLEAN),r.add("config",void 0).setType("any"),r.addInherited("barSize","borderBarSize").setType(l.Attribute.NUMBER),r.addInherited("enableDrop","borderEnableDrop").setType(l.Attribute.BOOLEAN),r.addInherited("className","borderClassName").setType(l.Attribute.STRING),r.addInherited("autoSelectTabWhenOpen","borderAutoSelectTabWhenOpen").setType(l.Attribute.BOOLEAN),r.addInherited("autoSelectTabWhenClosed","borderAutoSelectTabWhenClosed").setType(l.Attribute.BOOLEAN),r.addInherited("size","borderSize").setType(l.Attribute.NUMBER),r.addInherited("minSize","borderMinSize").setType(l.Attribute.NUMBER),r.addInherited("enableAutoHide","borderEnableAutoHide").setType(l.Attribute.BOOLEAN),r}getLocation(){return this._location}getTabHeaderRect(){return this._tabHeaderRect}getRect(){return this._tabHeaderRect}getContentRect(){return this._contentRect}isEnableDrop(){return this._getAttr("enableDrop")}isAutoSelectTab(r){return r==null&&(r=this.getSelected()!==-1),r?this._getAttr("autoSelectTabWhenOpen"):this._getAttr("autoSelectTabWhenClosed")}getClassName(){return this._getAttr("className")}calcBorderBarSize(r){const n=this._getAttr("barSize");n!==0?this._calculatedBorderBarSize=n:this._calculatedBorderBarSize=r.borderBarSize}getBorderBarSize(){return this._calculatedBorderBarSize}getSize(){const r=this._getAttr("size"),n=this.getSelected();if(n===-1)return r;{const a=this._children[n],_=this._location._orientation===o.Orientation.HORZ?a._getAttr("borderWidth"):a._getAttr("borderHeight");return _===-1?r:_}}getMinSize(){return this._getAttr("minSize")}getSelected(){return this._attributes.selected}getSelectedNode(){if(this.getSelected()!==-1)return this._children[this.getSelected()]}getOrientation(){return this._location.getOrientation()}getConfig(){return this._attributes.config}isMaximized(){return!1}isShowing(){return this._attributes.show?!(this._model._getShowHiddenBorder()!==this._location&&this.isAutoHide()&&this._children.length===0):!1}isAutoHide(){return this._getAttr("enableAutoHide")}_setSelected(r){this._attributes.selected=r}_setSize(r){const n=this.getSelected();if(n===-1)this._attributes.size=r;else{const a=this._children[n];(this._location._orientation===o.Orientation.HORZ?a._getAttr("borderWidth"):a._getAttr("borderHeight"))===-1?this._attributes.size=r:this._location._orientation===o.Orientation.HORZ?a._setBorderWidth(r):a._setBorderHeight(r)}}_updateAttrs(r){Ae._attributeDefinitions.update(r,this._attributes)}_getDrawChildren(){return this._drawChildren}_setAdjustedSize(r){this._adjustedSize=r}_getAdjustedSize(){return this._adjustedSize}_layoutBorderOuter(r,n){this.calcBorderBarSize(n);const a=this._location.split(r,this.getBorderBarSize());return this._tabHeaderRect=a.start,a.end}_layoutBorderInner(r,n){this._drawChildren=[];const a=this._location,_=a.split(r,this._adjustedSize+this._model.getSplitterSize()),m=a.reflect().split(_.start,this._model.getSplitterSize());this._contentRect=m.end;for(let f=0;f<this._children.length;f++){const b=this._children[f];b._layout(this._contentRect,n),b._setVisible(f===this.getSelected()),this._drawChildren.push(b)}if(this.getSelected()===-1)return r;{const f=new p.SplitterNode(this._model);return f._setParent(this),f._setRect(m.start),this._drawChildren.push(f),_.end}}_remove(r){const n=this._removeChild(r);this.getSelected()!==-1&&(0,h.adjustSelectedIndex)(this,n)}canDrop(r,n,a){if(r.getType()!==A.TabNode.TYPE)return;let _;const m=t.DockLocation.CENTER;if(this._tabHeaderRect.contains(n,a)){if(this._location._orientation===o.Orientation.VERT)if(this._children.length>0){let f=this._children[0],b=f.getTabRect();const E=b.y,u=b.height;let R=this._tabHeaderRect.x,y=0;for(let L=0;L<this._children.length;L++){if(f=this._children[L],b=f.getTabRect(),y=b.x+b.width/2,n>=R&&n<y){const U=new s.Rect(b.x-2,E,3,u);_=new i.DropInfo(this,U,m,L,d.CLASSES.FLEXLAYOUT__OUTLINE_RECT);break}R=y}if(_==null){const L=new s.Rect(b.getRight()-2,E,3,u);_=new i.DropInfo(this,L,m,this._children.length,d.CLASSES.FLEXLAYOUT__OUTLINE_RECT)}}else{const f=new s.Rect(this._tabHeaderRect.x+1,this._tabHeaderRect.y+2,3,18);_=new i.DropInfo(this,f,m,0,d.CLASSES.FLEXLAYOUT__OUTLINE_RECT)}else if(this._children.length>0){let f=this._children[0],b=f.getTabRect();const E=b.x,u=b.width;let R=this._tabHeaderRect.y,y=0;for(let L=0;L<this._children.length;L++){if(f=this._children[L],b=f.getTabRect(),y=b.y+b.height/2,a>=R&&a<y){const U=new s.Rect(E,b.y-2,u,3);_=new i.DropInfo(this,U,m,L,d.CLASSES.FLEXLAYOUT__OUTLINE_RECT);break}R=y}if(_==null){const L=new s.Rect(E,b.getBottom()-2,u,3);_=new i.DropInfo(this,L,m,this._children.length,d.CLASSES.FLEXLAYOUT__OUTLINE_RECT)}}else{const f=new s.Rect(this._tabHeaderRect.x+2,this._tabHeaderRect.y+1,18,3);_=new i.DropInfo(this,f,m,0,d.CLASSES.FLEXLAYOUT__OUTLINE_RECT)}if(!r._canDockInto(r,_))return}else if(this.getSelected()!==-1&&this._contentRect.contains(n,a)){const f=this._contentRect;if(_=new i.DropInfo(this,f,m,-1,d.CLASSES.FLEXLAYOUT__OUTLINE_RECT),!r._canDockInto(r,_))return}return _}drop(r,n,a,_){let m=0;const f=r.getParent();f!==void 0&&(m=f._removeChild(r),f!==this&&f instanceof Ae&&f.getSelected()===m?f._setSelected(-1):(0,h.adjustSelectedIndex)(f,m)),r.getType()===A.TabNode.TYPE&&f===this&&m<a&&a>0&&a--;let b=a;b===-1&&(b=this._children.length),r.getType()===A.TabNode.TYPE&&this._addChild(r,b),(_||_!==!1&&this.isAutoSelectTab())&&this._setSelected(b),this._model._tidy()}toJson(){const r={};return Ae._attributeDefinitions.toJson(r,this._attributes),r.location=this._location.getName(),r.children=this._children.map(n=>n.toJson()),r}_getSplitterBounds(r,n=!1){const a=[0,0],_=n?this.getMinSize():0,m=this._model._getOuterInnerRects().outer,f=this._model._getOuterInnerRects().inner,b=this._model.getRoot();return this._location===t.DockLocation.TOP?(a[0]=m.y+_,a[1]=Math.max(a[0],f.getBottom()-r.getHeight()-b.getMinHeight())):this._location===t.DockLocation.LEFT?(a[0]=m.x+_,a[1]=Math.max(a[0],f.getRight()-r.getWidth()-b.getMinWidth())):this._location===t.DockLocation.BOTTOM?(a[1]=m.getBottom()-r.getHeight()-_,a[0]=Math.min(a[1],f.y+b.getMinHeight())):this._location===t.DockLocation.RIGHT&&(a[1]=m.getRight()-r.getWidth()-_,a[0]=Math.min(a[1],f.x+b.getMinWidth())),a}_calculateSplit(r,n){const a=this._getSplitterBounds(r);return this._location===t.DockLocation.BOTTOM||this._location===t.DockLocation.RIGHT?Math.max(0,a[1]-n):Math.max(0,n-a[0])}_getAttributeDefinitions(){return Ae._attributeDefinitions}static getAttributeDefinitions(){return Ae._attributeDefinitions}},"BorderNode");return Xe.BorderNode=c,c.TYPE="border",c._attributeDefinitions=c._createAttributeDefinitions(),Xe}g(Te,"requireBorderNode");var lt={},ct={},be={};(function(l){Object.defineProperty(l,"__esModule",{value:!0}),l.I18nLabel=void 0,function(e){e.Close_Tab="Close",e.Close_Tabset="Close tabset",e.Move_Tab="Move: ",e.Move_Tabset="Move tabset",e.Maximize="Maximize tabset",e.Restore="Restore tabset",e.Float_Tab="Show selected tab in floating window",e.Overflow_Menu_Tooltip="Hidden tabs",e.Floating_Window_Message="This panel is shown in a floating window",e.Floating_Window_Show_Window="Show window",e.Floating_Window_Dock_Window="Dock window",e.Error_rendering_component="Error rendering component"}(l.I18nLabel||(l.I18nLabel={}))})(be);var ht={};(function(l){Object.defineProperty(l,"__esModule",{value:!0}),l.ICloseType=void 0,function(e){e[e.Visible=1]="Visible",e[e.Always=2]="Always",e[e.Selected=3]="Selected"}(l.ICloseType||(l.ICloseType={}))})(ht);var q={};Object.defineProperty(q,"__esModule",{value:!0}),q.isAuxMouseEvent=q.hideElement=q.getRenderStateEx=void 0;const Vi=wp.element;function Ji(l,e,t,i){let o=t?t(e):void 0,s=e.getName(),d=e.getName();function T(h){return h.titleContent!==void 0}if(g(T,"isTitleObject"),i!==void 0){const h=i(e);h!==void 0&&(typeof h=="string"?(s=h,d=h):T(h)?(s=h.titleContent,d=h.name):s=h)}o===void 0&&e.getIcon()!==void 0&&(o=Vi.createElement("img",{style:{width:"1em",height:"1em"},src:e.getIcon(),alt:"leadingContent"}));const A={leading:o,content:s,name:d,buttons:[]};return l.customizeTab(e,A),e._setRenderedName(A.name),A}g(Ji,"getRenderStateEx"),q.getRenderStateEx=Ji;function Zi(l,e){e?l.visibility="hidden":l.display="none"}g(Zi,"hideElement"),q.hideElement=Zi;function qi(l){let e=!1;return l.nativeEvent instanceof MouseEvent&&(l.nativeEvent.button!==0||l.ctrlKey||l.altKey||l.metaKey||l.shiftKey)&&(e=!0),e}g(qi,"isAuxMouseEvent"),q.isAuxMouseEvent=qi,Object.defineProperty(ct,"__esModule",{value:!0}),ct.BorderButton=void 0;const Se=wp.element,Ki=be,Bt=ie,Qi=G,ri=ht,ye=X,Ct=q,en=g(l=>{const{layout:e,node:t,selected:i,border:o,iconFactory:s,titleFactory:d,icons:T,path:p}=l,A=Se.useRef(null),h=Se.useRef(null),c=g(O=>{!(0,Ct.isAuxMouseEvent)(O)&&!e.getEditingTab()&&e.dragStart(O,void 0,t,t.isEnableDrag(),n,a)},"onMouseDown"),S=g(O=>{(0,Ct.isAuxMouseEvent)(O)&&e.auxMouseClick(t,O)},"onAuxMouseClick"),r=g(O=>{e.showContextMenu(t,O)},"onContextMenu"),n=g(()=>{e.doAction(Bt.Actions.selectTab(t.getId()))},"onClick"),a=g(O=>{},"onDoubleClick"),_=g(()=>{const O=t.getCloseType();return!!(i||O===ri.ICloseType.Always||O===ri.ICloseType.Visible&&window.matchMedia&&window.matchMedia("(hover: hover) and (pointer: fine)").matches)},"isClosable"),m=g(O=>{_()?e.doAction(Bt.Actions.deleteTab(t.getId())):n()},"onClose"),f=g(O=>{O.stopPropagation()},"onCloseMouseDown");Se.useLayoutEffect(()=>{b(),e.getEditingTab()===t&&h.current.select()});const b=g(()=>{const O=e.getDomRect(),P=A.current.getBoundingClientRect();t._setTabRect(new Qi.Rect(P.left-O.left,P.top-O.top,P.width,P.height))},"updateRect"),E=g(O=>{O.stopPropagation()},"onTextBoxMouseDown"),u=g(O=>{O.keyCode===27?e.setEditingTab(void 0):O.keyCode===13&&(e.setEditingTab(void 0),e.doAction(Bt.Actions.renameTab(t.getId(),O.target.value)))},"onTextBoxKeyPress"),R=e.getClassName;let y=R(ye.CLASSES.FLEXLAYOUT__BORDER_BUTTON)+" "+R(ye.CLASSES.FLEXLAYOUT__BORDER_BUTTON_+o);i?y+=" "+R(ye.CLASSES.FLEXLAYOUT__BORDER_BUTTON__SELECTED):y+=" "+R(ye.CLASSES.FLEXLAYOUT__BORDER_BUTTON__UNSELECTED),t.getClassName()!==void 0&&(y+=" "+t.getClassName());const L=(0,Ct.getRenderStateEx)(e,t,s,d);let U=L.content?Se.createElement("div",{className:R(ye.CLASSES.FLEXLAYOUT__BORDER_BUTTON_CONTENT)},L.content):null;const N=L.leading?Se.createElement("div",{className:R(ye.CLASSES.FLEXLAYOUT__BORDER_BUTTON_LEADING)},L.leading):null;if(e.getEditingTab()===t&&(U=Se.createElement("input",{ref:h,className:R(ye.CLASSES.FLEXLAYOUT__TAB_BUTTON_TEXTBOX),"data-layout-path":p+"/textbox",type:"text",autoFocus:!0,defaultValue:t.getName(),onKeyDown:u,onMouseDown:E,onTouchStart:E})),t.isEnableClose()){const O=e.i18nName(Ki.I18nLabel.Close_Tab);L.buttons.push(Se.createElement("div",{key:"close","data-layout-path":p+"/button/close",title:O,className:R(ye.CLASSES.FLEXLAYOUT__BORDER_BUTTON_TRAILING),onMouseDown:f,onClick:m,onTouchStart:f},typeof T.close=="function"?T.close(t):T.close))}return Se.createElement("div",{ref:A,"data-layout-path":p,className:y,onMouseDown:c,onClick:S,onAuxClick:S,onContextMenu:r,onTouchStart:c,title:t.getHelpText()},N,U,L.buttons)},"BorderButton");ct.BorderButton=en;var Ve={},Je={};Object.defineProperty(Je,"__esModule",{value:!0}),Je.TabButtonStamp=void 0;const ut=wp.element,Mt=X,tn=q,nn=g(l=>{const{layout:e,node:t,iconFactory:i,titleFactory:o}=l,s=ut.useRef(null),d=e.getClassName;let T=d(Mt.CLASSES.FLEXLAYOUT__TAB_BUTTON_STAMP);const p=(0,tn.getRenderStateEx)(e,t,i,o);let A=p.content?ut.createElement("div",{className:d(Mt.CLASSES.FLEXLAYOUT__TAB_BUTTON_CONTENT)},p.content):t._getNameForOverflowMenu();const h=p.leading?ut.createElement("div",{className:d(Mt.CLASSES.FLEXLAYOUT__TAB_BUTTON_LEADING)},p.leading):null;return ut.createElement("div",{ref:s,className:T,title:t.getHelpText()},h,A)},"TabButtonStamp");Je.TabButtonStamp=nn,Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.showPopup=void 0;const _t=wp.element,It=Ce,xt=X,on=Je;function sn(l,e,t,i,o,s){const d=i.getRootDiv(),T=i.getClassName,p=l.ownerDocument,A=l.getBoundingClientRect(),h=d.getBoundingClientRect(),c=p.createElement("div");c.className=T(xt.CLASSES.FLEXLAYOUT__POPUP_MENU_CONTAINER),A.left<h.left+h.width/2?c.style.left=A.left-h.left+"px":c.style.right=h.right-A.right+"px",A.top<h.top+h.height/2?c.style.top=A.top-h.top+"px":c.style.bottom=h.bottom-A.bottom+"px",It.DragDrop.instance.addGlass(()=>S()),It.DragDrop.instance.setGlassCursorOverride("default"),d.appendChild(c);const S=g(()=>{i.hidePortal(),It.DragDrop.instance.hideGlass(),d.removeChild(c),c.removeEventListener("mousedown",r),p.removeEventListener("mousedown",n)},"onHide"),r=g(a=>{a.stopPropagation()},"onElementMouseDown"),n=g(a=>{S()},"onDocMouseDown");c.addEventListener("mousedown",r),p.addEventListener("mousedown",n),i.showPortal(_t.createElement(rn,{currentDocument:p,onSelect:t,onHide:S,items:e,classNameMapper:T,layout:i,iconFactory:o,titleFactory:s}),c)}g(sn,"showPopup"),Ve.showPopup=sn;const rn=g(l=>{const{items:e,onHide:t,onSelect:i,classNameMapper:o,layout:s,iconFactory:d,titleFactory:T}=l,p=g((h,c)=>{i(h),t(),c.stopPropagation()},"onItemClick"),A=e.map((h,c)=>_t.createElement("div",{key:h.index,className:o(xt.CLASSES.FLEXLAYOUT__POPUP_MENU_ITEM),"data-layout-path":"/popup-menu/tb"+c,onClick:S=>p(h,S),title:h.node.getHelpText()},h.node.getModel().isLegacyOverflowMenu()?h.node._getNameForOverflowMenu():_t.createElement(on.TabButtonStamp,{node:h.node,layout:s,iconFactory:d,titleFactory:T})));return _t.createElement("div",{className:o(xt.CLASSES.FLEXLAYOUT__POPUP_MENU),"data-layout-path":"/popup-menu"},A)},"PopupMenu");var Ze={};Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.useTabOverflow=void 0;const de=wp.element,an=G,ai=Re(),Ut=k,dn=g((l,e,t,i)=>{const o=de.useRef(!0),s=de.useRef(!1),d=de.useRef(new an.Rect(0,0,0,0)),T=de.useRef(null),[p,A]=de.useState(0),h=de.useRef(!1),[c,S]=de.useState([]),r=de.useRef(0);de.useLayoutEffect(()=>{h.current=!1},[l.getSelectedNode(),l.getRect().width,l.getRect().height]),de.useLayoutEffect(()=>{f()}),de.useEffect(()=>{const E=T.current;return E.addEventListener("wheel",n,{passive:!1}),()=>{E.removeEventListener("wheel",n)}},[]);const n=g(E=>{E.preventDefault()},"onWheel"),a=g(E=>e===Ut.Orientation.HORZ?E.x:E.y,"getNear"),_=g(E=>e===Ut.Orientation.HORZ?E.getRight():E.getBottom(),"getFar"),m=g(E=>e===Ut.Orientation.HORZ?E.width:E.height,"getSize"),f=g(()=>{o.current===!0&&(s.current=!1);const u=l instanceof ai.TabSetNode?l.getRect():l.getTabHeaderRect();let R=l.getChildren()[l.getChildren().length-1];const y=i.current===null?0:m(i.current.getBoundingClientRect());if(o.current===!0||r.current===0&&c.length!==0||u.width!==d.current.width||u.height!==d.current.height){r.current=c.length,d.current=u;const L=l instanceof ai.TabSetNode?l.isEnableTabStrip()===!0:!0;let U=_(u)-y;if(t.current!==null&&(U-=m(t.current.getBoundingClientRect())),L&&l.getChildren().length>0){if(c.length===0&&p===0&&_(R.getTabRect())+2<U)return;let N=0;const O=l.getSelectedNode();if(O&&!h.current){const D=O.getTabRect(),I=a(D)-2,te=_(D)+2;m(D)+2*2>=U-a(u)?N=a(u)-I:(te>U||I<a(u))&&(I<a(u)&&(N=a(u)-I),te+N>U&&(N=U-te))}const P=Math.max(0,U-(_(R.getTabRect())+2+N)),J=Math.min(0,p+N+P),B=J-p,Y=[];for(let D=0;D<l.getChildren().length;D++){const I=l.getChildren()[D];(a(I.getTabRect())+B<a(u)||_(I.getTabRect())+B>U)&&Y.push({node:I,index:D})}Y.length>0&&(s.current=!0),o.current=!1,S(Y),A(J)}}else o.current=!0},"updateVisibleTabs");return{selfRef:T,position:p,userControlledLeft:h,hiddenTabs:c,onMouseWheel:g(E=>{let u=0;Math.abs(E.deltaX)>Math.abs(E.deltaY)?u=-E.deltaX:u=-E.deltaY,E.deltaMode===1&&(u*=40),A(p+u),h.current=!0,E.stopPropagation()},"onMouseWheel"),tabsTruncated:s.current}},"useTabOverflow");Ze.useTabOverflow=dn,Object.defineProperty(lt,"__esModule",{value:!0}),lt.BorderTabSet=void 0;const K=wp.element,di=re,ln=ct,cn=Ve,li=ie,ci=be,hn=Ze,un=k,j=X,_n=q,fn=g(l=>{const{border:e,layout:t,iconFactory:i,titleFactory:o,icons:s,path:d}=l,T=K.useRef(null),p=K.useRef(null),A=K.useRef(null),{selfRef:h,position:c,userControlledLeft:S,hiddenTabs:r,onMouseWheel:n}=(0,hn.useTabOverflow)(e,un.Orientation.flip(e.getOrientation()),T,A),a=g(D=>{(0,_n.isAuxMouseEvent)(D)&&t.auxMouseClick(e,D)},"onAuxMouseClick"),_=g(D=>{t.showContextMenu(e,D)},"onContextMenu"),m=g(D=>{D.stopPropagation()},"onInterceptMouseDown"),f=g(D=>{const I=t.getShowOverflowMenu();if(I!==void 0)I(e,D,r,b);else{const te=p.current;(0,cn.showPopup)(te,r,b,t,i,o)}D.stopPropagation()},"onOverflowClick"),b=g(D=>{t.doAction(li.Actions.selectTab(D.node.getId())),S.current=!1},"onOverflowItemSelect"),E=g(D=>{const I=e.getChildren()[e.getSelected()];I!==void 0&&t.doAction(li.Actions.floatTab(I.getId())),D.stopPropagation()},"onFloatTab"),u=t.getClassName;let R=e.getTabHeaderRect().styleWithPosition({});const y=[],L=g(D=>{let I=e.getSelected()===D,te=e.getChildren()[D];y.push(K.createElement(ln.BorderButton,{layout:t,border:e.getLocation().getName(),node:te,path:d+"/tb"+D,key:te.getId(),selected:I,iconFactory:i,titleFactory:o,icons:s})),D<e.getChildren().length-1&&y.push(K.createElement("div",{key:"divider"+D,className:u(j.CLASSES.FLEXLAYOUT__BORDER_TAB_DIVIDER)}))},"layoutTab");for(let D=0;D<e.getChildren().length;D++)L(D);let U=u(j.CLASSES.FLEXLAYOUT__BORDER)+" "+u(j.CLASSES.FLEXLAYOUT__BORDER_+e.getLocation().getName());e.getClassName()!==void 0&&(U+=" "+e.getClassName());let N=[];const O={headerContent:void 0,buttons:N,stickyButtons:[],headerButtons:[]};t.customizeTabSet(e,O),N=O.buttons;let P;if(r.length>0){const D=t.i18nName(ci.I18nLabel.Overflow_Menu_Tooltip);let I;typeof s.more=="function"?I=s.more(e,r):I=K.createElement(K.Fragment,null,s.more,K.createElement("div",{className:u(j.CLASSES.FLEXLAYOUT__TAB_BUTTON_OVERFLOW_COUNT)},r.length)),N.push(K.createElement("button",{key:"overflowbutton",ref:p,className:u(j.CLASSES.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON)+" "+u(j.CLASSES.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_OVERFLOW)+" "+u(j.CLASSES.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_OVERFLOW_+e.getLocation().getName()),title:D,onClick:f,onMouseDown:m,onTouchStart:m},I))}const J=e.getSelected();if(J!==-1){const D=e.getChildren()[J];if(D!==void 0&&t.isSupportsPopout()&&D.isEnableFloat()&&!D.isFloating()){const I=t.i18nName(ci.I18nLabel.Float_Tab);N.push(K.createElement("button",{key:"float",title:I,className:u(j.CLASSES.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON)+" "+u(j.CLASSES.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_FLOAT),onClick:E,onMouseDown:m,onTouchStart:m},typeof s.popout=="function"?s.popout(D):s.popout))}}P=K.createElement("div",{key:"toolbar",ref:T,className:u(j.CLASSES.FLEXLAYOUT__BORDER_TOOLBAR)+" "+u(j.CLASSES.FLEXLAYOUT__BORDER_TOOLBAR_+e.getLocation().getName())},N),R=t.styleFont(R);let B={};const Y=e.getBorderBarSize()-1;return e.getLocation()===di.DockLocation.LEFT?B={right:Y,height:Y,top:c}:e.getLocation()===di.DockLocation.RIGHT?B={left:Y,height:Y,top:c}:B={height:Y,left:c},K.createElement("div",{ref:h,dir:"ltr",style:R,className:U,"data-layout-path":d,onClick:a,onAuxClick:a,onContextMenu:_,onWheel:n},K.createElement("div",{style:{height:Y},className:u(j.CLASSES.FLEXLAYOUT__BORDER_INNER)+" "+u(j.CLASSES.FLEXLAYOUT__BORDER_INNER_+e.getLocation().getName())},K.createElement("div",{style:B,className:u(j.CLASSES.FLEXLAYOUT__BORDER_INNER_TAB_CONTAINER)+" "+u(j.CLASSES.FLEXLAYOUT__BORDER_INNER_TAB_CONTAINER_+e.getLocation().getName())},y)),P)},"BorderTabSet");lt.BorderTabSet=fn;var ft={};Object.defineProperty(ft,"__esModule",{value:!0}),ft.Splitter=void 0;const qe=wp.element,hi=Ce,ui=ie,_i=Te(),pe=k,Ke=X,gn=g(l=>{const{layout:e,node:t,path:i}=l,o=qe.useRef([]),s=qe.useRef(void 0),d=t.getParent(),T=g(b=>{hi.DragDrop.instance.setGlassCursorOverride(t.getOrientation()===pe.Orientation.HORZ?"ns-resize":"ew-resize"),hi.DragDrop.instance.startDrag(b,A,h,S,p,void 0,void 0,e.getCurrentDocument(),e.getRootDiv()),o.current=d._getSplitterBounds(t,!0);const E=e.getRootDiv();s.current=e.getCurrentDocument().createElement("div"),s.current.style.position="absolute",s.current.className=e.getClassName(Ke.CLASSES.FLEXLAYOUT__SPLITTER_DRAG),s.current.style.cursor=t.getOrientation()===pe.Orientation.HORZ?"ns-resize":"ew-resize";const u=t.getRect();t.getOrientation()===pe.Orientation.VERT&&u.width<2?u.width=2:t.getOrientation()===pe.Orientation.HORZ&&u.height<2&&(u.height=2),u.positionElement(s.current),E.appendChild(s.current)},"onMouseDown"),p=g(b=>{e.getRootDiv().removeChild(s.current)},"onDragCancel"),A=g(()=>!0,"onDragStart"),h=g(b=>{const E=e.getDomRect(),u={x:b.clientX-E.left,y:b.clientY-E.top};s&&(t.getOrientation()===pe.Orientation.HORZ?s.current.style.top=r(u.y-4)+"px":s.current.style.left=r(u.x-4)+"px"),e.isRealtimeResize()&&c()},"onDragMove"),c=g(()=>{let b=0;if(s&&(t.getOrientation()===pe.Orientation.HORZ?b=s.current.offsetTop:b=s.current.offsetLeft),d instanceof _i.BorderNode){const E=d._calculateSplit(t,b);e.doAction(ui.Actions.adjustBorderSplit(t.getParent().getId(),E))}else{const E=d._calculateSplit(t,b);E!==void 0&&e.doAction(ui.Actions.adjustSplit(E))}},"updateLayout"),S=g(()=>{c(),e.getRootDiv().removeChild(s.current)},"onDragEnd"),r=g(b=>{const E=o.current;let u=b;return b<E[0]&&(u=E[0]),b>E[1]&&(u=E[1]),u},"getBoundPosition"),n=e.getClassName;let a=t.getRect();const _=a.styleWithPosition({cursor:t.getOrientation()===pe.Orientation.HORZ?"ns-resize":"ew-resize"});let m=n(Ke.CLASSES.FLEXLAYOUT__SPLITTER)+" "+n(Ke.CLASSES.FLEXLAYOUT__SPLITTER_+t.getOrientation().getName());d instanceof _i.BorderNode?m+=" "+n(Ke.CLASSES.FLEXLAYOUT__SPLITTER_BORDER):t.getModel().getMaximizedTabset()!==void 0&&(_.display="none");const f=t.getModel().getSplitterExtra();if(f===0)return qe.createElement("div",{style:_,"data-layout-path":i,className:m,onTouchStart:T,onMouseDown:T});{let b=a.clone();b.x=0,b.y=0,t.getOrientation()===pe.Orientation.VERT?b.width+=f:b.height+=f;const E=b.styleWithPosition({cursor:t.getOrientation()===pe.Orientation.HORZ?"ns-resize":"ew-resize"}),u=n(Ke.CLASSES.FLEXLAYOUT__SPLITTER_EXTRA);return qe.createElement("div",{style:_,"data-layout-path":i,className:m},qe.createElement("div",{style:E,className:u,onTouchStart:T,onMouseDown:T}))}},"Splitter");ft.Splitter=gn;var gt={},Qe={};Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.ErrorBoundary=void 0;const Ft=wp.element,fi=X;class gi extends Ft.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.debug(e),console.debug(t)}render(){return this.state.hasError?Ft.createElement("div",{className:fi.CLASSES.FLEXLAYOUT__ERROR_BOUNDARY_CONTAINER},Ft.createElement("div",{className:fi.CLASSES.FLEXLAYOUT__ERROR_BOUNDARY_CONTENT},this.props.message)):this.props.children}}g(gi,"ErrorBoundary"),Qe.ErrorBoundary=gi,Object.defineProperty(gt,"__esModule",{value:!0}),gt.Tab=void 0;const et=wp.element,Tn=wp.element,bn=ie,Ti=Re(),zt=X,pn=Qe,En=be,mn=Te(),bi=q,An=g(l=>{const{layout:e,selected:t,node:i,factory:o,path:s}=l,[d,T]=et.useState(!l.node.isEnableRenderOnDemand()||l.selected);et.useLayoutEffect(()=>{!d&&t&&T(!0)});const p=g(()=>{const a=i.getParent();a.getType()===Ti.TabSetNode.TYPE&&(a.isActive()||e.doAction(bn.Actions.setActiveTabset(a.getId())))},"onMouseDown"),A=e.getClassName,h=i.getModel().isUseVisibility(),c=i.getParent(),S=i._styleWithPosition();t||(0,bi.hideElement)(S,h),c instanceof Ti.TabSetNode&&i.getModel().getMaximizedTabset()!==void 0&&!c.isMaximized()&&(0,bi.hideElement)(S,h);let r;d&&(r=o(i));let n=A(zt.CLASSES.FLEXLAYOUT__TAB);return c instanceof mn.BorderNode&&(n+=" "+A(zt.CLASSES.FLEXLAYOUT__TAB_BORDER),n+=" "+A(zt.CLASSES.FLEXLAYOUT__TAB_BORDER_+c.getLocation().getName())),et.createElement("div",{className:n,"data-layout-path":s,onMouseDown:p,onTouchStart:p,style:S},et.createElement(pn.ErrorBoundary,{message:l.layout.i18nName(En.I18nLabel.Error_rendering_component)},et.createElement(Tn.Fragment,null,r)))},"Tab");gt.Tab=An;var Tt={},bt={};Object.defineProperty(bt,"__esModule",{value:!0}),bt.TabButton=void 0;const Le=wp.element,On=be,Pt=ie,Rn=G,pi=ht,tt=X,Ht=q,Sn=g(l=>{const{layout:e,node:t,selected:i,iconFactory:o,titleFactory:s,icons:d,path:T}=l,p=Le.useRef(null),A=Le.useRef(null),h=g(B=>{!(0,Ht.isAuxMouseEvent)(B)&&!e.getEditingTab()&&e.dragStart(B,void 0,t,t.isEnableDrag(),r,n)},"onMouseDown"),c=g(B=>{(0,Ht.isAuxMouseEvent)(B)&&e.auxMouseClick(t,B)},"onAuxMouseClick"),S=g(B=>{e.showContextMenu(t,B)},"onContextMenu"),r=g(()=>{e.doAction(Pt.Actions.selectTab(t.getId()))},"onClick"),n=g(B=>{t.isEnableRename()&&a()},"onDoubleClick"),a=g(()=>{e.setEditingTab(t),e.getCurrentDocument().body.addEventListener("mousedown",_),e.getCurrentDocument().body.addEventListener("touchstart",_)},"onRename"),_=g(B=>{B.target!==A.current&&(e.getCurrentDocument().body.removeEventListener("mousedown",_),e.getCurrentDocument().body.removeEventListener("touchstart",_),e.setEditingTab(void 0))},"onEndEdit"),m=g(()=>{const B=t.getCloseType();return!!(i||B===pi.ICloseType.Always||B===pi.ICloseType.Visible&&window.matchMedia&&window.matchMedia("(hover: hover) and (pointer: fine)").matches)},"isClosable"),f=g(B=>{m()?e.doAction(Pt.Actions.deleteTab(t.getId())):r()},"onClose"),b=g(B=>{B.stopPropagation()},"onCloseMouseDown");Le.useLayoutEffect(()=>{E(),e.getEditingTab()===t&&A.current.select()});const E=g(()=>{const B=e.getDomRect(),Y=p.current.getBoundingClientRect();t._setTabRect(new Rn.Rect(Y.left-B.left,Y.top-B.top,Y.width,Y.height))},"updateRect"),u=g(B=>{B.stopPropagation()},"onTextBoxMouseDown"),R=g(B=>{B.keyCode===27?e.setEditingTab(void 0):B.keyCode===13&&(e.setEditingTab(void 0),e.doAction(Pt.Actions.renameTab(t.getId(),B.target.value)))},"onTextBoxKeyPress"),y=e.getClassName,L=t.getParent();let U=tt.CLASSES.FLEXLAYOUT__TAB_BUTTON,N=y(U);N+=" "+y(U+"_"+L.getTabLocation()),i?N+=" "+y(U+"--selected"):N+=" "+y(U+"--unselected"),t.getClassName()!==void 0&&(N+=" "+t.getClassName());const O=(0,Ht.getRenderStateEx)(e,t,o,s);let P=O.content?Le.createElement("div",{className:y(tt.CLASSES.FLEXLAYOUT__TAB_BUTTON_CONTENT)},O.content):null;const J=O.leading?Le.createElement("div",{className:y(tt.CLASSES.FLEXLAYOUT__TAB_BUTTON_LEADING)},O.leading):null;if(e.getEditingTab()===t&&(P=Le.createElement("input",{ref:A,className:y(tt.CLASSES.FLEXLAYOUT__TAB_BUTTON_TEXTBOX),"data-layout-path":T+"/textbox",type:"text",autoFocus:!0,defaultValue:t.getName(),onKeyDown:R,onMouseDown:u,onTouchStart:u})),t.isEnableClose()){const B=e.i18nName(On.I18nLabel.Close_Tab);O.buttons.push(Le.createElement("div",{key:"close","data-layout-path":T+"/button/close",title:B,className:y(tt.CLASSES.FLEXLAYOUT__TAB_BUTTON_TRAILING),onMouseDown:b,onClick:f,onTouchStart:b},typeof d.close=="function"?d.close(t):d.close))}return Le.createElement("div",{ref:p,"data-layout-path":T,className:N,onMouseDown:h,onClick:c,onAuxClick:c,onContextMenu:S,onTouchStart:h,title:t.getHelpText()},J,P,O.buttons)},"TabButton");bt.TabButton=Sn,Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.TabSet=void 0;const F=wp.element,Ue=be,pt=ie,yn=Ve,Ln=bt,Nn=Ze,vn=k,z=X,Yt=q,Dn=g(l=>{const{node:e,layout:t,iconFactory:i,titleFactory:o,icons:s,path:d}=l,T=F.useRef(null),p=F.useRef(null),A=F.useRef(null),h=F.useRef(null),{selfRef:c,position:S,userControlledLeft:r,hiddenTabs:n,onMouseWheel:a,tabsTruncated:_}=(0,Nn.useTabOverflow)(e,vn.Orientation.HORZ,T,h),m=g(v=>{const H=t.getShowOverflowMenu();if(H!==void 0)H(e,v,n,f);else{const Ee=p.current;(0,yn.showPopup)(Ee,n,f,t,i,o)}v.stopPropagation()},"onOverflowClick"),f=g(v=>{t.doAction(pt.Actions.selectTab(v.node.getId())),r.current=!1},"onOverflowItemSelect"),b=g(v=>{if(!(0,Yt.isAuxMouseEvent)(v)){let H=e.getName();if(H===void 0?H="":H=": "+H,t.doAction(pt.Actions.setActiveTabset(e.getId())),!t.getEditingTab()){const Ee=t.i18nName(Ue.I18nLabel.Move_Tabset,H);e.getModel().getMaximizedTabset()!==void 0?t.dragStart(v,Ee,e,!1,ao=>{},N):t.dragStart(v,Ee,e,e.isEnableDrag(),ao=>{},N)}}},"onMouseDown"),E=g(v=>{(0,Yt.isAuxMouseEvent)(v)&&t.auxMouseClick(e,v)},"onAuxMouseClick"),u=g(v=>{t.showContextMenu(e,v)},"onContextMenu"),R=g(v=>{v.stopPropagation()},"onInterceptMouseDown"),y=g(v=>{e.canMaximize()&&t.maximize(e),v.stopPropagation()},"onMaximizeToggle"),L=g(v=>{t.doAction(pt.Actions.deleteTabset(e.getId())),v.stopPropagation()},"onClose"),U=g(v=>{P!==void 0&&t.doAction(pt.Actions.floatTab(P.getId())),v.stopPropagation()},"onFloatTab"),N=g(v=>{e.canMaximize()&&t.maximize(e)},"onDoubleClick"),O=t.getClassName;A.current!==null&&A.current.scrollLeft!==0&&(A.current.scrollLeft=0);const P=e.getSelectedNode();let J=e._styleWithPosition();e.getModel().getMaximizedTabset()!==void 0&&!e.isMaximized()&&(0,Yt.hideElement)(J,e.getModel().isUseVisibility());const B=[];if(e.isEnableTabStrip())for(let v=0;v<e.getChildren().length;v++){const H=e.getChildren()[v];let Ee=e.getSelected()===v;B.push(F.createElement(Ln.TabButton,{layout:t,node:H,path:d+"/tb"+v,key:H.getId(),selected:Ee,iconFactory:i,titleFactory:o,icons:s})),v<e.getChildren().length-1&&B.push(F.createElement("div",{key:"divider"+v,className:O(z.CLASSES.FLEXLAYOUT__TABSET_TAB_DIVIDER)}))}const Y=e.getName()!==void 0;let D=[],I=[],te=[];const st={headerContent:e.getName(),stickyButtons:D,buttons:I,headerButtons:te};t.customizeTabSet(e,st);const so=st.headerContent;D=st.stickyButtons,I=st.buttons,te=st.headerButtons,D.length>0&&(_?I=[...D,...I]:B.push(F.createElement("div",{ref:h,key:"sticky_buttons_container",onMouseDown:R,onTouchStart:R,onDragStart:v=>{v.preventDefault()},className:O(z.CLASSES.FLEXLAYOUT__TAB_TOOLBAR_STICKY_BUTTONS_CONTAINER)},D)));let Ui;if(n.length>0){const v=t.i18nName(Ue.I18nLabel.Overflow_Menu_Tooltip);let H;typeof s.more=="function"?H=s.more(e,n):H=F.createElement(F.Fragment,null,s.more,F.createElement("div",{className:O(z.CLASSES.FLEXLAYOUT__TAB_BUTTON_OVERFLOW_COUNT)},n.length)),I.push(F.createElement("button",{key:"overflowbutton","data-layout-path":d+"/button/overflow",ref:p,className:O(z.CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON)+" "+O(z.CLASSES.FLEXLAYOUT__TAB_BUTTON_OVERFLOW),title:v,onClick:m,onMouseDown:R,onTouchStart:R},H))}if(P!==void 0&&t.isSupportsPopout()&&P.isEnableFloat()&&!P.isFloating()){const v=t.i18nName(Ue.I18nLabel.Float_Tab);I.push(F.createElement("button",{key:"float","data-layout-path":d+"/button/float",title:v,className:O(z.CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON)+" "+O(z.CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_FLOAT),onClick:U,onMouseDown:R,onTouchStart:R},typeof s.popout=="function"?s.popout(P):s.popout))}if(e.canMaximize()){const v=t.i18nName(Ue.I18nLabel.Restore),H=t.i18nName(Ue.I18nLabel.Maximize);(Y?te:I).push(F.createElement("button",{key:"max","data-layout-path":d+"/button/max",title:e.isMaximized()?v:H,className:O(z.CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON)+" "+O(z.CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_+(e.isMaximized()?"max":"min")),onClick:y,onMouseDown:R,onTouchStart:R},e.isMaximized()?typeof s.restore=="function"?s.restore(e):s.restore:typeof s.maximize=="function"?s.maximize(e):s.maximize))}if(!e.isMaximized()&&e.isEnableClose()){const v=t.i18nName(Ue.I18nLabel.Close_Tabset);(Y?te:I).push(F.createElement("button",{key:"close","data-layout-path":d+"/button/close",title:v,className:O(z.CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON)+" "+O(z.CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_CLOSE),onClick:L,onMouseDown:R,onTouchStart:R},typeof s.closeTabset=="function"?s.closeTabset(e):s.closeTabset))}Ui=F.createElement("div",{key:"toolbar",ref:T,className:O(z.CLASSES.FLEXLAYOUT__TAB_TOOLBAR),onMouseDown:R,onTouchStart:R,onDragStart:v=>{v.preventDefault()}},I);let Jt,Zt,rt=O(z.CLASSES.FLEXLAYOUT__TABSET_TABBAR_OUTER);if(e.getClassNameTabStrip()!==void 0&&(rt+=" "+e.getClassNameTabStrip()),rt+=" "+z.CLASSES.FLEXLAYOUT__TABSET_TABBAR_OUTER_+e.getTabLocation(),e.isActive()&&!Y&&(rt+=" "+O(z.CLASSES.FLEXLAYOUT__TABSET_SELECTED)),e.isMaximized()&&!Y&&(rt+=" "+O(z.CLASSES.FLEXLAYOUT__TABSET_MAXIMIZED)),Y){const v=F.createElement("div",{key:"toolbar",ref:T,className:O(z.CLASSES.FLEXLAYOUT__TAB_TOOLBAR),onMouseDown:R,onTouchStart:R,onDragStart:Ee=>{Ee.preventDefault()}},te);let H=O(z.CLASSES.FLEXLAYOUT__TABSET_HEADER);e.isActive()&&(H+=" "+O(z.CLASSES.FLEXLAYOUT__TABSET_SELECTED)),e.isMaximized()&&(H+=" "+O(z.CLASSES.FLEXLAYOUT__TABSET_MAXIMIZED)),e.getClassNameHeader()!==void 0&&(H+=" "+e.getClassNameHeader()),Jt=F.createElement("div",{className:H,style:{height:e.getHeaderHeight()+"px"},"data-layout-path":d+"/header",onMouseDown:b,onContextMenu:u,onClick:E,onAuxClick:E,onTouchStart:b},F.createElement("div",{className:O(z.CLASSES.FLEXLAYOUT__TABSET_HEADER_CONTENT)},so),v)}const ro={height:e.getTabStripHeight()+"px"};Zt=F.createElement("div",{className:rt,style:ro,"data-layout-path":d+"/tabstrip",onMouseDown:b,onContextMenu:u,onClick:E,onAuxClick:E,onTouchStart:b},F.createElement("div",{ref:A,className:O(z.CLASSES.FLEXLAYOUT__TABSET_TABBAR_INNER)+" "+O(z.CLASSES.FLEXLAYOUT__TABSET_TABBAR_INNER_+e.getTabLocation())},F.createElement("div",{style:{left:S},className:O(z.CLASSES.FLEXLAYOUT__TABSET_TABBAR_INNER_TAB_CONTAINER)+" "+O(z.CLASSES.FLEXLAYOUT__TABSET_TABBAR_INNER_TAB_CONTAINER_+e.getTabLocation())},B)),Ui),J=t.styleFont(J);var Fi=void 0;if(e.getChildren().length===0){const v=t.getTabSetPlaceHolderCallback();v&&(Fi=v(e))}const zi=F.createElement("div",{className:O(z.CLASSES.FLEXLAYOUT__TABSET_CONTENT)},Fi);var qt;return e.getTabLocation()==="top"?qt=F.createElement(F.Fragment,null,Jt,Zt,zi):qt=F.createElement(F.Fragment,null,Jt,zi,Zt),F.createElement("div",{ref:c,dir:"ltr","data-layout-path":d,style:J,className:O(z.CLASSES.FLEXLAYOUT__TABSET),onWheel:a},qt)},"TabSet");Tt.TabSet=Dn;var Et={};Object.defineProperty(Et,"__esModule",{value:!0}),Et.FloatingWindow=void 0;const mt=wp.element,wn=wp.element,Bn=X,Cn=g(l=>{const{title:e,id:t,url:i,rect:o,onCloseWindow:s,onSetWindow:d,children:T}=l,p=mt.useRef(null),A=mt.useRef(null),[h,c]=mt.useState(void 0);return mt.useLayoutEffect(()=>{A.current&&clearTimeout(A.current);const S=o,r=Array.from(window.document.styleSheets).reduce((n,a)=>{let _;try{_=a.cssRules}catch(m){}try{return[...n,{href:a.href,type:a.type,rules:_?Array.from(_).map(m=>m.cssText):null}]}catch(m){return n}},[]);return p.current=window.open(i,t,`left=${S.x},top=${S.y},width=${S.width},height=${S.height}`),p.current!==null?(d(t,p.current),window.addEventListener("beforeunload",()=>{p.current&&(p.current.close(),p.current=null)}),p.current.addEventListener("load",()=>{const n=p.current.document;n.title=e;const a=n.createElement("div");a.className=Bn.CLASSES.FLEXLAYOUT__FLOATING_WINDOW_CONTENT,n.body.appendChild(a),Mn(n,r).then(()=>{c(a)}),p.current.addEventListener("beforeunload",()=>{s(t)})})):(console.warn(`Unable to open window ${i}`),s(t)),()=>{A.current=setTimeout(()=>{p.current&&(p.current.close(),p.current=null)},0)}},[]),h!==void 0?(0,wn.createPortal)(T,h):null},"FloatingWindow");Et.FloatingWindow=Cn;function Mn(l,e){const t=l.head,i=[];for(const o of e)if(o.href){const s=l.createElement("link");s.type=o.type,s.rel="stylesheet",s.href=o.href,t.appendChild(s),i.push(new Promise((d,T)=>{s.onload=()=>d(!0)}))}else if(o.rules){const s=l.createElement("style");for(const d of o.rules)s.appendChild(l.createTextNode(d));t.appendChild(s)}return Promise.all(i)}g(Mn,"copyStyles");var At={};Object.defineProperty(At,"__esModule",{value:!0}),At.FloatingWindowTab=void 0;const kt=wp.element,In=Qe,xn=be,Un=wp.element,Fn=X,zn=g(l=>{const{layout:e,node:t,factory:i}=l,o=e.getClassName,s=i(t);return kt.createElement("div",{className:o(Fn.CLASSES.FLEXLAYOUT__FLOATING_WINDOW_TAB)},kt.createElement(In.ErrorBoundary,{message:l.layout.i18nName(xn.I18nLabel.Error_rendering_component)},kt.createElement(Un.Fragment,null,s)))},"FloatingWindowTab");At.FloatingWindowTab=zn;var Ot={};Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.TabFloating=void 0;const Ne=wp.element,Ei=ie,mi=Re(),Xt=X,Wt=be,Ai=q,Pn=g(l=>{const{layout:e,selected:t,node:i,path:o}=l,s=g(()=>{i.getWindow()&&i.getWindow().focus()},"showPopout"),d=g(()=>{e.doAction(Ei.Actions.unFloatTab(i.getId()))},"dockPopout"),T=g(()=>{const m=i.getParent();m.getType()===mi.TabSetNode.TYPE&&(m.isActive()||e.doAction(Ei.Actions.setActiveTabset(m.getId())))},"onMouseDown"),p=g(m=>{m.preventDefault(),s()},"onClickFocus"),A=g(m=>{m.preventDefault(),d()},"onClickDock"),h=e.getClassName,c=i.getParent(),S=i._styleWithPosition();t||(0,Ai.hideElement)(S,i.getModel().isUseVisibility()),c instanceof mi.TabSetNode&&i.getModel().getMaximizedTabset()!==void 0&&!c.isMaximized()&&(0,Ai.hideElement)(S,i.getModel().isUseVisibility());const r=e.i18nName(Wt.I18nLabel.Floating_Window_Message),n=e.i18nName(Wt.I18nLabel.Floating_Window_Show_Window),a=e.i18nName(Wt.I18nLabel.Floating_Window_Dock_Window),_=e.getOnRenderFloatingTabPlaceholder();return _?Ne.createElement("div",{className:h(Xt.CLASSES.FLEXLAYOUT__TAB_FLOATING),onMouseDown:T,onTouchStart:T,style:S},_(d,s)):Ne.createElement("div",{className:h(Xt.CLASSES.FLEXLAYOUT__TAB_FLOATING),"data-layout-path":o,onMouseDown:T,onTouchStart:T,style:S},Ne.createElement("div",{className:h(Xt.CLASSES.FLEXLAYOUT__TAB_FLOATING_INNER)},Ne.createElement("div",null,r),Ne.createElement("div",null,Ne.createElement("a",{href:"#",onClick:p},n)),Ne.createElement("div",null,Ne.createElement("a",{href:"#",onClick:A},a))))},"TabFloating");Ot.TabFloating=Pn;var se={};Object.defineProperty(se,"__esModule",{value:!0}),se.RestoreIcon=se.PopoutIcon=se.OverflowIcon=se.MaximizeIcon=se.CloseIcon=void 0;const V=wp.element,it={width:"1em",height:"1em",display:"flex",alignItems:"center"},Hn=g(()=>V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:it,viewBox:"0 0 24 24"},V.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),V.createElement("path",{stroke:"var(--color-icon)",fill:"var(--color-icon)",d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),"CloseIcon");se.CloseIcon=Hn;const Yn=g(()=>V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:it,viewBox:"0 0 24 24",fill:"var(--color-icon)"},V.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),V.createElement("path",{stroke:"var(--color-icon)",d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"})),"MaximizeIcon");se.MaximizeIcon=Yn;const kn=g(()=>V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:it,viewBox:"0 0 24 24",fill:"var(--color-icon)"},V.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),V.createElement("path",{stroke:"var(--color-icon)",d:"M7 10l5 5 5-5z"})),"OverflowIcon");se.OverflowIcon=kn;const Xn=g(()=>V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:it,viewBox:"0 0 20 20",fill:"var(--color-icon)"},V.createElement("path",{d:"M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"}),V.createElement("path",{d:"M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"})),"PopoutIcon");se.PopoutIcon=Xn;const Wn=g(()=>V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:it,viewBox:"0 0 24 24",fill:"var(--color-icon)"},V.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),V.createElement("path",{stroke:"var(--color-icon)",d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"})),"RestoreIcon");se.RestoreIcon=Wn,Object.defineProperty(at,"__esModule",{value:!0}),at.Layout=void 0;const w=wp.element,$n=wp.element,le=re,ve=Ce,Fe=ie,Gn=Te(),Oi=Ie,De=Oe,Ri=Re(),Rt=G,he=X,jn=lt,Si=ft,yi=gt,Vn=Tt,Li=Et,Ni=At,vi=Ot,Jn=k,ze=se,Zn=Je,qn={close:w.createElement(ze.CloseIcon,null),closeTabset:w.createElement(ze.CloseIcon,null),popout:w.createElement(ze.PopoutIcon,null),maximize:w.createElement(ze.MaximizeIcon,null),restore:w.createElement(ze.RestoreIcon,null),more:w.createElement(ze.OverflowIcon,null)},Kn=typeof window!="undefined"&&(window.document.documentMode||/Edge\//.test(window.navigator.userAgent)),Qn=typeof window!="undefined"&&window.matchMedia&&window.matchMedia("(hover: hover) and (pointer: fine)").matches&&!Kn;class Di extends w.Component{constructor(e){super(e),this.firstMove=!1,this.dragRectRendered=!0,this.dragDivText=void 0,this.edgeRectLength=100,this.edgeRectWidth=10,this.onModelChange=t=>{this.forceUpdate(),this.props.onModelChange&&this.props.onModelChange(this.props.model,t)},this.updateRect=(t=this.getDomRect())=>{const i=new Rt.Rect(0,0,t.width,t.height);!i.equals(this.state.rect)&&i.width!==0&&i.height!==0&&this.setState({rect:i})},this.updateLayoutMetrics=()=>{if(this.findHeaderBarSizeRef.current){const t=this.findHeaderBarSizeRef.current.getBoundingClientRect().height;t!==this.state.calculatedHeaderBarSize&&this.setState({calculatedHeaderBarSize:t})}if(this.findTabBarSizeRef.current){const t=this.findTabBarSizeRef.current.getBoundingClientRect().height;t!==this.state.calculatedTabBarSize&&this.setState({calculatedTabBarSize:t})}if(this.findBorderBarSizeRef.current){const t=this.findBorderBarSizeRef.current.getBoundingClientRect().height;t!==this.state.calculatedBorderBarSize&&this.setState({calculatedBorderBarSize:t})}},this.getClassName=t=>this.props.classNameMapper===void 0?t:this.props.classNameMapper(t),this.onCloseWindow=t=>{this.doAction(Fe.Actions.unFloatTab(t));try{this.props.model.getNodeById(t)._setWindow(void 0)}catch(i){}},this.onSetWindow=(t,i)=>{this.props.model.getNodeById(t)._setWindow(i)},this.onCancelAdd=()=>{var t,i;this.selfRef.current.removeChild(this.dragDiv),this.dragDiv=void 0,this.hidePortal(),this.fnNewNodeDropped!=null&&(this.fnNewNodeDropped(),this.fnNewNodeDropped=void 0);try{(i=(t=this.customDrop)===null||t===void 0?void 0:t.invalidated)===null||i===void 0||i.call(t)}catch(s){console.error(s)}ve.DragDrop.instance.hideGlass(),this.newTabJson=void 0,this.customDrop=void 0},this.onCancelDrag=t=>{var i,o;if(t){const s=this.selfRef.current;try{s.removeChild(this.outlineDiv)}catch(d){}try{s.removeChild(this.dragDiv)}catch(d){}this.dragDiv=void 0,this.hidePortal(),this.setState({showEdges:!1}),this.fnNewNodeDropped!=null&&(this.fnNewNodeDropped(),this.fnNewNodeDropped=void 0);try{(o=(i=this.customDrop)===null||i===void 0?void 0:i.invalidated)===null||o===void 0||o.call(i)}catch(d){console.error(d)}ve.DragDrop.instance.hideGlass(),this.newTabJson=void 0,this.customDrop=void 0}this.setState({showHiddenBorder:le.DockLocation.CENTER})},this.onDragDivMouseDown=t=>{t.preventDefault(),this.dragStart(t,this.dragDivText,De.TabNode._fromJson(this.newTabJson,this.props.model,!1),!0,void 0,void 0)},this.dragStart=(t,i,o,s,d,T)=>{s?(this.dragNode=o,this.dragDivText=i,ve.DragDrop.instance.startDrag(t,this.onDragStart,this.onDragMove,this.onDragEnd,this.onCancelDrag,d,T,this.currentDocument,this.selfRef.current)):ve.DragDrop.instance.startDrag(t,void 0,void 0,void 0,void 0,d,T,this.currentDocument,this.selfRef.current)},this.dragRectRender=(t,i,o,s)=>{let d;if(t!==void 0?d=w.createElement("div",{style:{whiteSpace:"pre"}},t.replace("<br>",`
`)):i&&i instanceof De.TabNode&&(d=w.createElement(Zn.TabButtonStamp,{node:i,layout:this,iconFactory:this.props.iconFactory,titleFactory:this.props.titleFactory})),this.props.onRenderDragRect!==void 0){const T=this.props.onRenderDragRect(d,i,o);T!==void 0&&(d=T)}this.dragDiv.style.visibility="hidden",this.dragRectRendered=!1,this.showPortal(w.createElement(eo,{onRendered:()=>{this.dragRectRendered=!0,s==null||s()}},d),this.dragDiv)},this.showPortal=(t,i)=>{const o=(0,$n.createPortal)(t,i);this.setState({portal:o})},this.hidePortal=()=>{this.setState({portal:void 0})},this.onDragStart=()=>{this.dropInfo=void 0,this.customDrop=void 0;const t=this.selfRef.current;return this.outlineDiv=this.currentDocument.createElement("div"),this.outlineDiv.className=this.getClassName(he.CLASSES.FLEXLAYOUT__OUTLINE_RECT),this.outlineDiv.style.visibility="hidden",t.appendChild(this.outlineDiv),this.dragDiv==null&&(this.dragDiv=this.currentDocument.createElement("div"),this.dragDiv.className=this.getClassName(he.CLASSES.FLEXLAYOUT__DRAG_RECT),this.dragDiv.setAttribute("data-layout-path","/drag-rectangle"),this.dragRectRender(this.dragDivText,this.dragNode,this.newTabJson),t.appendChild(this.dragDiv)),this.props.model.getMaximizedTabset()===void 0&&this.setState({showEdges:!0}),this.dragNode!==void 0&&this.dragNode instanceof De.TabNode&&this.dragNode.getTabRect()!==void 0&&this.dragNode.getTabRect().positionElement(this.outlineDiv),this.firstMove=!0,!0},this.onDragMove=t=>{if(this.firstMove===!1){const p=this.props.model._getAttribute("tabDragSpeed");this.outlineDiv.style.transition=`top ${p}s, left ${p}s, width ${p}s, height ${p}s`}this.firstMove=!1;const i=this.selfRef.current.getBoundingClientRect(),o={x:t.clientX-i.left,y:t.clientY-i.top};this.checkForBorderToShow(o.x,o.y);const s=this.dragDiv.getBoundingClientRect();let d=o.x-s.width/2;d+s.width>i.width&&(d=i.width-s.width),d=Math.max(0,d),this.dragDiv.style.left=d+"px",this.dragDiv.style.top=o.y+5+"px",this.dragRectRendered&&this.dragDiv.style.visibility==="hidden"&&(this.dragDiv.style.visibility="visible");let T=this.props.model._findDropTargetNode(this.dragNode,o.x,o.y);T&&(this.props.onTabDrag?this.handleCustomTabDrag(T,o,t):(this.dropInfo=T,this.outlineDiv.className=this.getClassName(T.className),T.rect.positionElement(this.outlineDiv),this.outlineDiv.style.visibility="visible"))},this.onDragEnd=t=>{const i=this.selfRef.current;if(i.removeChild(this.outlineDiv),i.removeChild(this.dragDiv),this.dragDiv=void 0,this.hidePortal(),this.setState({showEdges:!1}),ve.DragDrop.instance.hideGlass(),this.dropInfo)if(this.customDrop){this.newTabJson=void 0;try{const{callback:o,dragging:s,over:d,x:T,y:p,location:A}=this.customDrop;o(s,d,T,p,A),this.fnNewNodeDropped!=null&&(this.fnNewNodeDropped(),this.fnNewNodeDropped=void 0)}catch(o){console.error(o)}}else if(this.newTabJson!==void 0){const o=this.doAction(Fe.Actions.addNode(this.newTabJson,this.dropInfo.node.getId(),this.dropInfo.location,this.dropInfo.index));this.fnNewNodeDropped!=null&&(this.fnNewNodeDropped(o,t),this.fnNewNodeDropped=void 0),this.newTabJson=void 0}else this.dragNode!==void 0&&this.doAction(Fe.Actions.moveNode(this.dragNode.getId(),this.dropInfo.node.getId(),this.dropInfo.location,this.dropInfo.index));this.setState({showHiddenBorder:le.DockLocation.CENTER})},this.props.model._setChangeListener(this.onModelChange),this.tabIds=[],this.selfRef=w.createRef(),this.findHeaderBarSizeRef=w.createRef(),this.findTabBarSizeRef=w.createRef(),this.findBorderBarSizeRef=w.createRef(),this.supportsPopout=e.supportsPopout!==void 0?e.supportsPopout:Qn,this.popoutURL=e.popoutURL?e.popoutURL:"popout.html",this.icons=Object.assign(Object.assign({},qn),e.icons),this.state={rect:new Rt.Rect(0,0,0,0),calculatedHeaderBarSize:25,calculatedTabBarSize:26,calculatedBorderBarSize:30,editingTab:void 0,showHiddenBorder:le.DockLocation.CENTER,showEdges:!1},this.onDragEnter=this.onDragEnter.bind(this)}styleFont(e){return this.props.font&&(this.selfRef.current&&(this.props.font.size&&this.selfRef.current.style.setProperty("--font-size",this.props.font.size),this.props.font.family&&this.selfRef.current.style.setProperty("--font-family",this.props.font.family)),this.props.font.style&&(e.fontStyle=this.props.font.style),this.props.font.weight&&(e.fontWeight=this.props.font.weight)),e}doAction(e){if(this.props.onAction!==void 0){const t=this.props.onAction(e);return t!==void 0?this.props.model.doAction(t):void 0}else return this.props.model.doAction(e)}componentDidMount(){this.updateRect(),this.updateLayoutMetrics(),this.currentDocument=this.selfRef.current.ownerDocument,this.currentWindow=this.currentDocument.defaultView,this.resizeObserver=new ResizeObserver(e=>{this.updateRect(e[0].contentRect)}),this.resizeObserver.observe(this.selfRef.current)}componentDidUpdate(){this.updateLayoutMetrics(),this.props.model!==this.previousModel&&(this.previousModel!==void 0&&this.previousModel._setChangeListener(void 0),this.props.model._setChangeListener(this.onModelChange),this.previousModel=this.props.model)}getCurrentDocument(){return this.currentDocument}getDomRect(){return this.selfRef.current.getBoundingClientRect()}getRootDiv(){return this.selfRef.current}isSupportsPopout(){return this.supportsPopout}isRealtimeResize(){var e;return(e=this.props.realtimeResize)!==null&&e!==void 0?e:!1}onTabDrag(...e){var t,i;return(i=(t=this.props).onTabDrag)===null||i===void 0?void 0:i.call(t,...e)}getPopoutURL(){return this.popoutURL}componentWillUnmount(){var e;(e=this.resizeObserver)===null||e===void 0||e.unobserve(this.selfRef.current)}setEditingTab(e){this.setState({editingTab:e})}getEditingTab(){return this.state.editingTab}render(){if(!this.selfRef.current)return w.createElement("div",{ref:this.selfRef,className:this.getClassName(he.CLASSES.FLEXLAYOUT__LAYOUT)},this.metricsElements());this.props.model._setPointerFine(window&&window.matchMedia&&window.matchMedia("(pointer: fine)").matches);const e=[],t=[],i=[],o={},s=[],d={headerBarSize:this.state.calculatedHeaderBarSize,tabBarSize:this.state.calculatedTabBarSize,borderBarSize:this.state.calculatedBorderBarSize};this.props.model._setShowHiddenBorder(this.state.showHiddenBorder),this.centerRect=this.props.model._layout(this.state.rect,d),this.renderBorder(this.props.model.getBorderSet(),e,o,i,s),this.renderChildren("",this.props.model.getRoot(),t,o,i,s);const T=[],p={};for(const h of this.tabIds)o[h]&&(T.push(h),p[h]=h);this.tabIds=T;for(const h of Object.keys(o))p[h]||this.tabIds.push(h);const A=[];if(this.state.showEdges){const h=this.centerRect,c=this.edgeRectLength,S=this.edgeRectWidth,r=this.edgeRectLength/2,n=this.getClassName(he.CLASSES.FLEXLAYOUT__EDGE_RECT),a=50;A.push(w.createElement("div",{key:"North",style:{top:h.y,left:h.x+h.width/2-r,width:c,height:S,borderBottomLeftRadius:a,borderBottomRightRadius:a},className:n})),A.push(w.createElement("div",{key:"West",style:{top:h.y+h.height/2-r,left:h.x,width:S,height:c,borderTopRightRadius:a,borderBottomRightRadius:a},className:n})),A.push(w.createElement("div",{key:"South",style:{top:h.y+h.height-S,left:h.x+h.width/2-r,width:c,height:S,borderTopLeftRadius:a,borderTopRightRadius:a},className:n})),A.push(w.createElement("div",{key:"East",style:{top:h.y+h.height/2-r,left:h.x+h.width-S,width:S,height:c,borderTopLeftRadius:a,borderBottomLeftRadius:a},className:n}))}return w.createElement("div",{ref:this.selfRef,className:this.getClassName(he.CLASSES.FLEXLAYOUT__LAYOUT),onDragEnter:this.props.onExternalDrag?this.onDragEnter:void 0},t,this.tabIds.map(h=>o[h]),e,s,A,i,this.metricsElements(),this.state.portal)}metricsElements(){const e=this.styleFont({visibility:"hidden"});return w.createElement(w.Fragment,null,w.createElement("div",{key:"findHeaderBarSize",ref:this.findHeaderBarSizeRef,style:e,className:this.getClassName(he.CLASSES.FLEXLAYOUT__TABSET_HEADER_SIZER)},"FindHeaderBarSize"),w.createElement("div",{key:"findTabBarSize",ref:this.findTabBarSizeRef,style:e,className:this.getClassName(he.CLASSES.FLEXLAYOUT__TABSET_SIZER)},"FindTabBarSize"),w.createElement("div",{key:"findBorderBarSize",ref:this.findBorderBarSizeRef,style:e,className:this.getClassName(he.CLASSES.FLEXLAYOUT__BORDER_SIZER)},"FindBorderBarSize"))}renderBorder(e,t,i,o,s){for(const d of e.getBorders()){const T=`/border/${d.getLocation().getName()}`;if(d.isShowing()){t.push(w.createElement(jn.BorderTabSet,{key:`border_${d.getLocation().getName()}`,path:T,border:d,layout:this,iconFactory:this.props.iconFactory,titleFactory:this.props.titleFactory,icons:this.icons}));const p=d._getDrawChildren();let A=0,h=0;for(const c of p){if(c instanceof Oi.SplitterNode){let S=T+"/s";s.push(w.createElement(Si.Splitter,{key:c.getId(),layout:this,node:c,path:S}))}else if(c instanceof De.TabNode){let S=T+"/t"+h++;if(this.supportsPopout&&c.isFloating()){const r=this._getScreenRect(c);o.push(w.createElement(Li.FloatingWindow,{key:c.getId(),url:this.popoutURL,rect:r,title:c.getName(),id:c.getId(),onSetWindow:this.onSetWindow,onCloseWindow:this.onCloseWindow},w.createElement(Ni.FloatingWindowTab,{layout:this,node:c,factory:this.props.factory}))),i[c.getId()]=w.createElement(vi.TabFloating,{key:c.getId(),layout:this,path:S,node:c,selected:A===d.getSelected()})}else i[c.getId()]=w.createElement(yi.Tab,{key:c.getId(),layout:this,path:S,node:c,selected:A===d.getSelected(),factory:this.props.factory})}A++}}}}renderChildren(e,t,i,o,s,d){const T=t._getDrawChildren();let p=0,A=0,h=0;for(const c of T)if(c instanceof Oi.SplitterNode){const S=e+"/s"+p++;d.push(w.createElement(Si.Splitter,{key:c.getId(),layout:this,path:S,node:c}))}else if(c instanceof Ri.TabSetNode){const S=e+"/ts"+h++;i.push(w.createElement(Vn.TabSet,{key:c.getId(),layout:this,path:S,node:c,iconFactory:this.props.iconFactory,titleFactory:this.props.titleFactory,icons:this.icons})),this.renderChildren(S,c,i,o,s,d)}else if(c instanceof De.TabNode){const S=e+"/t"+A++,r=c.getParent().getChildren()[c.getParent().getSelected()];if(r===void 0&&console.warn("undefined selectedTab should not happen"),this.supportsPopout&&c.isFloating()){const n=this._getScreenRect(c);s.push(w.createElement(Li.FloatingWindow,{key:c.getId(),url:this.popoutURL,rect:n,title:c.getName(),id:c.getId(),onSetWindow:this.onSetWindow,onCloseWindow:this.onCloseWindow},w.createElement(Ni.FloatingWindowTab,{layout:this,node:c,factory:this.props.factory}))),o[c.getId()]=w.createElement(vi.TabFloating,{key:c.getId(),layout:this,path:S,node:c,selected:c===r})}else o[c.getId()]=w.createElement(yi.Tab,{key:c.getId(),layout:this,path:S,node:c,selected:c===r,factory:this.props.factory})}else{const S=e+(c.getOrientation()===Jn.Orientation.HORZ?"/r":"/c")+h++;this.renderChildren(S,c,i,o,s,d)}}_getScreenRect(e){const t=e.getRect().clone(),i=this.selfRef.current.getBoundingClientRect(),o=Math.min(80,this.currentWindow.outerHeight-this.currentWindow.innerHeight),s=Math.min(80,this.currentWindow.outerWidth-this.currentWindow.innerWidth);return t.x=t.x+i.x+this.currentWindow.screenX+s,t.y=t.y+i.y+this.currentWindow.screenY+o,t}addTabToTabSet(e,t){this.props.model.getNodeById(e)!==void 0&&this.doAction(Fe.Actions.addNode(t,e,le.DockLocation.CENTER,-1))}addTabToActiveTabSet(e){const t=this.props.model.getActiveTabset();t!==void 0&&this.doAction(Fe.Actions.addNode(e,t.getId(),le.DockLocation.CENTER,-1))}addTabWithDragAndDrop(e,t,i){this.fnNewNodeDropped=i,this.newTabJson=t,this.dragStart(void 0,e,De.TabNode._fromJson(t,this.props.model,!1),!0,void 0,void 0)}moveTabWithDragAndDrop(e,t){this.dragStart(void 0,t,e,!0,void 0,void 0)}addTabWithDragAndDropIndirect(e,t,i){this.fnNewNodeDropped=i,this.newTabJson=t,ve.DragDrop.instance.addGlass(this.onCancelAdd),this.dragDivText=e,this.dragDiv=this.currentDocument.createElement("div"),this.dragDiv.className=this.getClassName(he.CLASSES.FLEXLAYOUT__DRAG_RECT),this.dragDiv.addEventListener("mousedown",this.onDragDivMouseDown),this.dragDiv.addEventListener("touchstart",this.onDragDivMouseDown,{passive:!1}),this.dragRectRender(this.dragDivText,void 0,this.newTabJson,()=>{if(this.dragDiv){this.dragDiv.style.visibility="visible";const s=this.dragDiv.getBoundingClientRect(),d=new Rt.Rect(0,0,s==null?void 0:s.width,s==null?void 0:s.height);d.centerInRect(this.state.rect),this.dragDiv.setAttribute("data-layout-path","/drag-rectangle"),this.dragDiv.style.left=d.x+"px",this.dragDiv.style.top=d.y+"px"}}),this.selfRef.current.appendChild(this.dragDiv)}handleCustomTabDrag(e,t,i){var o,s,d;let T=(o=this.customDrop)===null||o===void 0?void 0:o.invalidated;const p=(s=this.customDrop)===null||s===void 0?void 0:s.callback;this.customDrop=void 0;const A=this.newTabJson||(this.dragNode instanceof De.TabNode?this.dragNode:void 0);if(A&&(e.node instanceof Ri.TabSetNode||e.node instanceof Gn.BorderNode)&&e.index===-1){const h=e.node.getSelectedNode(),c=h==null?void 0:h.getRect();if(h&&(c!=null&&c.contains(t.x,t.y))){let S;try{const r=this.onTabDrag(A,h,t.x-c.x,t.y-c.y,e.location,()=>this.onDragMove(i));r&&(S={rect:new Rt.Rect(r.x+c.x,r.y+c.y,r.width,r.height),callback:r.callback,invalidated:r.invalidated,dragging:A,over:h,x:t.x-c.x,y:t.y-c.y,location:e.location,cursor:r.cursor})}catch(r){console.error(r)}(S==null?void 0:S.callback)===p&&(T=void 0),this.customDrop=S}}this.dropInfo=e,this.outlineDiv.className=this.getClassName(this.customDrop?he.CLASSES.FLEXLAYOUT__OUTLINE_RECT:e.className),this.customDrop?this.customDrop.rect.positionElement(this.outlineDiv):e.rect.positionElement(this.outlineDiv),ve.DragDrop.instance.setGlassCursorOverride((d=this.customDrop)===null||d===void 0?void 0:d.cursor),this.outlineDiv.style.visibility="visible";try{T==null||T()}catch(h){console.error(h)}}onDragEnter(e){if(ve.DragDrop.instance.isDragging())return;const t=this.props.onExternalDrag(e);t&&(this.fnNewNodeDropped=t.onDrop,this.newTabJson=t.json,this.dragStart(e,t.dragText,De.TabNode._fromJson(t.json,this.props.model,!1),!0,void 0,void 0))}checkForBorderToShow(e,t){const i=this.props.model._getOuterInnerRects().outer,o=i.getCenter(),s=this.edgeRectWidth,d=this.edgeRectLength/2;let T=!1;this.props.model.isEnableEdgeDock()&&this.state.showHiddenBorder===le.DockLocation.CENTER&&(t>o.y-d&&t<o.y+d||e>o.x-d&&e<o.x+d)&&(T=!0);let p=le.DockLocation.CENTER;T||(e<=i.x+s?p=le.DockLocation.LEFT:e>=i.getRight()-s?p=le.DockLocation.RIGHT:t<=i.y+s?p=le.DockLocation.TOP:t>=i.getBottom()-s&&(p=le.DockLocation.BOTTOM)),p!==this.state.showHiddenBorder&&this.setState({showHiddenBorder:p})}maximize(e){this.doAction(Fe.Actions.maximizeToggle(e.getId()))}customizeTab(e,t){this.props.onRenderTab&&this.props.onRenderTab(e,t)}customizeTabSet(e,t){this.props.onRenderTabSet&&this.props.onRenderTabSet(e,t)}i18nName(e,t){let i;return this.props.i18nMapper&&(i=this.props.i18nMapper(e,t)),i===void 0&&(i=e+(t===void 0?"":t)),i}getOnRenderFloatingTabPlaceholder(){return this.props.onRenderFloatingTabPlaceholder}getShowOverflowMenu(){return this.props.onShowOverflowMenu}getTabSetPlaceHolderCallback(){return this.props.onTabSetPlaceHolder}showContextMenu(e,t){this.props.onContextMenu&&this.props.onContextMenu(e,t)}auxMouseClick(e,t){this.props.onAuxMouseClick&&this.props.onAuxMouseClick(e,t)}}g(Di,"Layout"),at.Layout=Di;const eo=g(l=>(w.useEffect(()=>{var e;(e=l.onRendered)===null||e===void 0||e.call(l)},[l]),w.createElement(w.Fragment,null,l.children)),"DragRectRenderWrapper");var nt={};Object.defineProperty(nt,"__esModule",{value:!0}),nt.BorderSet=void 0;const $t=k,to=Te();class St{constructor(e){this._model=e,this._borders=[]}static _fromJson(e,t){const i=new St(t);return i._borders=e.map(o=>to.BorderNode._fromJson(o,t)),i}getBorders(){return this._borders}_forEachNode(e){for(const t of this._borders){e(t,0);for(const i of t.getChildren())i._forEachNode(e,1)}}_toJson(){return this._borders.map(e=>e.toJson())}_layoutBorder(e,t){const i=e.outer,o=this._model.getRoot();let s=Math.max(0,i.height-o.getMinHeight()),d=Math.max(0,i.width-o.getMinWidth()),T=0,p=0,A=0,h=0;const c=this._borders.filter(n=>n.isShowing());for(const n of c){n._setAdjustedSize(n.getSize());const a=n.getSelected()!==-1;n.getLocation().getOrientation()===$t.Orientation.HORZ?(p+=n.getBorderBarSize(),a&&(d-=this._model.getSplitterSize(),p+=n.getSize(),h+=n.getSize())):(T+=n.getBorderBarSize(),a&&(s-=this._model.getSplitterSize(),T+=n.getSize(),A+=n.getSize()))}let S=0,r=!1;for(;p>d&&h>0||T>s&&A>0;){const n=c[S];if(n.getSelected()!==-1){const a=n._getAdjustedSize();p>d&&h>0&&n.getLocation().getOrientation()===$t.Orientation.HORZ&&a>0&&a>n.getMinSize()?(n._setAdjustedSize(a-1),p--,h--,r=!0):T>s&&A>0&&n.getLocation().getOrientation()===$t.Orientation.VERT&&a>0&&a>n.getMinSize()&&(n._setAdjustedSize(a-1),T--,A--,r=!0)}if(S=(S+1)%c.length,S===0)if(r)r=!1;else break}for(const n of c)e.outer=n._layoutBorderOuter(e.outer,t);e.inner=e.outer;for(const n of c)e.inner=n._layoutBorderInner(e.inner,t);return e}_findDropTargetNode(e,t,i){for(const o of this._borders)if(o.isShowing()){const s=o.canDrop(e,t,i);if(s!==void 0)return s}}}g(St,"BorderSet"),nt.BorderSet=St;var wi={};Object.defineProperty(wi,"__esModule",{value:!0});var Bi={};Object.defineProperty(Bi,"__esModule",{value:!0});var Ci={};Object.defineProperty(Ci,"__esModule",{value:!0});var yt={};Object.defineProperty(yt,"__esModule",{value:!0}),yt.Model=void 0;const C=_e,io=fe,Gt=re,Mi=k,Ii=G,Q=ie,ot=Te(),xi=nt,Pe=Dt(),we=Oe,ue=Re(),jt=wt();class ee{constructor(){this._borderRects={inner:Ii.Rect.empty(),outer:Ii.Rect.empty()},this._attributes={},this._idMap={},this._borders=new xi.BorderSet(this),this._pointerFine=!0,this._showHiddenBorder=Gt.DockLocation.CENTER}static fromJson(e){const t=new ee;return ee._attributeDefinitions.fromJson(e.global,t._attributes),e.borders&&(t._borders=xi.BorderSet._fromJson(e.borders,t)),t._root=Pe.RowNode._fromJson(e.layout,t),t._tidy(),t}static _createAttributeDefinitions(){const e=new io.AttributeDefinitions;return e.add("legacyOverflowMenu",!1).setType(C.Attribute.BOOLEAN),e.add("splitterSize",-1).setType(C.Attribute.NUMBER),e.add("splitterExtra",0).setType(C.Attribute.NUMBER),e.add("enableEdgeDock",!0).setType(C.Attribute.BOOLEAN),e.add("rootOrientationVertical",!1).setType(C.Attribute.BOOLEAN),e.add("marginInsets",{top:0,right:0,bottom:0,left:0}).setType("IInsets"),e.add("enableUseVisibility",!1).setType(C.Attribute.BOOLEAN),e.add("tabEnableClose",!0).setType(C.Attribute.BOOLEAN),e.add("tabCloseType",1).setType("ICloseType"),e.add("tabEnableFloat",!1).setType(C.Attribute.BOOLEAN),e.add("tabEnableDrag",!0).setType(C.Attribute.BOOLEAN),e.add("tabEnableRename",!0).setType(C.Attribute.BOOLEAN),e.add("tabClassName",void 0).setType(C.Attribute.STRING),e.add("tabIcon",void 0).setType(C.Attribute.STRING),e.add("tabEnableRenderOnDemand",!0).setType(C.Attribute.BOOLEAN),e.add("tabDragSpeed",.3).setType(C.Attribute.NUMBER),e.add("tabBorderWidth",-1).setType(C.Attribute.NUMBER),e.add("tabBorderHeight",-1).setType(C.Attribute.NUMBER),e.add("tabSetEnableDeleteWhenEmpty",!0).setType(C.Attribute.BOOLEAN),e.add("tabSetEnableDrop",!0).setType(C.Attribute.BOOLEAN),e.add("tabSetEnableDrag",!0).setType(C.Attribute.BOOLEAN),e.add("tabSetEnableDivide",!0).setType(C.Attribute.BOOLEAN),e.add("tabSetEnableMaximize",!0).setType(C.Attribute.BOOLEAN),e.add("tabSetEnableClose",!1).setType(C.Attribute.BOOLEAN),e.add("tabSetAutoSelectTab",!0).setType(C.Attribute.BOOLEAN),e.add("tabSetClassNameTabStrip",void 0).setType(C.Attribute.STRING),e.add("tabSetClassNameHeader",void 0).setType(C.Attribute.STRING),e.add("tabSetEnableTabStrip",!0).setType(C.Attribute.BOOLEAN),e.add("tabSetHeaderHeight",0).setType(C.Attribute.NUMBER),e.add("tabSetTabStripHeight",0).setType(C.Attribute.NUMBER),e.add("tabSetMarginInsets",{top:0,right:0,bottom:0,left:0}).setType("IInsets"),e.add("tabSetBorderInsets",{top:0,right:0,bottom:0,left:0}).setType("IInsets"),e.add("tabSetTabLocation","top").setType("ITabLocation"),e.add("tabSetMinWidth",0).setType(C.Attribute.NUMBER),e.add("tabSetMinHeight",0).setType(C.Attribute.NUMBER),e.add("borderSize",200).setType(C.Attribute.NUMBER),e.add("borderMinSize",0).setType(C.Attribute.NUMBER),e.add("borderBarSize",0).setType(C.Attribute.NUMBER),e.add("borderEnableDrop",!0).setType(C.Attribute.BOOLEAN),e.add("borderAutoSelectTabWhenOpen",!0).setType(C.Attribute.BOOLEAN),e.add("borderAutoSelectTabWhenClosed",!1).setType(C.Attribute.BOOLEAN),e.add("borderClassName",void 0).setType(C.Attribute.STRING),e.add("borderEnableAutoHide",!1).setType(C.Attribute.BOOLEAN),e}_setChangeListener(e){this._changeListener=e}getActiveTabset(){if(this._activeTabSet&&this.getNodeById(this._activeTabSet.getId()))return this._activeTabSet}_getShowHiddenBorder(){return this._showHiddenBorder}_setShowHiddenBorder(e){this._showHiddenBorder=e}_setActiveTabset(e){this._activeTabSet=e}getMaximizedTabset(){return this._maximizedTabSet}_setMaximizedTabset(e){this._maximizedTabSet=e}getRoot(){return this._root}isRootOrientationVertical(){return this._attributes.rootOrientationVertical}isUseVisibility(){return this._attributes.enableUseVisibility}getBorderSet(){return this._borders}_getOuterInnerRects(){return this._borderRects}_getPointerFine(){return this._pointerFine}_setPointerFine(e){this._pointerFine=e}visitNodes(e){this._borders._forEachNode(e),this._root._forEachNode(e,0)}getNodeById(e){return this._idMap[e]}doAction(e){let t;switch(e.type){case Q.Actions.ADD_NODE:{const i=new we.TabNode(this,e.data.json,!0),o=this._idMap[e.data.toNode];(o instanceof ue.TabSetNode||o instanceof ot.BorderNode||o instanceof Pe.RowNode)&&(o.drop(i,Gt.DockLocation.getByName(e.data.location),e.data.index,e.data.select),t=i);break}case Q.Actions.MOVE_NODE:{const i=this._idMap[e.data.fromNode];if(i instanceof we.TabNode||i instanceof ue.TabSetNode){const o=this._idMap[e.data.toNode];(o instanceof ue.TabSetNode||o instanceof ot.BorderNode||o instanceof Pe.RowNode)&&o.drop(i,Gt.DockLocation.getByName(e.data.location),e.data.index,e.data.select)}break}case Q.Actions.DELETE_TAB:{const i=this._idMap[e.data.node];i instanceof we.TabNode&&i._delete();break}case Q.Actions.DELETE_TABSET:{const i=this._idMap[e.data.node];if(i instanceof ue.TabSetNode){const o=[...i.getChildren()];for(let s=0;s<o.length;s++){const d=o[s];d.isEnableClose()&&d._delete()}i.getChildren().length===0&&i._delete(),this._tidy()}break}case Q.Actions.FLOAT_TAB:{const i=this._idMap[e.data.node];i instanceof we.TabNode&&(i._setFloating(!0),(0,jt.adjustSelectedIndexAfterFloat)(i));break}case Q.Actions.UNFLOAT_TAB:{const i=this._idMap[e.data.node];i instanceof we.TabNode&&(i._setFloating(!1),(0,jt.adjustSelectedIndexAfterDock)(i));break}case Q.Actions.RENAME_TAB:{const i=this._idMap[e.data.node];i instanceof we.TabNode&&i._setName(e.data.text);break}case Q.Actions.SELECT_TAB:{const i=this._idMap[e.data.tabNode];if(i instanceof we.TabNode){const o=i.getParent(),s=o.getChildren().indexOf(i);o instanceof ot.BorderNode?o.getSelected()===s?o._setSelected(-1):o._setSelected(s):o instanceof ue.TabSetNode&&(o.getSelected()!==s&&o._setSelected(s),this._activeTabSet=o)}break}case Q.Actions.SET_ACTIVE_TABSET:{const i=this._idMap[e.data.tabsetNode];i instanceof ue.TabSetNode&&(this._activeTabSet=i);break}case Q.Actions.ADJUST_SPLIT:{const i=this._idMap[e.data.node1],o=this._idMap[e.data.node2];(i instanceof ue.TabSetNode||i instanceof Pe.RowNode)&&(o instanceof ue.TabSetNode||o instanceof Pe.RowNode)&&(this._adjustSplitSide(i,e.data.weight1,e.data.pixelWidth1),this._adjustSplitSide(o,e.data.weight2,e.data.pixelWidth2));break}case Q.Actions.ADJUST_BORDER_SPLIT:{const i=this._idMap[e.data.node];i instanceof ot.BorderNode&&i._setSize(e.data.pos);break}case Q.Actions.MAXIMIZE_TOGGLE:{const i=this._idMap[e.data.node];i instanceof ue.TabSetNode&&(i===this._maximizedTabSet?this._maximizedTabSet=void 0:(this._maximizedTabSet=i,this._activeTabSet=i));break}case Q.Actions.UPDATE_MODEL_ATTRIBUTES:{this._updateAttrs(e.data.json);break}case Q.Actions.UPDATE_NODE_ATTRIBUTES:{this._idMap[e.data.node]._updateAttrs(e.data.json);break}}return this._updateIdMap(),this._changeListener!==void 0&&this._changeListener(e),t}_updateIdMap(){this._idMap={},this.visitNodes(e=>this._idMap[e.getId()]=e)}_adjustSplitSide(e,t,i){e._setWeight(t),e.getWidth()!=null&&e.getOrientation()===Mi.Orientation.VERT?e._updateAttrs({width:i}):e.getHeight()!=null&&e.getOrientation()===Mi.Orientation.HORZ&&e._updateAttrs({height:i})}toJson(){const e={};return ee._attributeDefinitions.toJson(e,this._attributes),this.visitNodes(t=>{t._fireEvent("save",void 0)}),{global:e,borders:this._borders._toJson(),layout:this._root.toJson()}}getSplitterSize(){let e=this._attributes.splitterSize;return e===-1&&(e=this._pointerFine?8:12),e}isLegacyOverflowMenu(){return this._attributes.legacyOverflowMenu}getSplitterExtra(){return this._attributes.splitterExtra}isEnableEdgeDock(){return this._attributes.enableEdgeDock}_addNode(e){const t=e.getId();if(this._idMap[t]!==void 0)throw new Error(`Error: each node must have a unique id, duplicate id:${e.getId()}`);e.getType()!=="splitter"&&(this._idMap[t]=e)}_layout(e,t){var i;return this._borderRects=this._borders._layoutBorder({outer:e,inner:e},t),e=this._borderRects.inner.removeInsets(this._getAttribute("marginInsets")),(i=this._root)===null||i===void 0||i.calcMinSize(),this._root._layout(e,t),e}_findDropTargetNode(e,t,i){let o=this._root._findDropTargetNode(e,t,i);return o===void 0&&(o=this._borders._findDropTargetNode(e,t,i)),o}_tidy(){this._root._tidy()}_updateAttrs(e){ee._attributeDefinitions.update(e,this._attributes)}_nextUniqueId(){return"#"+(0,jt.randomUUID)()}_getAttribute(e){return this._attributes[e]}setOnAllowDrop(e){this._onAllowDrop=e}_getOnAllowDrop(){return this._onAllowDrop}setOnCreateTabSet(e){this._onCreateTabSet=e}_getOnCreateTabSet(){return this._onCreateTabSet}static toTypescriptInterfaces(){console.log(ee._attributeDefinitions.toTypescriptInterface("Global",void 0)),console.log(Pe.RowNode.getAttributeDefinitions().toTypescriptInterface("Row",ee._attributeDefinitions)),console.log(ue.TabSetNode.getAttributeDefinitions().toTypescriptInterface("TabSet",ee._attributeDefinitions)),console.log(we.TabNode.getAttributeDefinitions().toTypescriptInterface("Tab",ee._attributeDefinitions)),console.log(ot.BorderNode.getAttributeDefinitions().toTypescriptInterface("Border",ee._attributeDefinitions))}toString(){return JSON.stringify(this.toJson())}}g(ee,"Model"),yt.Model=ee,ee._attributeDefinitions=ee._createAttributeDefinitions(),function(l){var e=xe&&xe.__createBinding||(Object.create?function(i,o,s,d){d===void 0&&(d=s);var T=Object.getOwnPropertyDescriptor(o,s);(!T||("get"in T?!o.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(i,d,T)}:function(i,o,s,d){d===void 0&&(d=s),i[d]=o[s]}),t=xe&&xe.__exportStar||function(i,o){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,i,s)};Object.defineProperty(l,"__esModule",{value:!0}),t(at,l),t(ke,l),t(ie,l),t(Te(),l),t(nt,l),t(ht,l),t(wi,l),t(Bi,l),t(Ci,l),t(yt,l),t(ge,l),t(Dt(),l),t(Ie,l),t(Oe,l),t(Re(),l),t(re,l),t(Ce,l),t(Me,l),t(be,l),t(k,l),t(G,l),t(X,l)}(He);var no=Object.defineProperty,Vt=g((l,e)=>no(l,"name",{value:e,configurable:!0}),"s");const{jQuery:oo}=window;oo(document).ready(function(l){const{Tangible:e,wp:t}=window,i=t.element,{createRoot:o}=i;e.TemplateSystem;const s=document.createElement("div");s.id="tangible-template-system-ide",document.body.prepend(s);const d=o(s),T=He.Model.fromJson({global:{},borders:[],layout:{type:"row",weight:100,children:[{type:"row",weight:70,children:[{type:"tabset",weight:80,children:[{type:"tab",name:"Template",component:"button",enableClose:!1,enableRename:!1,enableFloat:!1},{type:"tab",name:"Style",component:"button",enableClose:!1,enableRename:!1,enableFloat:!1},{type:"tab",name:"Script",component:"button",enableClose:!1,enableRename:!1,enableFloat:!1}]}]},{type:"row",weight:30,children:[{type:"tabset",weight:100,children:[{type:"tab",name:"Preview",component:"button",enableClose:!1,enableRename:!1,enableFloat:!1},{type:"tab",enableClose:!1,name:"Assets",component:"grid"},{type:"tab",enableClose:!1,name:"Location",component:"grid"},{type:"tab",enableClose:!1,name:"Controls",component:"grid"}]}]}]}}),p=Vt(c=>{if(c.getComponent()==="button")return t.element.createElement("button",null,c.getName())},"layoutFactory"),A=Vt(c=>c,"onAction"),h=Vt(c=>{},"onModelChange");d.render(t.element.createElement(t.element.Fragment,null,t.element.createElement(He.Layout,{model:T,factory:p,onAction:A,onModelChange:h})))})})();
//# sourceMappingURL=ide.min.js.map
